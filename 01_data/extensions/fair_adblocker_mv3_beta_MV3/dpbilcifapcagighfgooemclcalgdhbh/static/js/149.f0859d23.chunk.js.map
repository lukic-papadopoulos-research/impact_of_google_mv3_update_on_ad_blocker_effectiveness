{"version":3,"file":"static/js/149.f0859d23.chunk.js","mappings":"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,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,QAAS,CACL,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,QAAS,CACL,IACA,IACA,KACA,MAEJ,QAAS,CACL,IACA,IACA,KACA,MAEJ,QAAS,CACL,IACA,IACA,KACA,MAEJ,QAAS,CACL,IACA,IACA,KACA,MAEJ,QAAS,CACL,IACA,IACA,KACA,MAEJ,QAAS,CACL,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KACA,MAEJ,GAAM,CACF,IACA,IACA,KAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,MAEJ,GAAM,CACF,IACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,SAAU,CACN,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,IACA,MAEJ,GAAM,CACF,IACA,KACA,KACA,KAEJ,SAAU,CACN,IACA,KACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KACA,KAEJ,GAAM,CACF,IACA,KACA,KACA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AANA,GACCA,GAAK,KAAUA,GAAK,KACf,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,KACf,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,KAC7B,CEvvCA,SAAS4I,GAAcC,GACnBA,EAAIC,SAAQ,SAAU1S,GAElB,UADOA,EAAG4L,SACNjL,EAAgBX,IAAOa,EAAgBb,GACvC,IAAK,IAAImJ,KAAKnJ,EAAG4E,eACN5E,EAAG4E,QAAQuE,GAAGyC,SACrB4G,GAAcxS,EAAG4E,QAAQuE,GAAG8C,YAG3B5L,EAAgBL,IAAOmB,EAAiBnB,EAAGyE,SAG1ClE,EAAcP,IAAOS,EAAcT,KACzCoB,EAAm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","sources":["../node_modules/@formatjs/icu-messageformat-parser/lib/error.js","../node_modules/@formatjs/icu-messageformat-parser/lib/types.js","../node_modules/@semcore/d3-chart/src/a11y/focus.ts","../node_modules/@formatjs/icu-messageformat-parser/lib/regex.generated.js","../node_modules/@formatjs/icu-skeleton-parser/lib/date-time.js","../node_modules/@formatjs/icu-skeleton-parser/lib/regex.generated.js","../node_modules/@formatjs/icu-skeleton-parser/lib/number.js","../node_modules/@formatjs/icu-messageformat-parser/lib/time-data.generated.js","../node_modules/@formatjs/icu-messageformat-parser/lib/parser.js","../node_modules/@formatjs/icu-messageformat-parser/lib/date-time-pattern-generator.js","../node_modules/@formatjs/icu-messageformat-parser/lib/index.js","../node_modules/@formatjs/fast-memoize/lib/index.js","../node_modules/intl-messageformat/lib/src/error.js","../node_modules/intl-messageformat/lib/src/formatters.js","../node_modules/intl-messageformat/lib/src/core.js","../node_modules/@formatjs/intl/lib/src/error.js","../node_modules/@formatjs/intl/lib/src/utils.js","../node_modules/@formatjs/intl/lib/src/number.js","../node_modules/@formatjs/intl/lib/src/relativeTime.js","../node_modules/@formatjs/intl/lib/src/dateTime.js","../node_modules/@formatjs/intl/lib/src/plural.js","../node_modules/@formatjs/intl/lib/src/message.js","../node_modules/@formatjs/ecma402-abstract/lib/utils.js","../node_modules/@formatjs/intl/lib/src/list.js","../node_modules/@formatjs/intl/lib/src/displayName.js","../node_modules/@formatjs/intl/lib/src/create-intl.js","../node_modules/@semcore/d3-chart/src/a11y/intl.ts","../node_modules/@semcore/d3-chart/src/a11y/serialize.ts","../node_modules/@semcore/d3-chart/src/a11y/insights.ts","../node_modules/@semcore/d3-chart/src/a11y/bezier.ts","../node_modules/@semcore/d3-chart/src/a11y/summarize.ts","../node_modules/@semcore/d3-chart/src/a11y/translations/view/__intergalactic-dynamic-locales.ts","../node_modules/@semcore/d3-chart/src/a11y/PlotA11yView.tsx"],"sourcesContent":["export var ErrorKind;\n(function (ErrorKind) {\n    /** Argument is unclosed (e.g. `{0`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_CLOSING_BRACE\"] = 1] = \"EXPECT_ARGUMENT_CLOSING_BRACE\";\n    /** Argument is empty (e.g. `{}`). */\n    ErrorKind[ErrorKind[\"EMPTY_ARGUMENT\"] = 2] = \"EMPTY_ARGUMENT\";\n    /** Argument is malformed (e.g. `{foo!}``) */\n    ErrorKind[ErrorKind[\"MALFORMED_ARGUMENT\"] = 3] = \"MALFORMED_ARGUMENT\";\n    /** Expect an argument type (e.g. `{foo,}`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_TYPE\"] = 4] = \"EXPECT_ARGUMENT_TYPE\";\n    /** Unsupported argument type (e.g. `{foo,foo}`) */\n    ErrorKind[ErrorKind[\"INVALID_ARGUMENT_TYPE\"] = 5] = \"INVALID_ARGUMENT_TYPE\";\n    /** Expect an argument style (e.g. `{foo, number, }`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_STYLE\"] = 6] = \"EXPECT_ARGUMENT_STYLE\";\n    /** The number skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_NUMBER_SKELETON\"] = 7] = \"INVALID_NUMBER_SKELETON\";\n    /** The date time skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_DATE_TIME_SKELETON\"] = 8] = \"INVALID_DATE_TIME_SKELETON\";\n    /** Exepct a number skeleton following the `::` (e.g. `{foo, number, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_NUMBER_SKELETON\"] = 9] = \"EXPECT_NUMBER_SKELETON\";\n    /** Exepct a date time skeleton following the `::` (e.g. `{foo, date, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_DATE_TIME_SKELETON\"] = 10] = \"EXPECT_DATE_TIME_SKELETON\";\n    /** Unmatched apostrophes in the argument style (e.g. `{foo, number, 'test`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\"] = 11] = \"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\";\n    /** Missing select argument options (e.g. `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_OPTIONS\"] = 12] = \"EXPECT_SELECT_ARGUMENT_OPTIONS\";\n    /** Expecting an offset value in `plural` or `selectordinal` argument (e.g `{foo, plural, offset}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 13] = \"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Offset value in `plural` or `selectordinal` is invalid (e.g. `{foo, plural, offset: x}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 14] = \"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Expecting a selector in `select` argument (e.g `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR\"] = 15] = \"EXPECT_SELECT_ARGUMENT_SELECTOR\";\n    /** Expecting a selector in `plural` or `selectordinal` argument (e.g `{foo, plural}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR\"] = 16] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR\";\n    /** Expecting a message fragment after the `select` selector (e.g. `{foo, select, apple}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\"] = 17] = \"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\";\n    /**\n     * Expecting a message fragment after the `plural` or `selectordinal` selector\n     * (e.g. `{foo, plural, one}`)\n     */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\"] = 18] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\";\n    /** Selector in `plural` or `selectordinal` is malformed (e.g. `{foo, plural, =x {#}}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_SELECTOR\"] = 19] = \"INVALID_PLURAL_ARGUMENT_SELECTOR\";\n    /**\n     * Duplicate selectors in `plural` or `selectordinal` argument.\n     * (e.g. {foo, plural, one {#} one {#}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\"] = 20] = \"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\";\n    /** Duplicate selectors in `select` argument.\n     * (e.g. {foo, select, apple {apple} apple {apple}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_SELECT_ARGUMENT_SELECTOR\"] = 21] = \"DUPLICATE_SELECT_ARGUMENT_SELECTOR\";\n    /** Plural or select argument option must have `other` clause. */\n    ErrorKind[ErrorKind[\"MISSING_OTHER_CLAUSE\"] = 22] = \"MISSING_OTHER_CLAUSE\";\n    /** The tag is malformed. (e.g. `<bold!>foo</bold!>) */\n    ErrorKind[ErrorKind[\"INVALID_TAG\"] = 23] = \"INVALID_TAG\";\n    /** The tag name is invalid. (e.g. `<123>foo</123>`) */\n    ErrorKind[ErrorKind[\"INVALID_TAG_NAME\"] = 25] = \"INVALID_TAG_NAME\";\n    /** The closing tag does not match the opening tag. (e.g. `<bold>foo</italic>`) */\n    ErrorKind[ErrorKind[\"UNMATCHED_CLOSING_TAG\"] = 26] = \"UNMATCHED_CLOSING_TAG\";\n    /** The opening tag has unmatched closing tag. (e.g. `<bold>foo`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_TAG\"] = 27] = \"UNCLOSED_TAG\";\n})(ErrorKind || (ErrorKind = {}));\n","export var TYPE;\n(function (TYPE) {\n    /**\n     * Raw text\n     */\n    TYPE[TYPE[\"literal\"] = 0] = \"literal\";\n    /**\n     * Variable w/o any format, e.g `var` in `this is a {var}`\n     */\n    TYPE[TYPE[\"argument\"] = 1] = \"argument\";\n    /**\n     * Variable w/ number format\n     */\n    TYPE[TYPE[\"number\"] = 2] = \"number\";\n    /**\n     * Variable w/ date format\n     */\n    TYPE[TYPE[\"date\"] = 3] = \"date\";\n    /**\n     * Variable w/ time format\n     */\n    TYPE[TYPE[\"time\"] = 4] = \"time\";\n    /**\n     * Variable w/ select format\n     */\n    TYPE[TYPE[\"select\"] = 5] = \"select\";\n    /**\n     * Variable w/ plural format\n     */\n    TYPE[TYPE[\"plural\"] = 6] = \"plural\";\n    /**\n     * Only possible within plural argument.\n     * This is the `#` symbol that will be substituted with the count.\n     */\n    TYPE[TYPE[\"pound\"] = 7] = \"pound\";\n    /**\n     * XML-like tag\n     */\n    TYPE[TYPE[\"tag\"] = 8] = \"tag\";\n})(TYPE || (TYPE = {}));\nexport var SKELETON_TYPE;\n(function (SKELETON_TYPE) {\n    SKELETON_TYPE[SKELETON_TYPE[\"number\"] = 0] = \"number\";\n    SKELETON_TYPE[SKELETON_TYPE[\"dateTime\"] = 1] = \"dateTime\";\n})(SKELETON_TYPE || (SKELETON_TYPE = {}));\n/**\n * Type Guards\n */\nexport function isLiteralElement(el) {\n    return el.type === TYPE.literal;\n}\nexport function isArgumentElement(el) {\n    return el.type === TYPE.argument;\n}\nexport function isNumberElement(el) {\n    return el.type === TYPE.number;\n}\nexport function isDateElement(el) {\n    return el.type === TYPE.date;\n}\nexport function isTimeElement(el) {\n    return el.type === TYPE.time;\n}\nexport function isSelectElement(el) {\n    return el.type === TYPE.select;\n}\nexport function isPluralElement(el) {\n    return el.type === TYPE.plural;\n}\nexport function isPoundElement(el) {\n    return el.type === TYPE.pound;\n}\nexport function isTagElement(el) {\n    return el.type === TYPE.tag;\n}\nexport function isNumberSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.number);\n}\nexport function isDateTimeSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.dateTime);\n}\nexport function createLiteralElement(value) {\n    return {\n        type: TYPE.literal,\n        value: value,\n    };\n}\nexport function createNumberElement(value, style) {\n    return {\n        type: TYPE.number,\n        value: value,\n        style: style,\n    };\n}\n","const isFocusable = (element: Element) => {\n  const tabIndex = element.getAttribute('tabindex');\n  if (tabIndex) {\n    const tabIndexValue = parseInt(tabIndex, 10);\n    if (!isNaN(tabIndexValue) && tabIndexValue >= 0) return element;\n  }\n\n  const { tagName } = element;\n\n  if ('INPUT' === tagName) return !element.getAttribute('disabled');\n  if ('A' === tagName || 'AREA' === tagName) return element.hasAttribute('href');\n  if ('BODY' === tagName || 'IFRAME' === tagName) return true;\n};\n\n// eslint-disable-next-line ssr-friendly/no-dom-globals-in-module-scope\ntype FocusableElement = Element & { focus: () => void };\n\nexport const heavyFindNextFocusableElement = (\n  base: Element,\n  trace: Map<Element, true> = new Map(),\n): FocusableElement | null => {\n  trace.set(base, true);\n  let sibling = base.nextElementSibling;\n  if (sibling) {\n    trace.set(sibling, true);\n    for (let i = 0; i < sibling.children.length; i++) {\n      const child = sibling.children.item(i);\n      if (!child) continue;\n      if (trace.has(child)) continue;\n      if (isFocusable(child)) return child as FocusableElement;\n      const childInnerResult = heavyFindNextFocusableElement(child, trace);\n      if (childInnerResult) return childInnerResult;\n    }\n    while (sibling) {\n      if (isFocusable(sibling)) return sibling as FocusableElement;\n      if (!trace.has(sibling)) {\n        const siblingInnerResult = heavyFindNextFocusableElement(sibling, trace);\n        if (siblingInnerResult) return siblingInnerResult;\n      }\n      sibling = sibling.nextElementSibling;\n    }\n  }\n\n  if (!base.parentElement || trace.has(base.parentElement)) return null;\n\n  return heavyFindNextFocusableElement(base.parentElement, trace);\n};\n","// @generated from regex-gen.ts\nexport var SPACE_SEPARATOR_REGEX = /[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/;\n","/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nexport function parseDateTimeSkeleton(skeleton) {\n    var result = {};\n    skeleton.replace(DATE_TIME_REGEX, function (match) {\n        var len = match.length;\n        switch (match[0]) {\n            // Era\n            case 'G':\n                result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n                break;\n            // Year\n            case 'y':\n                result.year = len === 2 ? '2-digit' : 'numeric';\n                break;\n            case 'Y':\n            case 'u':\n            case 'U':\n            case 'r':\n                throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');\n            // Quarter\n            case 'q':\n            case 'Q':\n                throw new RangeError('`q/Q` (quarter) patterns are not supported');\n            // Month\n            case 'M':\n            case 'L':\n                result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n                break;\n            // Week\n            case 'w':\n            case 'W':\n                throw new RangeError('`w/W` (week) patterns are not supported');\n            case 'd':\n                result.day = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'D':\n            case 'F':\n            case 'g':\n                throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');\n            // Weekday\n            case 'E':\n                result.weekday = len === 4 ? 'short' : len === 5 ? 'narrow' : 'short';\n                break;\n            case 'e':\n                if (len < 4) {\n                    throw new RangeError('`e..eee` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            case 'c':\n                if (len < 4) {\n                    throw new RangeError('`c..ccc` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            // Period\n            case 'a': // AM, PM\n                result.hour12 = true;\n                break;\n            case 'b': // am, pm, noon, midnight\n            case 'B': // flexible day periods\n                throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');\n            // Hour\n            case 'h':\n                result.hourCycle = 'h12';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'H':\n                result.hourCycle = 'h23';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'K':\n                result.hourCycle = 'h11';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'k':\n                result.hourCycle = 'h24';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'j':\n            case 'J':\n            case 'C':\n                throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n            // Minute\n            case 'm':\n                result.minute = ['numeric', '2-digit'][len - 1];\n                break;\n            // Second\n            case 's':\n                result.second = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'S':\n            case 'A':\n                throw new RangeError('`S/A` (second) patterns are not supported, use `s` instead');\n            // Zone\n            case 'z': // 1..3, 4: specific non-location format\n                result.timeZoneName = len < 4 ? 'short' : 'long';\n                break;\n            case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n            case 'O': // 1, 4: miliseconds in day short, long\n            case 'v': // 1, 4: generic non-location format\n            case 'V': // 1, 2, 3, 4: time zone ID or city\n            case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n            case 'x': // 1, 2, 3, 4: The ISO8601 varios formats\n                throw new RangeError('`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead');\n        }\n        return '';\n    });\n    return result;\n}\n","// @generated from regex-gen.ts\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/i;\n","import { __assign } from \"tslib\";\nimport { WHITE_SPACE_REGEX } from './regex.generated';\nexport function parseNumberSkeletonFromString(skeleton) {\n    if (skeleton.length === 0) {\n        throw new Error('Number skeleton cannot be empty');\n    }\n    // Parse the skeleton\n    var stringTokens = skeleton\n        .split(WHITE_SPACE_REGEX)\n        .filter(function (x) { return x.length > 0; });\n    var tokens = [];\n    for (var _i = 0, stringTokens_1 = stringTokens; _i < stringTokens_1.length; _i++) {\n        var stringToken = stringTokens_1[_i];\n        var stemAndOptions = stringToken.split('/');\n        if (stemAndOptions.length === 0) {\n            throw new Error('Invalid number skeleton');\n        }\n        var stem = stemAndOptions[0], options = stemAndOptions.slice(1);\n        for (var _a = 0, options_1 = options; _a < options_1.length; _a++) {\n            var option = options_1[_a];\n            if (option.length === 0) {\n                throw new Error('Invalid number skeleton');\n            }\n        }\n        tokens.push({ stem: stem, options: options });\n    }\n    return tokens;\n}\nfunction icuUnitToEcma(unit) {\n    return unit.replace(/^(.*?)-/, '');\n}\nvar FRACTION_PRECISION_REGEX = /^\\.(?:(0+)(\\*)?|(#+)|(0+)(#+))$/g;\nvar SIGNIFICANT_PRECISION_REGEX = /^(@+)?(\\+|#+)?[rs]?$/g;\nvar INTEGER_WIDTH_REGEX = /(\\*)(0+)|(#+)(0+)|(0+)/g;\nvar CONCISE_INTEGER_WIDTH_REGEX = /^(0+)$/;\nfunction parseSignificantPrecision(str) {\n    var result = {};\n    if (str[str.length - 1] === 'r') {\n        result.roundingPriority = 'morePrecision';\n    }\n    else if (str[str.length - 1] === 's') {\n        result.roundingPriority = 'lessPrecision';\n    }\n    str.replace(SIGNIFICANT_PRECISION_REGEX, function (_, g1, g2) {\n        // @@@ case\n        if (typeof g2 !== 'string') {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits = g1.length;\n        }\n        // @@@+ case\n        else if (g2 === '+') {\n            result.minimumSignificantDigits = g1.length;\n        }\n        // .### case\n        else if (g1[0] === '#') {\n            result.maximumSignificantDigits = g1.length;\n        }\n        // .@@## or .@@@ case\n        else {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits =\n                g1.length + (typeof g2 === 'string' ? g2.length : 0);\n        }\n        return '';\n    });\n    return result;\n}\nfunction parseSign(str) {\n    switch (str) {\n        case 'sign-auto':\n            return {\n                signDisplay: 'auto',\n            };\n        case 'sign-accounting':\n        case '()':\n            return {\n                currencySign: 'accounting',\n            };\n        case 'sign-always':\n        case '+!':\n            return {\n                signDisplay: 'always',\n            };\n        case 'sign-accounting-always':\n        case '()!':\n            return {\n                signDisplay: 'always',\n                currencySign: 'accounting',\n            };\n        case 'sign-except-zero':\n        case '+?':\n            return {\n                signDisplay: 'exceptZero',\n            };\n        case 'sign-accounting-except-zero':\n        case '()?':\n            return {\n                signDisplay: 'exceptZero',\n                currencySign: 'accounting',\n            };\n        case 'sign-never':\n        case '+_':\n            return {\n                signDisplay: 'never',\n            };\n    }\n}\nfunction parseConciseScientificAndEngineeringStem(stem) {\n    // Engineering\n    var result;\n    if (stem[0] === 'E' && stem[1] === 'E') {\n        result = {\n            notation: 'engineering',\n        };\n        stem = stem.slice(2);\n    }\n    else if (stem[0] === 'E') {\n        result = {\n            notation: 'scientific',\n        };\n        stem = stem.slice(1);\n    }\n    if (result) {\n        var signDisplay = stem.slice(0, 2);\n        if (signDisplay === '+!') {\n            result.signDisplay = 'always';\n            stem = stem.slice(2);\n        }\n        else if (signDisplay === '+?') {\n            result.signDisplay = 'exceptZero';\n            stem = stem.slice(2);\n        }\n        if (!CONCISE_INTEGER_WIDTH_REGEX.test(stem)) {\n            throw new Error('Malformed concise eng/scientific notation');\n        }\n        result.minimumIntegerDigits = stem.length;\n    }\n    return result;\n}\nfunction parseNotationOptions(opt) {\n    var result = {};\n    var signOpts = parseSign(opt);\n    if (signOpts) {\n        return signOpts;\n    }\n    return result;\n}\n/**\n * https://github.com/unicode-org/icu/blob/master/docs/userguide/format_parse/numbers/skeletons.md#skeleton-stems-and-options\n */\nexport function parseNumberSkeleton(tokens) {\n    var result = {};\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        switch (token.stem) {\n            case 'percent':\n            case '%':\n                result.style = 'percent';\n                continue;\n            case '%x100':\n                result.style = 'percent';\n                result.scale = 100;\n                continue;\n            case 'currency':\n                result.style = 'currency';\n                result.currency = token.options[0];\n                continue;\n            case 'group-off':\n            case ',_':\n                result.useGrouping = false;\n                continue;\n            case 'precision-integer':\n            case '.':\n                result.maximumFractionDigits = 0;\n                continue;\n            case 'measure-unit':\n            case 'unit':\n                result.style = 'unit';\n                result.unit = icuUnitToEcma(token.options[0]);\n                continue;\n            case 'compact-short':\n            case 'K':\n                result.notation = 'compact';\n                result.compactDisplay = 'short';\n                continue;\n            case 'compact-long':\n            case 'KK':\n                result.notation = 'compact';\n                result.compactDisplay = 'long';\n                continue;\n            case 'scientific':\n                result = __assign(__assign(__assign({}, result), { notation: 'scientific' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'engineering':\n                result = __assign(__assign(__assign({}, result), { notation: 'engineering' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'notation-simple':\n                result.notation = 'standard';\n                continue;\n            // https://github.com/unicode-org/icu/blob/master/icu4c/source/i18n/unicode/unumberformatter.h\n            case 'unit-width-narrow':\n                result.currencyDisplay = 'narrowSymbol';\n                result.unitDisplay = 'narrow';\n                continue;\n            case 'unit-width-short':\n                result.currencyDisplay = 'code';\n                result.unitDisplay = 'short';\n                continue;\n            case 'unit-width-full-name':\n                result.currencyDisplay = 'name';\n                result.unitDisplay = 'long';\n                continue;\n            case 'unit-width-iso-code':\n                result.currencyDisplay = 'symbol';\n                continue;\n            case 'scale':\n                result.scale = parseFloat(token.options[0]);\n                continue;\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n            case 'integer-width':\n                if (token.options.length > 1) {\n                    throw new RangeError('integer-width stems only accept a single optional option');\n                }\n                token.options[0].replace(INTEGER_WIDTH_REGEX, function (_, g1, g2, g3, g4, g5) {\n                    if (g1) {\n                        result.minimumIntegerDigits = g2.length;\n                    }\n                    else if (g3 && g4) {\n                        throw new Error('We currently do not support maximum integer digits');\n                    }\n                    else if (g5) {\n                        throw new Error('We currently do not support exact integer digits');\n                    }\n                    return '';\n                });\n                continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n        if (CONCISE_INTEGER_WIDTH_REGEX.test(token.stem)) {\n            result.minimumIntegerDigits = token.stem.length;\n            continue;\n        }\n        if (FRACTION_PRECISION_REGEX.test(token.stem)) {\n            // Precision\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#fraction-precision\n            // precision-integer case\n            if (token.options.length > 1) {\n                throw new RangeError('Fraction-precision stems only accept a single optional option');\n            }\n            token.stem.replace(FRACTION_PRECISION_REGEX, function (_, g1, g2, g3, g4, g5) {\n                // .000* case (before ICU67 it was .000+)\n                if (g2 === '*') {\n                    result.minimumFractionDigits = g1.length;\n                }\n                // .### case\n                else if (g3 && g3[0] === '#') {\n                    result.maximumFractionDigits = g3.length;\n                }\n                // .00## case\n                else if (g4 && g5) {\n                    result.minimumFractionDigits = g4.length;\n                    result.maximumFractionDigits = g4.length + g5.length;\n                }\n                else {\n                    result.minimumFractionDigits = g1.length;\n                    result.maximumFractionDigits = g1.length;\n                }\n                return '';\n            });\n            var opt = token.options[0];\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#trailing-zero-display\n            if (opt === 'w') {\n                result = __assign(__assign({}, result), { trailingZeroDisplay: 'stripIfInteger' });\n            }\n            else if (opt) {\n                result = __assign(__assign({}, result), parseSignificantPrecision(opt));\n            }\n            continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#significant-digits-precision\n        if (SIGNIFICANT_PRECISION_REGEX.test(token.stem)) {\n            result = __assign(__assign({}, result), parseSignificantPrecision(token.stem));\n            continue;\n        }\n        var signOpts = parseSign(token.stem);\n        if (signOpts) {\n            result = __assign(__assign({}, result), signOpts);\n        }\n        var conciseScientificAndEngineeringOpts = parseConciseScientificAndEngineeringStem(token.stem);\n        if (conciseScientificAndEngineeringOpts) {\n            result = __assign(__assign({}, result), conciseScientificAndEngineeringOpts);\n        }\n    }\n    return result;\n}\n","// @generated from time-data-gen.ts\n// prettier-ignore  \nexport var timeData = {\n    \"AX\": [\n        \"H\"\n    ],\n    \"BQ\": [\n        \"H\"\n    ],\n    \"CP\": [\n        \"H\"\n    ],\n    \"CZ\": [\n        \"H\"\n    ],\n    \"DK\": [\n        \"H\"\n    ],\n    \"FI\": [\n        \"H\"\n    ],\n    \"ID\": [\n        \"H\"\n    ],\n    \"IS\": [\n        \"H\"\n    ],\n    \"ML\": [\n        \"H\"\n    ],\n    \"NE\": [\n        \"H\"\n    ],\n    \"RU\": [\n        \"H\"\n    ],\n    \"SE\": [\n        \"H\"\n    ],\n    \"SJ\": [\n        \"H\"\n    ],\n    \"SK\": [\n        \"H\"\n    ],\n    \"AS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"BT\": [\n        \"h\",\n        \"H\"\n    ],\n    \"DJ\": [\n        \"h\",\n        \"H\"\n    ],\n    \"ER\": [\n        \"h\",\n        \"H\"\n    ],\n    \"GH\": [\n        \"h\",\n        \"H\"\n    ],\n    \"IN\": [\n        \"h\",\n        \"H\"\n    ],\n    \"LS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"PG\": [\n        \"h\",\n        \"H\"\n    ],\n    \"PW\": [\n        \"h\",\n        \"H\"\n    ],\n    \"SO\": [\n        \"h\",\n        \"H\"\n    ],\n    \"TO\": [\n        \"h\",\n        \"H\"\n    ],\n    \"VU\": [\n        \"h\",\n        \"H\"\n    ],\n    \"WS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"001\": [\n        \"H\",\n        \"h\"\n    ],\n    \"AL\": [\n        \"h\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TD\": [\n        \"h\",\n        \"H\",\n        \"hB\"\n    ],\n    \"ca-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CM\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"fr-CA\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"gl-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"it-CH\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"it-IT\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"LU\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"NP\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"PF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SC\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SM\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SN\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"TF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"VA\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CY\": [\n        \"h\",\n        \"H\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GR\": [\n        \"h\",\n        \"H\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CO\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"DO\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KP\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"NA\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PA\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"VE\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"AC\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"AI\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"BW\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"BZ\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CC\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CX\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"DG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"FK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GB\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GI\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IE\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IM\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IO\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"JE\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"LT\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MN\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MS\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NF\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NR\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NU\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"PN\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"SH\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"SX\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"TA\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"ZA\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"af-ZA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"AR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CL\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CU\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"EA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-BO\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-BR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-EC\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-GQ\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-PE\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"GT\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"HN\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"IC\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KG\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KM\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"LK\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"MA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"MX\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"NI\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PY\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"SV\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"UY\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"JP\": [\n        \"H\",\n        \"h\",\n        \"K\"\n    ],\n    \"AD\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AM\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AO\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BJ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CG\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CI\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CV\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"DE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"EE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"FR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GA\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GN\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GP\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"HR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"IL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"IT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"KZ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MC\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MD\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MQ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MZ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NC\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"PM\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"PT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"RE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"RO\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SI\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"ST\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"TG\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"TR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"WF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"YT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BD\": [\n        \"h\",\n        \"hB\",\n        \"H\"\n    ],\n    \"PK\": [\n        \"h\",\n        \"hB\",\n        \"H\"\n    ],\n    \"AZ\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BA\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BG\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"CH\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"GE\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"LI\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"ME\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"RS\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"UA\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"UZ\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"XK\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"AG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"AU\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BB\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BS\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"CA\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"DM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"en-001\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"FJ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"FM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GD\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GU\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GY\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"JM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KI\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KN\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KY\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"LC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"LR\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MH\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MP\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MW\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"NZ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SB\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SL\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SS\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SZ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TT\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"UM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"US\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VI\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"ZM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BO\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"EC\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"ES\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"GQ\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"PE\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"AE\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"ar-001\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"BH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"DZ\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"EG\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"EH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"HK\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"IQ\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"JO\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"KW\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"LB\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"LY\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MO\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MR\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"OM\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PS\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"QA\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SA\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SD\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SY\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"TN\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"YE\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"AF\": [\n        \"H\",\n        \"hb\",\n        \"hB\",\n        \"h\"\n    ],\n    \"LA\": [\n        \"H\",\n        \"hb\",\n        \"hB\",\n        \"h\"\n    ],\n    \"CN\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"LV\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"TL\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"zu-ZA\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"CD\": [\n        \"hB\",\n        \"H\"\n    ],\n    \"IR\": [\n        \"hB\",\n        \"H\"\n    ],\n    \"hi-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"kn-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"ml-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"te-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"KH\": [\n        \"hB\",\n        \"h\",\n        \"H\",\n        \"hb\"\n    ],\n    \"ta-IN\": [\n        \"hB\",\n        \"h\",\n        \"hb\",\n        \"H\"\n    ],\n    \"BN\": [\n        \"hb\",\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"MY\": [\n        \"hb\",\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"ET\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"gu-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"mr-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"pa-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"TW\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"KE\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"MM\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"TZ\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"UG\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ]\n};\n","var _a;\nimport { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { SKELETON_TYPE, TYPE, } from './types';\nimport { SPACE_SEPARATOR_REGEX } from './regex.generated';\nimport { parseNumberSkeleton, parseNumberSkeletonFromString, parseDateTimeSkeleton, } from '@formatjs/icu-skeleton-parser';\nimport { getBestPattern } from './date-time-pattern-generator';\nvar SPACE_SEPARATOR_START_REGEX = new RegExp(\"^\".concat(SPACE_SEPARATOR_REGEX.source, \"*\"));\nvar SPACE_SEPARATOR_END_REGEX = new RegExp(\"\".concat(SPACE_SEPARATOR_REGEX.source, \"*$\"));\nfunction createLocation(start, end) {\n    return { start: start, end: end };\n}\n// #region Ponyfills\n// Consolidate these variables up top for easier toggling during debugging\nvar hasNativeStartsWith = !!String.prototype.startsWith;\nvar hasNativeFromCodePoint = !!String.fromCodePoint;\nvar hasNativeFromEntries = !!Object.fromEntries;\nvar hasNativeCodePointAt = !!String.prototype.codePointAt;\nvar hasTrimStart = !!String.prototype.trimStart;\nvar hasTrimEnd = !!String.prototype.trimEnd;\nvar hasNativeIsSafeInteger = !!Number.isSafeInteger;\nvar isSafeInteger = hasNativeIsSafeInteger\n    ? Number.isSafeInteger\n    : function (n) {\n        return (typeof n === 'number' &&\n            isFinite(n) &&\n            Math.floor(n) === n &&\n            Math.abs(n) <= 0x1fffffffffffff);\n    };\n// IE11 does not support y and u.\nvar REGEX_SUPPORTS_U_AND_Y = true;\ntry {\n    var re = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    /**\n     * legacy Edge or Xbox One browser\n     * Unicode flag support: supported\n     * Pattern_Syntax support: not supported\n     * See https://github.com/formatjs/formatjs/issues/2822\n     */\n    REGEX_SUPPORTS_U_AND_Y = ((_a = re.exec('a')) === null || _a === void 0 ? void 0 : _a[0]) === 'a';\n}\ncatch (_) {\n    REGEX_SUPPORTS_U_AND_Y = false;\n}\nvar startsWith = hasNativeStartsWith\n    ? // Native\n        function startsWith(s, search, position) {\n            return s.startsWith(search, position);\n        }\n    : // For IE11\n        function startsWith(s, search, position) {\n            return s.slice(position, position + search.length) === search;\n        };\nvar fromCodePoint = hasNativeFromCodePoint\n    ? String.fromCodePoint\n    : // IE11\n        function fromCodePoint() {\n            var codePoints = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                codePoints[_i] = arguments[_i];\n            }\n            var elements = '';\n            var length = codePoints.length;\n            var i = 0;\n            var code;\n            while (length > i) {\n                code = codePoints[i++];\n                if (code > 0x10ffff)\n                    throw RangeError(code + ' is not a valid code point');\n                elements +=\n                    code < 0x10000\n                        ? String.fromCharCode(code)\n                        : String.fromCharCode(((code -= 0x10000) >> 10) + 0xd800, (code % 0x400) + 0xdc00);\n            }\n            return elements;\n        };\nvar fromEntries = \n// native\nhasNativeFromEntries\n    ? Object.fromEntries\n    : // Ponyfill\n        function fromEntries(entries) {\n            var obj = {};\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var _a = entries_1[_i], k = _a[0], v = _a[1];\n                obj[k] = v;\n            }\n            return obj;\n        };\nvar codePointAt = hasNativeCodePointAt\n    ? // Native\n        function codePointAt(s, index) {\n            return s.codePointAt(index);\n        }\n    : // IE 11\n        function codePointAt(s, index) {\n            var size = s.length;\n            if (index < 0 || index >= size) {\n                return undefined;\n            }\n            var first = s.charCodeAt(index);\n            var second;\n            return first < 0xd800 ||\n                first > 0xdbff ||\n                index + 1 === size ||\n                (second = s.charCodeAt(index + 1)) < 0xdc00 ||\n                second > 0xdfff\n                ? first\n                : ((first - 0xd800) << 10) + (second - 0xdc00) + 0x10000;\n        };\nvar trimStart = hasTrimStart\n    ? // Native\n        function trimStart(s) {\n            return s.trimStart();\n        }\n    : // Ponyfill\n        function trimStart(s) {\n            return s.replace(SPACE_SEPARATOR_START_REGEX, '');\n        };\nvar trimEnd = hasTrimEnd\n    ? // Native\n        function trimEnd(s) {\n            return s.trimEnd();\n        }\n    : // Ponyfill\n        function trimEnd(s) {\n            return s.replace(SPACE_SEPARATOR_END_REGEX, '');\n        };\n// Prevent minifier to translate new RegExp to literal form that might cause syntax error on IE11.\nfunction RE(s, flag) {\n    return new RegExp(s, flag);\n}\n// #endregion\nvar matchIdentifierAtIndex;\nif (REGEX_SUPPORTS_U_AND_Y) {\n    // Native\n    var IDENTIFIER_PREFIX_RE_1 = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var _a;\n        IDENTIFIER_PREFIX_RE_1.lastIndex = index;\n        var match = IDENTIFIER_PREFIX_RE_1.exec(s);\n        return (_a = match[1]) !== null && _a !== void 0 ? _a : '';\n    };\n}\nelse {\n    // IE11\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var match = [];\n        while (true) {\n            var c = codePointAt(s, index);\n            if (c === undefined || _isWhiteSpace(c) || _isPatternSyntax(c)) {\n                break;\n            }\n            match.push(c);\n            index += c >= 0x10000 ? 2 : 1;\n        }\n        return fromCodePoint.apply(void 0, match);\n    };\n}\nvar Parser = /** @class */ (function () {\n    function Parser(message, options) {\n        if (options === void 0) { options = {}; }\n        this.message = message;\n        this.position = { offset: 0, line: 1, column: 1 };\n        this.ignoreTag = !!options.ignoreTag;\n        this.locale = options.locale;\n        this.requiresOtherClause = !!options.requiresOtherClause;\n        this.shouldParseSkeletons = !!options.shouldParseSkeletons;\n    }\n    Parser.prototype.parse = function () {\n        if (this.offset() !== 0) {\n            throw Error('parser can only be used once');\n        }\n        return this.parseMessage(0, '', false);\n    };\n    Parser.prototype.parseMessage = function (nestingLevel, parentArgType, expectingCloseTag) {\n        var elements = [];\n        while (!this.isEOF()) {\n            var char = this.char();\n            if (char === 123 /* `{` */) {\n                var result = this.parseArgument(nestingLevel, expectingCloseTag);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else if (char === 125 /* `}` */ && nestingLevel > 0) {\n                break;\n            }\n            else if (char === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) {\n                var position = this.clonePosition();\n                this.bump();\n                elements.push({\n                    type: TYPE.pound,\n                    location: createLocation(position, this.clonePosition()),\n                });\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                this.peek() === 47 // char code for '/'\n            ) {\n                if (expectingCloseTag) {\n                    break;\n                }\n                else {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(this.clonePosition(), this.clonePosition()));\n                }\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                _isAlpha(this.peek() || 0)) {\n                var result = this.parseTag(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else {\n                var result = this.parseLiteral(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n        }\n        return { val: elements, err: null };\n    };\n    /**\n     * A tag name must start with an ASCII lower/upper case letter. The grammar is based on the\n     * [custom element name][] except that a dash is NOT always mandatory and uppercase letters\n     * are accepted:\n     *\n     * ```\n     * tag ::= \"<\" tagName (whitespace)* \"/>\" | \"<\" tagName (whitespace)* \">\" message \"</\" tagName (whitespace)* \">\"\n     * tagName ::= [a-z] (PENChar)*\n     * PENChar ::=\n     *     \"-\" | \".\" | [0-9] | \"_\" | [a-z] | [A-Z] | #xB7 | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x37D] |\n     *     [#x37F-#x1FFF] | [#x200C-#x200D] | [#x203F-#x2040] | [#x2070-#x218F] | [#x2C00-#x2FEF] |\n     *     [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n     * ```\n     *\n     * [custom element name]: https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\n     * NOTE: We're a bit more lax here since HTML technically does not allow uppercase HTML element but we do\n     * since other tag-based engines like React allow it\n     */\n    Parser.prototype.parseTag = function (nestingLevel, parentArgType) {\n        var startPosition = this.clonePosition();\n        this.bump(); // `<`\n        var tagName = this.parseTagName();\n        this.bumpSpace();\n        if (this.bumpIf('/>')) {\n            // Self closing tag\n            return {\n                val: {\n                    type: TYPE.literal,\n                    value: \"<\".concat(tagName, \"/>\"),\n                    location: createLocation(startPosition, this.clonePosition()),\n                },\n                err: null,\n            };\n        }\n        else if (this.bumpIf('>')) {\n            var childrenResult = this.parseMessage(nestingLevel + 1, parentArgType, true);\n            if (childrenResult.err) {\n                return childrenResult;\n            }\n            var children = childrenResult.val;\n            // Expecting a close tag\n            var endTagStartPosition = this.clonePosition();\n            if (this.bumpIf('</')) {\n                if (this.isEOF() || !_isAlpha(this.char())) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                var closingTagNameStartPosition = this.clonePosition();\n                var closingTagName = this.parseTagName();\n                if (tagName !== closingTagName) {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(closingTagNameStartPosition, this.clonePosition()));\n                }\n                this.bumpSpace();\n                if (!this.bumpIf('>')) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                return {\n                    val: {\n                        type: TYPE.tag,\n                        value: tagName,\n                        children: children,\n                        location: createLocation(startPosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            else {\n                return this.error(ErrorKind.UNCLOSED_TAG, createLocation(startPosition, this.clonePosition()));\n            }\n        }\n        else {\n            return this.error(ErrorKind.INVALID_TAG, createLocation(startPosition, this.clonePosition()));\n        }\n    };\n    /**\n     * This method assumes that the caller has peeked ahead for the first tag character.\n     */\n    Parser.prototype.parseTagName = function () {\n        var startOffset = this.offset();\n        this.bump(); // the first tag name character\n        while (!this.isEOF() && _isPotentialElementNameChar(this.char())) {\n            this.bump();\n        }\n        return this.message.slice(startOffset, this.offset());\n    };\n    Parser.prototype.parseLiteral = function (nestingLevel, parentArgType) {\n        var start = this.clonePosition();\n        var value = '';\n        while (true) {\n            var parseQuoteResult = this.tryParseQuote(parentArgType);\n            if (parseQuoteResult) {\n                value += parseQuoteResult;\n                continue;\n            }\n            var parseUnquotedResult = this.tryParseUnquoted(nestingLevel, parentArgType);\n            if (parseUnquotedResult) {\n                value += parseUnquotedResult;\n                continue;\n            }\n            var parseLeftAngleResult = this.tryParseLeftAngleBracket();\n            if (parseLeftAngleResult) {\n                value += parseLeftAngleResult;\n                continue;\n            }\n            break;\n        }\n        var location = createLocation(start, this.clonePosition());\n        return {\n            val: { type: TYPE.literal, value: value, location: location },\n            err: null,\n        };\n    };\n    Parser.prototype.tryParseLeftAngleBracket = function () {\n        if (!this.isEOF() &&\n            this.char() === 60 /* `<` */ &&\n            (this.ignoreTag ||\n                // If at the opening tag or closing tag position, bail.\n                !_isAlphaOrSlash(this.peek() || 0))) {\n            this.bump(); // `<`\n            return '<';\n        }\n        return null;\n    };\n    /**\n     * Starting with ICU 4.8, an ASCII apostrophe only starts quoted text if it immediately precedes\n     * a character that requires quoting (that is, \"only where needed\"), and works the same in\n     * nested messages as on the top level of the pattern. The new behavior is otherwise compatible.\n     */\n    Parser.prototype.tryParseQuote = function (parentArgType) {\n        if (this.isEOF() || this.char() !== 39 /* `'` */) {\n            return null;\n        }\n        // Parse escaped char following the apostrophe, or early return if there is no escaped char.\n        // Check if is valid escaped character\n        switch (this.peek()) {\n            case 39 /* `'` */:\n                // double quote, should return as a single quote.\n                this.bump();\n                this.bump();\n                return \"'\";\n            // '{', '<', '>', '}'\n            case 123:\n            case 60:\n            case 62:\n            case 125:\n                break;\n            case 35: // '#'\n                if (parentArgType === 'plural' || parentArgType === 'selectordinal') {\n                    break;\n                }\n                return null;\n            default:\n                return null;\n        }\n        this.bump(); // apostrophe\n        var codePoints = [this.char()]; // escaped char\n        this.bump();\n        // read chars until the optional closing apostrophe is found\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch === 39 /* `'` */) {\n                if (this.peek() === 39 /* `'` */) {\n                    codePoints.push(39);\n                    // Bump one more time because we need to skip 2 characters.\n                    this.bump();\n                }\n                else {\n                    // Optional closing apostrophe.\n                    this.bump();\n                    break;\n                }\n            }\n            else {\n                codePoints.push(ch);\n            }\n            this.bump();\n        }\n        return fromCodePoint.apply(void 0, codePoints);\n    };\n    Parser.prototype.tryParseUnquoted = function (nestingLevel, parentArgType) {\n        if (this.isEOF()) {\n            return null;\n        }\n        var ch = this.char();\n        if (ch === 60 /* `<` */ ||\n            ch === 123 /* `{` */ ||\n            (ch === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) ||\n            (ch === 125 /* `}` */ && nestingLevel > 0)) {\n            return null;\n        }\n        else {\n            this.bump();\n            return fromCodePoint(ch);\n        }\n    };\n    Parser.prototype.parseArgument = function (nestingLevel, expectingCloseTag) {\n        var openingBracePosition = this.clonePosition();\n        this.bump(); // `{`\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        if (this.char() === 125 /* `}` */) {\n            this.bump();\n            return this.error(ErrorKind.EMPTY_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        // argument name\n        var value = this.parseIdentifierIfPossible().value;\n        if (!value) {\n            return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        switch (this.char()) {\n            // Simple argument: `{name}`\n            case 125 /* `}` */: {\n                this.bump(); // `}`\n                return {\n                    val: {\n                        type: TYPE.argument,\n                        // value does not include the opening and closing braces.\n                        value: value,\n                        location: createLocation(openingBracePosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            // Argument with options: `{name, format, ...}`\n            case 44 /* `,` */: {\n                this.bump(); // `,`\n                this.bumpSpace();\n                if (this.isEOF()) {\n                    return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n                }\n                return this.parseArgumentOptions(nestingLevel, expectingCloseTag, value, openingBracePosition);\n            }\n            default:\n                return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n    };\n    /**\n     * Advance the parser until the end of the identifier, if it is currently on\n     * an identifier character. Return an empty string otherwise.\n     */\n    Parser.prototype.parseIdentifierIfPossible = function () {\n        var startingPosition = this.clonePosition();\n        var startOffset = this.offset();\n        var value = matchIdentifierAtIndex(this.message, startOffset);\n        var endOffset = startOffset + value.length;\n        this.bumpTo(endOffset);\n        var endPosition = this.clonePosition();\n        var location = createLocation(startingPosition, endPosition);\n        return { value: value, location: location };\n    };\n    Parser.prototype.parseArgumentOptions = function (nestingLevel, expectingCloseTag, value, openingBracePosition) {\n        var _a;\n        // Parse this range:\n        // {name, type, style}\n        //        ^---^\n        var typeStartPosition = this.clonePosition();\n        var argType = this.parseIdentifierIfPossible().value;\n        var typeEndPosition = this.clonePosition();\n        switch (argType) {\n            case '':\n                // Expecting a style string number, date, time, plural, selectordinal, or select.\n                return this.error(ErrorKind.EXPECT_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n            case 'number':\n            case 'date':\n            case 'time': {\n                // Parse this range:\n                // {name, number, style}\n                //              ^-------^\n                this.bumpSpace();\n                var styleAndLocation = null;\n                if (this.bumpIf(',')) {\n                    this.bumpSpace();\n                    var styleStartPosition = this.clonePosition();\n                    var result = this.parseSimpleArgStyleIfPossible();\n                    if (result.err) {\n                        return result;\n                    }\n                    var style = trimEnd(result.val);\n                    if (style.length === 0) {\n                        return this.error(ErrorKind.EXPECT_ARGUMENT_STYLE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    var styleLocation = createLocation(styleStartPosition, this.clonePosition());\n                    styleAndLocation = { style: style, styleLocation: styleLocation };\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_1 = createLocation(openingBracePosition, this.clonePosition());\n                // Extract style or skeleton\n                if (styleAndLocation && startsWith(styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style, '::', 0)) {\n                    // Skeleton starts with `::`.\n                    var skeleton = trimStart(styleAndLocation.style.slice(2));\n                    if (argType === 'number') {\n                        var result = this.parseNumberSkeletonFromString(skeleton, styleAndLocation.styleLocation);\n                        if (result.err) {\n                            return result;\n                        }\n                        return {\n                            val: { type: TYPE.number, value: value, location: location_1, style: result.val },\n                            err: null,\n                        };\n                    }\n                    else {\n                        if (skeleton.length === 0) {\n                            return this.error(ErrorKind.EXPECT_DATE_TIME_SKELETON, location_1);\n                        }\n                        var dateTimePattern = skeleton;\n                        // Get \"best match\" pattern only if locale is passed, if not, let it\n                        // pass as-is where `parseDateTimeSkeleton()` will throw an error\n                        // for unsupported patterns.\n                        if (this.locale) {\n                            dateTimePattern = getBestPattern(skeleton, this.locale);\n                        }\n                        var style = {\n                            type: SKELETON_TYPE.dateTime,\n                            pattern: dateTimePattern,\n                            location: styleAndLocation.styleLocation,\n                            parsedOptions: this.shouldParseSkeletons\n                                ? parseDateTimeSkeleton(dateTimePattern)\n                                : {},\n                        };\n                        var type = argType === 'date' ? TYPE.date : TYPE.time;\n                        return {\n                            val: { type: type, value: value, location: location_1, style: style },\n                            err: null,\n                        };\n                    }\n                }\n                // Regular style or no style.\n                return {\n                    val: {\n                        type: argType === 'number'\n                            ? TYPE.number\n                            : argType === 'date'\n                                ? TYPE.date\n                                : TYPE.time,\n                        value: value,\n                        location: location_1,\n                        style: (_a = styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style) !== null && _a !== void 0 ? _a : null,\n                    },\n                    err: null,\n                };\n            }\n            case 'plural':\n            case 'selectordinal':\n            case 'select': {\n                // Parse this range:\n                // {name, plural, options}\n                //              ^---------^\n                var typeEndPosition_1 = this.clonePosition();\n                this.bumpSpace();\n                if (!this.bumpIf(',')) {\n                    return this.error(ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS, createLocation(typeEndPosition_1, __assign({}, typeEndPosition_1)));\n                }\n                this.bumpSpace();\n                // Parse offset:\n                // {name, plural, offset:1, options}\n                //                ^-----^\n                //\n                // or the first option:\n                //\n                // {name, plural, one {...} other {...}}\n                //                ^--^\n                var identifierAndLocation = this.parseIdentifierIfPossible();\n                var pluralOffset = 0;\n                if (argType !== 'select' && identifierAndLocation.value === 'offset') {\n                    if (!this.bumpIf(':')) {\n                        return this.error(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    this.bumpSpace();\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);\n                    if (result.err) {\n                        return result;\n                    }\n                    // Parse another identifier for option parsing\n                    this.bumpSpace();\n                    identifierAndLocation = this.parseIdentifierIfPossible();\n                    pluralOffset = result.val;\n                }\n                var optionsResult = this.tryParsePluralOrSelectOptions(nestingLevel, argType, expectingCloseTag, identifierAndLocation);\n                if (optionsResult.err) {\n                    return optionsResult;\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_2 = createLocation(openingBracePosition, this.clonePosition());\n                if (argType === 'select') {\n                    return {\n                        val: {\n                            type: TYPE.select,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n                else {\n                    return {\n                        val: {\n                            type: TYPE.plural,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            offset: pluralOffset,\n                            pluralType: argType === 'plural' ? 'cardinal' : 'ordinal',\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n            }\n            default:\n                return this.error(ErrorKind.INVALID_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n        }\n    };\n    Parser.prototype.tryParseArgumentClose = function (openingBracePosition) {\n        // Parse: {value, number, ::currency/GBP }\n        //\n        if (this.isEOF() || this.char() !== 125 /* `}` */) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bump(); // `}`\n        return { val: true, err: null };\n    };\n    /**\n     * See: https://github.com/unicode-org/icu/blob/af7ed1f6d2298013dc303628438ec4abe1f16479/icu4c/source/common/messagepattern.cpp#L659\n     */\n    Parser.prototype.parseSimpleArgStyleIfPossible = function () {\n        var nestedBraces = 0;\n        var startPosition = this.clonePosition();\n        while (!this.isEOF()) {\n            var ch = this.char();\n            switch (ch) {\n                case 39 /* `'` */: {\n                    // Treat apostrophe as quoting but include it in the style part.\n                    // Find the end of the quoted literal text.\n                    this.bump();\n                    var apostrophePosition = this.clonePosition();\n                    if (!this.bumpUntil(\"'\")) {\n                        return this.error(ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE, createLocation(apostrophePosition, this.clonePosition()));\n                    }\n                    this.bump();\n                    break;\n                }\n                case 123 /* `{` */: {\n                    nestedBraces += 1;\n                    this.bump();\n                    break;\n                }\n                case 125 /* `}` */: {\n                    if (nestedBraces > 0) {\n                        nestedBraces -= 1;\n                    }\n                    else {\n                        return {\n                            val: this.message.slice(startPosition.offset, this.offset()),\n                            err: null,\n                        };\n                    }\n                    break;\n                }\n                default:\n                    this.bump();\n                    break;\n            }\n        }\n        return {\n            val: this.message.slice(startPosition.offset, this.offset()),\n            err: null,\n        };\n    };\n    Parser.prototype.parseNumberSkeletonFromString = function (skeleton, location) {\n        var tokens = [];\n        try {\n            tokens = parseNumberSkeletonFromString(skeleton);\n        }\n        catch (e) {\n            return this.error(ErrorKind.INVALID_NUMBER_SKELETON, location);\n        }\n        return {\n            val: {\n                type: SKELETON_TYPE.number,\n                tokens: tokens,\n                location: location,\n                parsedOptions: this.shouldParseSkeletons\n                    ? parseNumberSkeleton(tokens)\n                    : {},\n            },\n            err: null,\n        };\n    };\n    /**\n     * @param nesting_level The current nesting level of messages.\n     *     This can be positive when parsing message fragment in select or plural argument options.\n     * @param parent_arg_type The parent argument's type.\n     * @param parsed_first_identifier If provided, this is the first identifier-like selector of\n     *     the argument. It is a by-product of a previous parsing attempt.\n     * @param expecting_close_tag If true, this message is directly or indirectly nested inside\n     *     between a pair of opening and closing tags. The nested message will not parse beyond\n     *     the closing tag boundary.\n     */\n    Parser.prototype.tryParsePluralOrSelectOptions = function (nestingLevel, parentArgType, expectCloseTag, parsedFirstIdentifier) {\n        var _a;\n        var hasOtherClause = false;\n        var options = [];\n        var parsedSelectors = new Set();\n        var selector = parsedFirstIdentifier.value, selectorLocation = parsedFirstIdentifier.location;\n        // Parse:\n        // one {one apple}\n        // ^--^\n        while (true) {\n            if (selector.length === 0) {\n                var startPosition = this.clonePosition();\n                if (parentArgType !== 'select' && this.bumpIf('=')) {\n                    // Try parse `={number}` selector\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);\n                    if (result.err) {\n                        return result;\n                    }\n                    selectorLocation = createLocation(startPosition, this.clonePosition());\n                    selector = this.message.slice(startPosition.offset, this.offset());\n                }\n                else {\n                    break;\n                }\n            }\n            // Duplicate selector clauses\n            if (parsedSelectors.has(selector)) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR\n                    : ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR, selectorLocation);\n            }\n            if (selector === 'other') {\n                hasOtherClause = true;\n            }\n            // Parse:\n            // one {one apple}\n            //     ^----------^\n            this.bumpSpace();\n            var openingBracePosition = this.clonePosition();\n            if (!this.bumpIf('{')) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\n                    : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT, createLocation(this.clonePosition(), this.clonePosition()));\n            }\n            var fragmentResult = this.parseMessage(nestingLevel + 1, parentArgType, expectCloseTag);\n            if (fragmentResult.err) {\n                return fragmentResult;\n            }\n            var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n            if (argCloseResult.err) {\n                return argCloseResult;\n            }\n            options.push([\n                selector,\n                {\n                    value: fragmentResult.val,\n                    location: createLocation(openingBracePosition, this.clonePosition()),\n                },\n            ]);\n            // Keep track of the existing selectors\n            parsedSelectors.add(selector);\n            // Prep next selector clause.\n            this.bumpSpace();\n            (_a = this.parseIdentifierIfPossible(), selector = _a.value, selectorLocation = _a.location);\n        }\n        if (options.length === 0) {\n            return this.error(parentArgType === 'select'\n                ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR\n                : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        if (this.requiresOtherClause && !hasOtherClause) {\n            return this.error(ErrorKind.MISSING_OTHER_CLAUSE, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        return { val: options, err: null };\n    };\n    Parser.prototype.tryParseDecimalInteger = function (expectNumberError, invalidNumberError) {\n        var sign = 1;\n        var startingPosition = this.clonePosition();\n        if (this.bumpIf('+')) {\n        }\n        else if (this.bumpIf('-')) {\n            sign = -1;\n        }\n        var hasDigits = false;\n        var decimal = 0;\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch >= 48 /* `0` */ && ch <= 57 /* `9` */) {\n                hasDigits = true;\n                decimal = decimal * 10 + (ch - 48);\n                this.bump();\n            }\n            else {\n                break;\n            }\n        }\n        var location = createLocation(startingPosition, this.clonePosition());\n        if (!hasDigits) {\n            return this.error(expectNumberError, location);\n        }\n        decimal *= sign;\n        if (!isSafeInteger(decimal)) {\n            return this.error(invalidNumberError, location);\n        }\n        return { val: decimal, err: null };\n    };\n    Parser.prototype.offset = function () {\n        return this.position.offset;\n    };\n    Parser.prototype.isEOF = function () {\n        return this.offset() === this.message.length;\n    };\n    Parser.prototype.clonePosition = function () {\n        // This is much faster than `Object.assign` or spread.\n        return {\n            offset: this.position.offset,\n            line: this.position.line,\n            column: this.position.column,\n        };\n    };\n    /**\n     * Return the code point at the current position of the parser.\n     * Throws if the index is out of bound.\n     */\n    Parser.prototype.char = function () {\n        var offset = this.position.offset;\n        if (offset >= this.message.length) {\n            throw Error('out of bound');\n        }\n        var code = codePointAt(this.message, offset);\n        if (code === undefined) {\n            throw Error(\"Offset \".concat(offset, \" is at invalid UTF-16 code unit boundary\"));\n        }\n        return code;\n    };\n    Parser.prototype.error = function (kind, location) {\n        return {\n            val: null,\n            err: {\n                kind: kind,\n                message: this.message,\n                location: location,\n            },\n        };\n    };\n    /** Bump the parser to the next UTF-16 code unit. */\n    Parser.prototype.bump = function () {\n        if (this.isEOF()) {\n            return;\n        }\n        var code = this.char();\n        if (code === 10 /* '\\n' */) {\n            this.position.line += 1;\n            this.position.column = 1;\n            this.position.offset += 1;\n        }\n        else {\n            this.position.column += 1;\n            // 0 ~ 0x10000 -> unicode BMP, otherwise skip the surrogate pair.\n            this.position.offset += code < 0x10000 ? 1 : 2;\n        }\n    };\n    /**\n     * If the substring starting at the current position of the parser has\n     * the given prefix, then bump the parser to the character immediately\n     * following the prefix and return true. Otherwise, don't bump the parser\n     * and return false.\n     */\n    Parser.prototype.bumpIf = function (prefix) {\n        if (startsWith(this.message, prefix, this.offset())) {\n            for (var i = 0; i < prefix.length; i++) {\n                this.bump();\n            }\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Bump the parser until the pattern character is found and return `true`.\n     * Otherwise bump to the end of the file and return `false`.\n     */\n    Parser.prototype.bumpUntil = function (pattern) {\n        var currentOffset = this.offset();\n        var index = this.message.indexOf(pattern, currentOffset);\n        if (index >= 0) {\n            this.bumpTo(index);\n            return true;\n        }\n        else {\n            this.bumpTo(this.message.length);\n            return false;\n        }\n    };\n    /**\n     * Bump the parser to the target offset.\n     * If target offset is beyond the end of the input, bump the parser to the end of the input.\n     */\n    Parser.prototype.bumpTo = function (targetOffset) {\n        if (this.offset() > targetOffset) {\n            throw Error(\"targetOffset \".concat(targetOffset, \" must be greater than or equal to the current offset \").concat(this.offset()));\n        }\n        targetOffset = Math.min(targetOffset, this.message.length);\n        while (true) {\n            var offset = this.offset();\n            if (offset === targetOffset) {\n                break;\n            }\n            if (offset > targetOffset) {\n                throw Error(\"targetOffset \".concat(targetOffset, \" is at invalid UTF-16 code unit boundary\"));\n            }\n            this.bump();\n            if (this.isEOF()) {\n                break;\n            }\n        }\n    };\n    /** advance the parser through all whitespace to the next non-whitespace code unit. */\n    Parser.prototype.bumpSpace = function () {\n        while (!this.isEOF() && _isWhiteSpace(this.char())) {\n            this.bump();\n        }\n    };\n    /**\n     * Peek at the *next* Unicode codepoint in the input without advancing the parser.\n     * If the input has been exhausted, then this returns null.\n     */\n    Parser.prototype.peek = function () {\n        if (this.isEOF()) {\n            return null;\n        }\n        var code = this.char();\n        var offset = this.offset();\n        var nextCode = this.message.charCodeAt(offset + (code >= 0x10000 ? 2 : 1));\n        return nextCode !== null && nextCode !== void 0 ? nextCode : null;\n    };\n    return Parser;\n}());\nexport { Parser };\n/**\n * This check if codepoint is alphabet (lower & uppercase)\n * @param codepoint\n * @returns\n */\nfunction _isAlpha(codepoint) {\n    return ((codepoint >= 97 && codepoint <= 122) ||\n        (codepoint >= 65 && codepoint <= 90));\n}\nfunction _isAlphaOrSlash(codepoint) {\n    return _isAlpha(codepoint) || codepoint === 47; /* '/' */\n}\n/** See `parseTag` function docs. */\nfunction _isPotentialElementNameChar(c) {\n    return (c === 45 /* '-' */ ||\n        c === 46 /* '.' */ ||\n        (c >= 48 && c <= 57) /* 0..9 */ ||\n        c === 95 /* '_' */ ||\n        (c >= 97 && c <= 122) /** a..z */ ||\n        (c >= 65 && c <= 90) /* A..Z */ ||\n        c == 0xb7 ||\n        (c >= 0xc0 && c <= 0xd6) ||\n        (c >= 0xd8 && c <= 0xf6) ||\n        (c >= 0xf8 && c <= 0x37d) ||\n        (c >= 0x37f && c <= 0x1fff) ||\n        (c >= 0x200c && c <= 0x200d) ||\n        (c >= 0x203f && c <= 0x2040) ||\n        (c >= 0x2070 && c <= 0x218f) ||\n        (c >= 0x2c00 && c <= 0x2fef) ||\n        (c >= 0x3001 && c <= 0xd7ff) ||\n        (c >= 0xf900 && c <= 0xfdcf) ||\n        (c >= 0xfdf0 && c <= 0xfffd) ||\n        (c >= 0x10000 && c <= 0xeffff));\n}\n/**\n * Code point equivalent of regex `\\p{White_Space}`.\n * From: https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isWhiteSpace(c) {\n    return ((c >= 0x0009 && c <= 0x000d) ||\n        c === 0x0020 ||\n        c === 0x0085 ||\n        (c >= 0x200e && c <= 0x200f) ||\n        c === 0x2028 ||\n        c === 0x2029);\n}\n/**\n * Code point equivalent of regex `\\p{Pattern_Syntax}`.\n * See https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isPatternSyntax(c) {\n    return ((c >= 0x0021 && c <= 0x0023) ||\n        c === 0x0024 ||\n        (c >= 0x0025 && c <= 0x0027) ||\n        c === 0x0028 ||\n        c === 0x0029 ||\n        c === 0x002a ||\n        c === 0x002b ||\n        c === 0x002c ||\n        c === 0x002d ||\n        (c >= 0x002e && c <= 0x002f) ||\n        (c >= 0x003a && c <= 0x003b) ||\n        (c >= 0x003c && c <= 0x003e) ||\n        (c >= 0x003f && c <= 0x0040) ||\n        c === 0x005b ||\n        c === 0x005c ||\n        c === 0x005d ||\n        c === 0x005e ||\n        c === 0x0060 ||\n        c === 0x007b ||\n        c === 0x007c ||\n        c === 0x007d ||\n        c === 0x007e ||\n        c === 0x00a1 ||\n        (c >= 0x00a2 && c <= 0x00a5) ||\n        c === 0x00a6 ||\n        c === 0x00a7 ||\n        c === 0x00a9 ||\n        c === 0x00ab ||\n        c === 0x00ac ||\n        c === 0x00ae ||\n        c === 0x00b0 ||\n        c === 0x00b1 ||\n        c === 0x00b6 ||\n        c === 0x00bb ||\n        c === 0x00bf ||\n        c === 0x00d7 ||\n        c === 0x00f7 ||\n        (c >= 0x2010 && c <= 0x2015) ||\n        (c >= 0x2016 && c <= 0x2017) ||\n        c === 0x2018 ||\n        c === 0x2019 ||\n        c === 0x201a ||\n        (c >= 0x201b && c <= 0x201c) ||\n        c === 0x201d ||\n        c === 0x201e ||\n        c === 0x201f ||\n        (c >= 0x2020 && c <= 0x2027) ||\n        (c >= 0x2030 && c <= 0x2038) ||\n        c === 0x2039 ||\n        c === 0x203a ||\n        (c >= 0x203b && c <= 0x203e) ||\n        (c >= 0x2041 && c <= 0x2043) ||\n        c === 0x2044 ||\n        c === 0x2045 ||\n        c === 0x2046 ||\n        (c >= 0x2047 && c <= 0x2051) ||\n        c === 0x2052 ||\n        c === 0x2053 ||\n        (c >= 0x2055 && c <= 0x205e) ||\n        (c >= 0x2190 && c <= 0x2194) ||\n        (c >= 0x2195 && c <= 0x2199) ||\n        (c >= 0x219a && c <= 0x219b) ||\n        (c >= 0x219c && c <= 0x219f) ||\n        c === 0x21a0 ||\n        (c >= 0x21a1 && c <= 0x21a2) ||\n        c === 0x21a3 ||\n        (c >= 0x21a4 && c <= 0x21a5) ||\n        c === 0x21a6 ||\n        (c >= 0x21a7 && c <= 0x21ad) ||\n        c === 0x21ae ||\n        (c >= 0x21af && c <= 0x21cd) ||\n        (c >= 0x21ce && c <= 0x21cf) ||\n        (c >= 0x21d0 && c <= 0x21d1) ||\n        c === 0x21d2 ||\n        c === 0x21d3 ||\n        c === 0x21d4 ||\n        (c >= 0x21d5 && c <= 0x21f3) ||\n        (c >= 0x21f4 && c <= 0x22ff) ||\n        (c >= 0x2300 && c <= 0x2307) ||\n        c === 0x2308 ||\n        c === 0x2309 ||\n        c === 0x230a ||\n        c === 0x230b ||\n        (c >= 0x230c && c <= 0x231f) ||\n        (c >= 0x2320 && c <= 0x2321) ||\n        (c >= 0x2322 && c <= 0x2328) ||\n        c === 0x2329 ||\n        c === 0x232a ||\n        (c >= 0x232b && c <= 0x237b) ||\n        c === 0x237c ||\n        (c >= 0x237d && c <= 0x239a) ||\n        (c >= 0x239b && c <= 0x23b3) ||\n        (c >= 0x23b4 && c <= 0x23db) ||\n        (c >= 0x23dc && c <= 0x23e1) ||\n        (c >= 0x23e2 && c <= 0x2426) ||\n        (c >= 0x2427 && c <= 0x243f) ||\n        (c >= 0x2440 && c <= 0x244a) ||\n        (c >= 0x244b && c <= 0x245f) ||\n        (c >= 0x2500 && c <= 0x25b6) ||\n        c === 0x25b7 ||\n        (c >= 0x25b8 && c <= 0x25c0) ||\n        c === 0x25c1 ||\n        (c >= 0x25c2 && c <= 0x25f7) ||\n        (c >= 0x25f8 && c <= 0x25ff) ||\n        (c >= 0x2600 && c <= 0x266e) ||\n        c === 0x266f ||\n        (c >= 0x2670 && c <= 0x2767) ||\n        c === 0x2768 ||\n        c === 0x2769 ||\n        c === 0x276a ||\n        c === 0x276b ||\n        c === 0x276c ||\n        c === 0x276d ||\n        c === 0x276e ||\n        c === 0x276f ||\n        c === 0x2770 ||\n        c === 0x2771 ||\n        c === 0x2772 ||\n        c === 0x2773 ||\n        c === 0x2774 ||\n        c === 0x2775 ||\n        (c >= 0x2794 && c <= 0x27bf) ||\n        (c >= 0x27c0 && c <= 0x27c4) ||\n        c === 0x27c5 ||\n        c === 0x27c6 ||\n        (c >= 0x27c7 && c <= 0x27e5) ||\n        c === 0x27e6 ||\n        c === 0x27e7 ||\n        c === 0x27e8 ||\n        c === 0x27e9 ||\n        c === 0x27ea ||\n        c === 0x27eb ||\n        c === 0x27ec ||\n        c === 0x27ed ||\n        c === 0x27ee ||\n        c === 0x27ef ||\n        (c >= 0x27f0 && c <= 0x27ff) ||\n        (c >= 0x2800 && c <= 0x28ff) ||\n        (c >= 0x2900 && c <= 0x2982) ||\n        c === 0x2983 ||\n        c === 0x2984 ||\n        c === 0x2985 ||\n        c === 0x2986 ||\n        c === 0x2987 ||\n        c === 0x2988 ||\n        c === 0x2989 ||\n        c === 0x298a ||\n        c === 0x298b ||\n        c === 0x298c ||\n        c === 0x298d ||\n        c === 0x298e ||\n        c === 0x298f ||\n        c === 0x2990 ||\n        c === 0x2991 ||\n        c === 0x2992 ||\n        c === 0x2993 ||\n        c === 0x2994 ||\n        c === 0x2995 ||\n        c === 0x2996 ||\n        c === 0x2997 ||\n        c === 0x2998 ||\n        (c >= 0x2999 && c <= 0x29d7) ||\n        c === 0x29d8 ||\n        c === 0x29d9 ||\n        c === 0x29da ||\n        c === 0x29db ||\n        (c >= 0x29dc && c <= 0x29fb) ||\n        c === 0x29fc ||\n        c === 0x29fd ||\n        (c >= 0x29fe && c <= 0x2aff) ||\n        (c >= 0x2b00 && c <= 0x2b2f) ||\n        (c >= 0x2b30 && c <= 0x2b44) ||\n        (c >= 0x2b45 && c <= 0x2b46) ||\n        (c >= 0x2b47 && c <= 0x2b4c) ||\n        (c >= 0x2b4d && c <= 0x2b73) ||\n        (c >= 0x2b74 && c <= 0x2b75) ||\n        (c >= 0x2b76 && c <= 0x2b95) ||\n        c === 0x2b96 ||\n        (c >= 0x2b97 && c <= 0x2bff) ||\n        (c >= 0x2e00 && c <= 0x2e01) ||\n        c === 0x2e02 ||\n        c === 0x2e03 ||\n        c === 0x2e04 ||\n        c === 0x2e05 ||\n        (c >= 0x2e06 && c <= 0x2e08) ||\n        c === 0x2e09 ||\n        c === 0x2e0a ||\n        c === 0x2e0b ||\n        c === 0x2e0c ||\n        c === 0x2e0d ||\n        (c >= 0x2e0e && c <= 0x2e16) ||\n        c === 0x2e17 ||\n        (c >= 0x2e18 && c <= 0x2e19) ||\n        c === 0x2e1a ||\n        c === 0x2e1b ||\n        c === 0x2e1c ||\n        c === 0x2e1d ||\n        (c >= 0x2e1e && c <= 0x2e1f) ||\n        c === 0x2e20 ||\n        c === 0x2e21 ||\n        c === 0x2e22 ||\n        c === 0x2e23 ||\n        c === 0x2e24 ||\n        c === 0x2e25 ||\n        c === 0x2e26 ||\n        c === 0x2e27 ||\n        c === 0x2e28 ||\n        c === 0x2e29 ||\n        (c >= 0x2e2a && c <= 0x2e2e) ||\n        c === 0x2e2f ||\n        (c >= 0x2e30 && c <= 0x2e39) ||\n        (c >= 0x2e3a && c <= 0x2e3b) ||\n        (c >= 0x2e3c && c <= 0x2e3f) ||\n        c === 0x2e40 ||\n        c === 0x2e41 ||\n        c === 0x2e42 ||\n        (c >= 0x2e43 && c <= 0x2e4f) ||\n        (c >= 0x2e50 && c <= 0x2e51) ||\n        c === 0x2e52 ||\n        (c >= 0x2e53 && c <= 0x2e7f) ||\n        (c >= 0x3001 && c <= 0x3003) ||\n        c === 0x3008 ||\n        c === 0x3009 ||\n        c === 0x300a ||\n        c === 0x300b ||\n        c === 0x300c ||\n        c === 0x300d ||\n        c === 0x300e ||\n        c === 0x300f ||\n        c === 0x3010 ||\n        c === 0x3011 ||\n        (c >= 0x3012 && c <= 0x3013) ||\n        c === 0x3014 ||\n        c === 0x3015 ||\n        c === 0x3016 ||\n        c === 0x3017 ||\n        c === 0x3018 ||\n        c === 0x3019 ||\n        c === 0x301a ||\n        c === 0x301b ||\n        c === 0x301c ||\n        c === 0x301d ||\n        (c >= 0x301e && c <= 0x301f) ||\n        c === 0x3020 ||\n        c === 0x3030 ||\n        c === 0xfd3e ||\n        c === 0xfd3f ||\n        (c >= 0xfe45 && c <= 0xfe46));\n}\n","import { timeData } from './time-data.generated';\n/**\n * Returns the best matching date time pattern if a date time skeleton\n * pattern is provided with a locale. Follows the Unicode specification:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#table-mapping-requested-time-skeletons-to-patterns\n * @param skeleton date time skeleton pattern that possibly includes j, J or C\n * @param locale\n */\nexport function getBestPattern(skeleton, locale) {\n    var skeletonCopy = '';\n    for (var patternPos = 0; patternPos < skeleton.length; patternPos++) {\n        var patternChar = skeleton.charAt(patternPos);\n        if (patternChar === 'j') {\n            var extraLength = 0;\n            while (patternPos + 1 < skeleton.length &&\n                skeleton.charAt(patternPos + 1) === patternChar) {\n                extraLength++;\n                patternPos++;\n            }\n            var hourLen = 1 + (extraLength & 1);\n            var dayPeriodLen = extraLength < 2 ? 1 : 3 + (extraLength >> 1);\n            var dayPeriodChar = 'a';\n            var hourChar = getDefaultHourSymbolFromLocale(locale);\n            if (hourChar == 'H' || hourChar == 'k') {\n                dayPeriodLen = 0;\n            }\n            while (dayPeriodLen-- > 0) {\n                skeletonCopy += dayPeriodChar;\n            }\n            while (hourLen-- > 0) {\n                skeletonCopy = hourChar + skeletonCopy;\n            }\n        }\n        else if (patternChar === 'J') {\n            skeletonCopy += 'H';\n        }\n        else {\n            skeletonCopy += patternChar;\n        }\n    }\n    return skeletonCopy;\n}\n/**\n * Maps the [hour cycle type](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle)\n * of the given `locale` to the corresponding time pattern.\n * @param locale\n */\nfunction getDefaultHourSymbolFromLocale(locale) {\n    var hourCycle = locale.hourCycle;\n    if (hourCycle === undefined &&\n        // @ts-ignore hourCycle(s) is not identified yet\n        locale.hourCycles &&\n        // @ts-ignore\n        locale.hourCycles.length) {\n        // @ts-ignore\n        hourCycle = locale.hourCycles[0];\n    }\n    if (hourCycle) {\n        switch (hourCycle) {\n            case 'h24':\n                return 'k';\n            case 'h23':\n                return 'H';\n            case 'h12':\n                return 'h';\n            case 'h11':\n                return 'K';\n            default:\n                throw new Error('Invalid hourCycle');\n        }\n    }\n    // TODO: Once hourCycle is fully supported remove the following with data generation\n    var languageTag = locale.language;\n    var regionTag;\n    if (languageTag !== 'root') {\n        regionTag = locale.maximize().region;\n    }\n    var hourCycles = timeData[regionTag || ''] ||\n        timeData[languageTag || ''] ||\n        timeData[\"\".concat(languageTag, \"-001\")] ||\n        timeData['001'];\n    return hourCycles[0];\n}\n","import { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { Parser } from './parser';\nimport { isDateElement, isDateTimeSkeleton, isNumberElement, isNumberSkeleton, isPluralElement, isSelectElement, isTagElement, isTimeElement, } from './types';\nfunction pruneLocation(els) {\n    els.forEach(function (el) {\n        delete el.location;\n        if (isSelectElement(el) || isPluralElement(el)) {\n            for (var k in el.options) {\n                delete el.options[k].location;\n                pruneLocation(el.options[k].value);\n            }\n        }\n        else if (isNumberElement(el) && isNumberSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if ((isDateElement(el) || isTimeElement(el)) &&\n            isDateTimeSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if (isTagElement(el)) {\n            pruneLocation(el.children);\n        }\n    });\n}\nexport function parse(message, opts) {\n    if (opts === void 0) { opts = {}; }\n    opts = __assign({ shouldParseSkeletons: true, requiresOtherClause: true }, opts);\n    var result = new Parser(message, opts).parse();\n    if (result.err) {\n        var error = SyntaxError(ErrorKind[result.err.kind]);\n        // @ts-expect-error Assign to error object\n        error.location = result.err.location;\n        // @ts-expect-error Assign to error object\n        error.originalMessage = result.err.message;\n        throw error;\n    }\n    if (!(opts === null || opts === void 0 ? void 0 : opts.captureLocation)) {\n        pruneLocation(result.val);\n    }\n    return result.val;\n}\nexport * from './types';\n","//\n// Main\n//\nexport default function memoize(fn, options) {\n    var cache = options && options.cache ? options.cache : cacheDefault;\n    var serializer = options && options.serializer ? options.serializer : serializerDefault;\n    var strategy = options && options.strategy ? options.strategy : strategyDefault;\n    return strategy(fn, {\n        cache: cache,\n        serializer: serializer,\n    });\n}\n//\n// Strategy\n//\nfunction isPrimitive(value) {\n    return (value == null || typeof value === 'number' || typeof value === 'boolean'); // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\nfunction monadic(fn, cache, serializer, arg) {\n    var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.call(this, arg);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n    var args = Array.prototype.slice.call(arguments, 3);\n    var cacheKey = serializer(args);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.apply(this, args);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n    return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n    var strategy = fn.length === 1 ? monadic : variadic;\n    return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyVariadic(fn, options) {\n    return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n}\nfunction strategyMonadic(fn, options) {\n    return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n}\n//\n// Serializer\n//\nvar serializerDefault = function () {\n    return JSON.stringify(arguments);\n};\n//\n// Cache\n//\nfunction ObjectWithoutPrototypeCache() {\n    this.cache = Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n    return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n    this.cache[key] = value;\n};\nvar cacheDefault = {\n    create: function create() {\n        // @ts-ignore\n        return new ObjectWithoutPrototypeCache();\n    },\n};\nexport var strategies = {\n    variadic: strategyVariadic,\n    monadic: strategyMonadic,\n};\n","import { __extends } from \"tslib\";\nexport var ErrorCode;\n(function (ErrorCode) {\n    // When we have a placeholder but no value to format\n    ErrorCode[\"MISSING_VALUE\"] = \"MISSING_VALUE\";\n    // When value supplied is invalid\n    ErrorCode[\"INVALID_VALUE\"] = \"INVALID_VALUE\";\n    // When we need specific Intl API but it's not available\n    ErrorCode[\"MISSING_INTL_API\"] = \"MISSING_INTL_API\";\n})(ErrorCode || (ErrorCode = {}));\nvar FormatError = /** @class */ (function (_super) {\n    __extends(FormatError, _super);\n    function FormatError(msg, code, originalMessage) {\n        var _this = _super.call(this, msg) || this;\n        _this.code = code;\n        _this.originalMessage = originalMessage;\n        return _this;\n    }\n    FormatError.prototype.toString = function () {\n        return \"[formatjs Error: \".concat(this.code, \"] \").concat(this.message);\n    };\n    return FormatError;\n}(Error));\nexport { FormatError };\nvar InvalidValueError = /** @class */ (function (_super) {\n    __extends(InvalidValueError, _super);\n    function InvalidValueError(variableId, value, options, originalMessage) {\n        return _super.call(this, \"Invalid values for \\\"\".concat(variableId, \"\\\": \\\"\").concat(value, \"\\\". Options are \\\"\").concat(Object.keys(options).join('\", \"'), \"\\\"\"), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueError;\n}(FormatError));\nexport { InvalidValueError };\nvar InvalidValueTypeError = /** @class */ (function (_super) {\n    __extends(InvalidValueTypeError, _super);\n    function InvalidValueTypeError(value, type, originalMessage) {\n        return _super.call(this, \"Value for \\\"\".concat(value, \"\\\" must be of type \").concat(type), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueTypeError;\n}(FormatError));\nexport { InvalidValueTypeError };\nvar MissingValueError = /** @class */ (function (_super) {\n    __extends(MissingValueError, _super);\n    function MissingValueError(variableId, originalMessage) {\n        return _super.call(this, \"The intl string context variable \\\"\".concat(variableId, \"\\\" was not provided to the string \\\"\").concat(originalMessage, \"\\\"\"), ErrorCode.MISSING_VALUE, originalMessage) || this;\n    }\n    return MissingValueError;\n}(FormatError));\nexport { MissingValueError };\n","import { isArgumentElement, isDateElement, isDateTimeSkeleton, isLiteralElement, isNumberElement, isNumberSkeleton, isPluralElement, isPoundElement, isSelectElement, isTimeElement, isTagElement, } from '@formatjs/icu-messageformat-parser';\nimport { MissingValueError, InvalidValueError, ErrorCode, FormatError, InvalidValueTypeError, } from './error';\nexport var PART_TYPE;\n(function (PART_TYPE) {\n    PART_TYPE[PART_TYPE[\"literal\"] = 0] = \"literal\";\n    PART_TYPE[PART_TYPE[\"object\"] = 1] = \"object\";\n})(PART_TYPE || (PART_TYPE = {}));\nfunction mergeLiteral(parts) {\n    if (parts.length < 2) {\n        return parts;\n    }\n    return parts.reduce(function (all, part) {\n        var lastPart = all[all.length - 1];\n        if (!lastPart ||\n            lastPart.type !== PART_TYPE.literal ||\n            part.type !== PART_TYPE.literal) {\n            all.push(part);\n        }\n        else {\n            lastPart.value += part.value;\n        }\n        return all;\n    }, []);\n}\nexport function isFormatXMLElementFn(el) {\n    return typeof el === 'function';\n}\n// TODO(skeleton): add skeleton support\nexport function formatToParts(els, locales, formatters, formats, values, currentPluralValue, \n// For debugging\noriginalMessage) {\n    // Hot path for straight simple msg translations\n    if (els.length === 1 && isLiteralElement(els[0])) {\n        return [\n            {\n                type: PART_TYPE.literal,\n                value: els[0].value,\n            },\n        ];\n    }\n    var result = [];\n    for (var _i = 0, els_1 = els; _i < els_1.length; _i++) {\n        var el = els_1[_i];\n        // Exit early for string parts.\n        if (isLiteralElement(el)) {\n            result.push({\n                type: PART_TYPE.literal,\n                value: el.value,\n            });\n            continue;\n        }\n        // TODO: should this part be literal type?\n        // Replace `#` in plural rules with the actual numeric value.\n        if (isPoundElement(el)) {\n            if (typeof currentPluralValue === 'number') {\n                result.push({\n                    type: PART_TYPE.literal,\n                    value: formatters.getNumberFormat(locales).format(currentPluralValue),\n                });\n            }\n            continue;\n        }\n        var varName = el.value;\n        // Enforce that all required values are provided by the caller.\n        if (!(values && varName in values)) {\n            throw new MissingValueError(varName, originalMessage);\n        }\n        var value = values[varName];\n        if (isArgumentElement(el)) {\n            if (!value || typeof value === 'string' || typeof value === 'number') {\n                value =\n                    typeof value === 'string' || typeof value === 'number'\n                        ? String(value)\n                        : '';\n            }\n            result.push({\n                type: typeof value === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                value: value,\n            });\n            continue;\n        }\n        // Recursively format plural and select parts' option  which can be a\n        // nested pattern structure. The choosing of the option to use is\n        // abstracted-by and delegated-to the part helper object.\n        if (isDateElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.date[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTimeElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.time[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : formats.time.medium;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isNumberElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.number[el.style]\n                : isNumberSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            if (style && style.scale) {\n                value =\n                    value *\n                        (style.scale || 1);\n            }\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getNumberFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTagElement(el)) {\n            var children = el.children, value_1 = el.value;\n            var formatFn = values[value_1];\n            if (!isFormatXMLElementFn(formatFn)) {\n                throw new InvalidValueTypeError(value_1, 'function', originalMessage);\n            }\n            var parts = formatToParts(children, locales, formatters, formats, values, currentPluralValue);\n            var chunks = formatFn(parts.map(function (p) { return p.value; }));\n            if (!Array.isArray(chunks)) {\n                chunks = [chunks];\n            }\n            result.push.apply(result, chunks.map(function (c) {\n                return {\n                    type: typeof c === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                    value: c,\n                };\n            }));\n        }\n        if (isSelectElement(el)) {\n            var opt = el.options[value] || el.options.other;\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values));\n            continue;\n        }\n        if (isPluralElement(el)) {\n            var opt = el.options[\"=\".concat(value)];\n            if (!opt) {\n                if (!Intl.PluralRules) {\n                    throw new FormatError(\"Intl.PluralRules is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-pluralrules\\\"\\n\", ErrorCode.MISSING_INTL_API, originalMessage);\n                }\n                var rule = formatters\n                    .getPluralRules(locales, { type: el.pluralType })\n                    .select(value - (el.offset || 0));\n                opt = el.options[rule] || el.options.other;\n            }\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values, value - (el.offset || 0)));\n            continue;\n        }\n    }\n    return mergeLiteral(result);\n}\n","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nimport { __assign, __spreadArray } from \"tslib\";\nimport { parse } from '@formatjs/icu-messageformat-parser';\nimport memoize, { strategies } from '@formatjs/fast-memoize';\nimport { formatToParts, PART_TYPE, } from './formatters';\n// -- MessageFormat --------------------------------------------------------\nfunction mergeConfig(c1, c2) {\n    if (!c2) {\n        return c1;\n    }\n    return __assign(__assign(__assign({}, (c1 || {})), (c2 || {})), Object.keys(c1).reduce(function (all, k) {\n        all[k] = __assign(__assign({}, c1[k]), (c2[k] || {}));\n        return all;\n    }, {}));\n}\nfunction mergeConfigs(defaultConfig, configs) {\n    if (!configs) {\n        return defaultConfig;\n    }\n    return Object.keys(defaultConfig).reduce(function (all, k) {\n        all[k] = mergeConfig(defaultConfig[k], configs[k]);\n        return all;\n    }, __assign({}, defaultConfig));\n}\nfunction createFastMemoizeCache(store) {\n    return {\n        create: function () {\n            return {\n                get: function (key) {\n                    return store[key];\n                },\n                set: function (key, value) {\n                    store[key] = value;\n                },\n            };\n        },\n    };\n}\nfunction createDefaultFormatters(cache) {\n    if (cache === void 0) { cache = {\n        number: {},\n        dateTime: {},\n        pluralRules: {},\n    }; }\n    return {\n        getNumberFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.NumberFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.number),\n            strategy: strategies.variadic,\n        }),\n        getDateTimeFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.DateTimeFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.dateTime),\n            strategy: strategies.variadic,\n        }),\n        getPluralRules: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.PluralRules).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.pluralRules),\n            strategy: strategies.variadic,\n        }),\n    };\n}\nvar IntlMessageFormat = /** @class */ (function () {\n    function IntlMessageFormat(message, locales, overrideFormats, opts) {\n        var _this = this;\n        if (locales === void 0) { locales = IntlMessageFormat.defaultLocale; }\n        this.formatterCache = {\n            number: {},\n            dateTime: {},\n            pluralRules: {},\n        };\n        this.format = function (values) {\n            var parts = _this.formatToParts(values);\n            // Hot path for straight simple msg translations\n            if (parts.length === 1) {\n                return parts[0].value;\n            }\n            var result = parts.reduce(function (all, part) {\n                if (!all.length ||\n                    part.type !== PART_TYPE.literal ||\n                    typeof all[all.length - 1] !== 'string') {\n                    all.push(part.value);\n                }\n                else {\n                    all[all.length - 1] += part.value;\n                }\n                return all;\n            }, []);\n            if (result.length <= 1) {\n                return result[0] || '';\n            }\n            return result;\n        };\n        this.formatToParts = function (values) {\n            return formatToParts(_this.ast, _this.locales, _this.formatters, _this.formats, values, undefined, _this.message);\n        };\n        this.resolvedOptions = function () {\n            var _a;\n            return ({\n                locale: ((_a = _this.resolvedLocale) === null || _a === void 0 ? void 0 : _a.toString()) ||\n                    Intl.NumberFormat.supportedLocalesOf(_this.locales)[0],\n            });\n        };\n        this.getAst = function () { return _this.ast; };\n        // Defined first because it's used to build the format pattern.\n        this.locales = locales;\n        this.resolvedLocale = IntlMessageFormat.resolveLocale(locales);\n        if (typeof message === 'string') {\n            this.message = message;\n            if (!IntlMessageFormat.__parse) {\n                throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');\n            }\n            // Parse string messages into an AST.\n            this.ast = IntlMessageFormat.__parse(message, {\n                ignoreTag: opts === null || opts === void 0 ? void 0 : opts.ignoreTag,\n                locale: this.resolvedLocale,\n            });\n        }\n        else {\n            this.ast = message;\n        }\n        if (!Array.isArray(this.ast)) {\n            throw new TypeError('A message must be provided as a String or AST.');\n        }\n        // Creates a new object with the specified `formats` merged with the default\n        // formats.\n        this.formats = mergeConfigs(IntlMessageFormat.formats, overrideFormats);\n        this.formatters =\n            (opts && opts.formatters) || createDefaultFormatters(this.formatterCache);\n    }\n    Object.defineProperty(IntlMessageFormat, \"defaultLocale\", {\n        get: function () {\n            if (!IntlMessageFormat.memoizedDefaultLocale) {\n                IntlMessageFormat.memoizedDefaultLocale =\n                    new Intl.NumberFormat().resolvedOptions().locale;\n            }\n            return IntlMessageFormat.memoizedDefaultLocale;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    IntlMessageFormat.memoizedDefaultLocale = null;\n    IntlMessageFormat.resolveLocale = function (locales) {\n        if (typeof Intl.Locale === 'undefined') {\n            return;\n        }\n        var supportedLocales = Intl.NumberFormat.supportedLocalesOf(locales);\n        if (supportedLocales.length > 0) {\n            return new Intl.Locale(supportedLocales[0]);\n        }\n        return new Intl.Locale(typeof locales === 'string' ? locales : locales[0]);\n    };\n    IntlMessageFormat.__parse = parse;\n    // Default format options used as the prototype of the `formats` provided to the\n    // constructor. These are used when constructing the internal Intl.NumberFormat\n    // and Intl.DateTimeFormat instances.\n    IntlMessageFormat.formats = {\n        number: {\n            integer: {\n                maximumFractionDigits: 0,\n            },\n            currency: {\n                style: 'currency',\n            },\n            percent: {\n                style: 'percent',\n            },\n        },\n        date: {\n            short: {\n                month: 'numeric',\n                day: 'numeric',\n                year: '2-digit',\n            },\n            medium: {\n                month: 'short',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            long: {\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            full: {\n                weekday: 'long',\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n        },\n        time: {\n            short: {\n                hour: 'numeric',\n                minute: 'numeric',\n            },\n            medium: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n            },\n            long: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n            full: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n        },\n    };\n    return IntlMessageFormat;\n}());\nexport { IntlMessageFormat };\n","import { __extends } from \"tslib\";\nexport var IntlErrorCode;\n(function (IntlErrorCode) {\n    IntlErrorCode[\"FORMAT_ERROR\"] = \"FORMAT_ERROR\";\n    IntlErrorCode[\"UNSUPPORTED_FORMATTER\"] = \"UNSUPPORTED_FORMATTER\";\n    IntlErrorCode[\"INVALID_CONFIG\"] = \"INVALID_CONFIG\";\n    IntlErrorCode[\"MISSING_DATA\"] = \"MISSING_DATA\";\n    IntlErrorCode[\"MISSING_TRANSLATION\"] = \"MISSING_TRANSLATION\";\n})(IntlErrorCode || (IntlErrorCode = {}));\nvar IntlError = /** @class */ (function (_super) {\n    __extends(IntlError, _super);\n    function IntlError(code, message, exception) {\n        var _this = this;\n        var err = exception\n            ? exception instanceof Error\n                ? exception\n                : new Error(String(exception))\n            : undefined;\n        _this = _super.call(this, \"[@formatjs/intl Error \".concat(code, \"] \").concat(message, \"\\n\").concat(err ? \"\\n\".concat(err.message, \"\\n\").concat(err.stack) : '')) || this;\n        _this.code = code;\n        // @ts-ignore just so we don't need to declare dep on @types/node\n        if (typeof Error.captureStackTrace === 'function') {\n            // @ts-ignore just so we don't need to declare dep on @types/node\n            Error.captureStackTrace(_this, IntlError);\n        }\n        return _this;\n    }\n    return IntlError;\n}(Error));\nexport { IntlError };\nvar UnsupportedFormatterError = /** @class */ (function (_super) {\n    __extends(UnsupportedFormatterError, _super);\n    function UnsupportedFormatterError(message, exception) {\n        return _super.call(this, IntlErrorCode.UNSUPPORTED_FORMATTER, message, exception) || this;\n    }\n    return UnsupportedFormatterError;\n}(IntlError));\nexport { UnsupportedFormatterError };\nvar InvalidConfigError = /** @class */ (function (_super) {\n    __extends(InvalidConfigError, _super);\n    function InvalidConfigError(message, exception) {\n        return _super.call(this, IntlErrorCode.INVALID_CONFIG, message, exception) || this;\n    }\n    return InvalidConfigError;\n}(IntlError));\nexport { InvalidConfigError };\nvar MissingDataError = /** @class */ (function (_super) {\n    __extends(MissingDataError, _super);\n    function MissingDataError(message, exception) {\n        return _super.call(this, IntlErrorCode.MISSING_DATA, message, exception) || this;\n    }\n    return MissingDataError;\n}(IntlError));\nexport { MissingDataError };\nvar IntlFormatError = /** @class */ (function (_super) {\n    __extends(IntlFormatError, _super);\n    function IntlFormatError(message, locale, exception) {\n        return _super.call(this, IntlErrorCode.FORMAT_ERROR, \"\".concat(message, \"\\nLocale: \").concat(locale, \"\\n\"), exception) || this;\n    }\n    return IntlFormatError;\n}(IntlError));\nexport { IntlFormatError };\nvar MessageFormatError = /** @class */ (function (_super) {\n    __extends(MessageFormatError, _super);\n    function MessageFormatError(message, locale, descriptor, exception) {\n        var _this = _super.call(this, \"\".concat(message, \"\\nMessageID: \").concat(descriptor === null || descriptor === void 0 ? void 0 : descriptor.id, \"\\nDefault Message: \").concat(descriptor === null || descriptor === void 0 ? void 0 : descriptor.defaultMessage, \"\\nDescription: \").concat(descriptor === null || descriptor === void 0 ? void 0 : descriptor.description, \"\\n\"), locale, exception) || this;\n        _this.descriptor = descriptor;\n        return _this;\n    }\n    return MessageFormatError;\n}(IntlFormatError));\nexport { MessageFormatError };\nvar MissingTranslationError = /** @class */ (function (_super) {\n    __extends(MissingTranslationError, _super);\n    function MissingTranslationError(descriptor, locale) {\n        var _this = _super.call(this, IntlErrorCode.MISSING_TRANSLATION, \"Missing message: \\\"\".concat(descriptor.id, \"\\\" for locale \\\"\").concat(locale, \"\\\", using \").concat(descriptor.defaultMessage\n            ? \"default message (\".concat(typeof descriptor.defaultMessage === 'string'\n                ? descriptor.defaultMessage\n                : descriptor.defaultMessage\n                    .map(function (e) { var _a; return (_a = e.value) !== null && _a !== void 0 ? _a : JSON.stringify(e); })\n                    .join(), \")\")\n            : 'id', \" as fallback.\")) || this;\n        _this.descriptor = descriptor;\n        return _this;\n    }\n    return MissingTranslationError;\n}(IntlError));\nexport { MissingTranslationError };\n","import { __assign, __spreadArray } from \"tslib\";\nimport { IntlMessageFormat } from 'intl-messageformat';\nimport memoize, { strategies } from '@formatjs/fast-memoize';\nimport { UnsupportedFormatterError } from './error';\nexport function filterProps(props, allowlist, defaults) {\n    if (defaults === void 0) { defaults = {}; }\n    return allowlist.reduce(function (filtered, name) {\n        if (name in props) {\n            filtered[name] = props[name];\n        }\n        else if (name in defaults) {\n            filtered[name] = defaults[name];\n        }\n        return filtered;\n    }, {});\n}\nvar defaultErrorHandler = function (error) {\n    // @ts-ignore just so we don't need to declare dep on @types/node\n    if (process.env.NODE_ENV !== 'production') {\n        console.error(error);\n    }\n};\nvar defaultWarnHandler = function (warning) {\n    // @ts-ignore just so we don't need to declare dep on @types/node\n    if (process.env.NODE_ENV !== 'production') {\n        console.warn(warning);\n    }\n};\nexport var DEFAULT_INTL_CONFIG = {\n    formats: {},\n    messages: {},\n    timeZone: undefined,\n    defaultLocale: 'en',\n    defaultFormats: {},\n    fallbackOnEmptyString: true,\n    onError: defaultErrorHandler,\n    onWarn: defaultWarnHandler,\n};\nexport function createIntlCache() {\n    return {\n        dateTime: {},\n        number: {},\n        message: {},\n        relativeTime: {},\n        pluralRules: {},\n        list: {},\n        displayNames: {},\n    };\n}\nfunction createFastMemoizeCache(store) {\n    return {\n        create: function () {\n            return {\n                get: function (key) {\n                    return store[key];\n                },\n                set: function (key, value) {\n                    store[key] = value;\n                },\n            };\n        },\n    };\n}\n/**\n * Create intl formatters and populate cache\n * @param cache explicit cache to prevent leaking memory\n */\nexport function createFormatters(cache) {\n    if (cache === void 0) { cache = createIntlCache(); }\n    var RelativeTimeFormat = Intl.RelativeTimeFormat;\n    var ListFormat = Intl.ListFormat;\n    var DisplayNames = Intl.DisplayNames;\n    var getDateTimeFormat = memoize(function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return new ((_a = Intl.DateTimeFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n    }, {\n        cache: createFastMemoizeCache(cache.dateTime),\n        strategy: strategies.variadic,\n    });\n    var getNumberFormat = memoize(function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return new ((_a = Intl.NumberFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n    }, {\n        cache: createFastMemoizeCache(cache.number),\n        strategy: strategies.variadic,\n    });\n    var getPluralRules = memoize(function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return new ((_a = Intl.PluralRules).bind.apply(_a, __spreadArray([void 0], args, false)))();\n    }, {\n        cache: createFastMemoizeCache(cache.pluralRules),\n        strategy: strategies.variadic,\n    });\n    return {\n        getDateTimeFormat: getDateTimeFormat,\n        getNumberFormat: getNumberFormat,\n        getMessageFormat: memoize(function (message, locales, overrideFormats, opts) {\n            return new IntlMessageFormat(message, locales, overrideFormats, __assign({ formatters: {\n                    getNumberFormat: getNumberFormat,\n                    getDateTimeFormat: getDateTimeFormat,\n                    getPluralRules: getPluralRules,\n                } }, (opts || {})));\n        }, {\n            cache: createFastMemoizeCache(cache.message),\n            strategy: strategies.variadic,\n        }),\n        getRelativeTimeFormat: memoize(function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new (RelativeTimeFormat.bind.apply(RelativeTimeFormat, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.relativeTime),\n            strategy: strategies.variadic,\n        }),\n        getPluralRules: getPluralRules,\n        getListFormat: memoize(function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new (ListFormat.bind.apply(ListFormat, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.list),\n            strategy: strategies.variadic,\n        }),\n        getDisplayNames: memoize(function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new (DisplayNames.bind.apply(DisplayNames, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.displayNames),\n            strategy: strategies.variadic,\n        }),\n    };\n}\nexport function getNamedFormat(formats, type, name, onError) {\n    var formatType = formats && formats[type];\n    var format;\n    if (formatType) {\n        format = formatType[name];\n    }\n    if (format) {\n        return format;\n    }\n    onError(new UnsupportedFormatterError(\"No \".concat(type, \" format named: \").concat(name)));\n}\n","import { getNamedFormat, filterProps } from './utils';\nimport { IntlError, IntlErrorCode } from './error';\nvar NUMBER_FORMAT_OPTIONS = [\n    'style',\n    'currency',\n    'currencyDisplay',\n    'unit',\n    'unitDisplay',\n    'useGrouping',\n    'minimumIntegerDigits',\n    'minimumFractionDigits',\n    'maximumFractionDigits',\n    'minimumSignificantDigits',\n    'maximumSignificantDigits',\n    // ES2020 NumberFormat\n    'compactDisplay',\n    'currencyDisplay',\n    'currencySign',\n    'notation',\n    'signDisplay',\n    'unit',\n    'unitDisplay',\n    'numberingSystem',\n];\nexport function getFormatter(_a, getNumberFormat, options) {\n    var locale = _a.locale, formats = _a.formats, onError = _a.onError;\n    if (options === void 0) { options = {}; }\n    var format = options.format;\n    var defaults = ((format &&\n        getNamedFormat(formats, 'number', format, onError)) ||\n        {});\n    var filteredOptions = filterProps(options, NUMBER_FORMAT_OPTIONS, defaults);\n    return getNumberFormat(locale, filteredOptions);\n}\nexport function formatNumber(config, getNumberFormat, value, options) {\n    if (options === void 0) { options = {}; }\n    try {\n        return getFormatter(config, getNumberFormat, options).format(value);\n    }\n    catch (e) {\n        config.onError(new IntlError(IntlErrorCode.FORMAT_ERROR, 'Error formatting number.', e));\n    }\n    return String(value);\n}\nexport function formatNumberToParts(config, getNumberFormat, value, options) {\n    if (options === void 0) { options = {}; }\n    try {\n        return getFormatter(config, getNumberFormat, options).formatToParts(value);\n    }\n    catch (e) {\n        config.onError(new IntlError(IntlErrorCode.FORMAT_ERROR, 'Error formatting number.', e));\n    }\n    return [];\n}\n","import { getNamedFormat, filterProps } from './utils';\nimport { FormatError, ErrorCode } from 'intl-messageformat';\nimport { IntlFormatError } from './error';\nvar RELATIVE_TIME_FORMAT_OPTIONS = ['numeric', 'style'];\nfunction getFormatter(_a, getRelativeTimeFormat, options) {\n    var locale = _a.locale, formats = _a.formats, onError = _a.onError;\n    if (options === void 0) { options = {}; }\n    var format = options.format;\n    var defaults = (!!format && getNamedFormat(formats, 'relative', format, onError)) || {};\n    var filteredOptions = filterProps(options, RELATIVE_TIME_FORMAT_OPTIONS, defaults);\n    return getRelativeTimeFormat(locale, filteredOptions);\n}\nexport function formatRelativeTime(config, getRelativeTimeFormat, value, unit, options) {\n    if (options === void 0) { options = {}; }\n    if (!unit) {\n        unit = 'second';\n    }\n    var RelativeTimeFormat = Intl.RelativeTimeFormat;\n    if (!RelativeTimeFormat) {\n        config.onError(new FormatError(\"Intl.RelativeTimeFormat is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-relativetimeformat\\\"\\n\", ErrorCode.MISSING_INTL_API));\n    }\n    try {\n        return getFormatter(config, getRelativeTimeFormat, options).format(value, unit);\n    }\n    catch (e) {\n        config.onError(new IntlFormatError('Error formatting relative time.', config.locale, e));\n    }\n    return String(value);\n}\n","import { __assign } from \"tslib\";\nimport { filterProps, getNamedFormat } from './utils';\nimport { IntlError, IntlErrorCode } from './error';\nvar DATE_TIME_FORMAT_OPTIONS = [\n    'formatMatcher',\n    'timeZone',\n    'hour12',\n    'weekday',\n    'era',\n    'year',\n    'month',\n    'day',\n    'hour',\n    'minute',\n    'second',\n    'timeZoneName',\n    'hourCycle',\n    'dateStyle',\n    'timeStyle',\n    'calendar',\n    // 'dayPeriod',\n    'numberingSystem',\n    'fractionalSecondDigits',\n];\nexport function getFormatter(_a, type, getDateTimeFormat, options) {\n    var locale = _a.locale, formats = _a.formats, onError = _a.onError, timeZone = _a.timeZone;\n    if (options === void 0) { options = {}; }\n    var format = options.format;\n    var defaults = __assign(__assign({}, (timeZone && { timeZone: timeZone })), (format && getNamedFormat(formats, type, format, onError)));\n    var filteredOptions = filterProps(options, DATE_TIME_FORMAT_OPTIONS, defaults);\n    if (type === 'time' &&\n        !filteredOptions.hour &&\n        !filteredOptions.minute &&\n        !filteredOptions.second &&\n        !filteredOptions.timeStyle &&\n        !filteredOptions.dateStyle) {\n        // Add default formatting options if hour, minute, or second isn't defined.\n        filteredOptions = __assign(__assign({}, filteredOptions), { hour: 'numeric', minute: 'numeric' });\n    }\n    return getDateTimeFormat(locale, filteredOptions);\n}\nexport function formatDate(config, getDateTimeFormat) {\n    var _a = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        _a[_i - 2] = arguments[_i];\n    }\n    var value = _a[0], _b = _a[1], options = _b === void 0 ? {} : _b;\n    var date = typeof value === 'string' ? new Date(value || 0) : value;\n    try {\n        return getFormatter(config, 'date', getDateTimeFormat, options).format(date);\n    }\n    catch (e) {\n        config.onError(new IntlError(IntlErrorCode.FORMAT_ERROR, 'Error formatting date.', e));\n    }\n    return String(date);\n}\nexport function formatTime(config, getDateTimeFormat) {\n    var _a = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        _a[_i - 2] = arguments[_i];\n    }\n    var value = _a[0], _b = _a[1], options = _b === void 0 ? {} : _b;\n    var date = typeof value === 'string' ? new Date(value || 0) : value;\n    try {\n        return getFormatter(config, 'time', getDateTimeFormat, options).format(date);\n    }\n    catch (e) {\n        config.onError(new IntlError(IntlErrorCode.FORMAT_ERROR, 'Error formatting time.', e));\n    }\n    return String(date);\n}\nexport function formatDateTimeRange(config, getDateTimeFormat) {\n    var _a = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        _a[_i - 2] = arguments[_i];\n    }\n    var from = _a[0], to = _a[1], _b = _a[2], options = _b === void 0 ? {} : _b;\n    var timeZone = config.timeZone, locale = config.locale, onError = config.onError;\n    var filteredOptions = filterProps(options, DATE_TIME_FORMAT_OPTIONS, timeZone ? { timeZone: timeZone } : {});\n    try {\n        return getDateTimeFormat(locale, filteredOptions).formatRange(from, to);\n    }\n    catch (e) {\n        onError(new IntlError(IntlErrorCode.FORMAT_ERROR, 'Error formatting date time range.', e));\n    }\n    return String(from);\n}\nexport function formatDateToParts(config, getDateTimeFormat) {\n    var _a = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        _a[_i - 2] = arguments[_i];\n    }\n    var value = _a[0], _b = _a[1], options = _b === void 0 ? {} : _b;\n    var date = typeof value === 'string' ? new Date(value || 0) : value;\n    try {\n        return getFormatter(config, 'date', getDateTimeFormat, options).formatToParts(date);\n    }\n    catch (e) {\n        config.onError(new IntlError(IntlErrorCode.FORMAT_ERROR, 'Error formatting date.', e));\n    }\n    return [];\n}\nexport function formatTimeToParts(config, getDateTimeFormat) {\n    var _a = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        _a[_i - 2] = arguments[_i];\n    }\n    var value = _a[0], _b = _a[1], options = _b === void 0 ? {} : _b;\n    var date = typeof value === 'string' ? new Date(value || 0) : value;\n    try {\n        return getFormatter(config, 'time', getDateTimeFormat, options).formatToParts(date);\n    }\n    catch (e) {\n        config.onError(new IntlError(IntlErrorCode.FORMAT_ERROR, 'Error formatting time.', e));\n    }\n    return [];\n}\n","import { filterProps } from './utils';\nimport { IntlFormatError } from './error';\nimport { ErrorCode, FormatError } from 'intl-messageformat';\nvar PLURAL_FORMAT_OPTIONS = ['type'];\nexport function formatPlural(_a, getPluralRules, value, options) {\n    var locale = _a.locale, onError = _a.onError;\n    if (options === void 0) { options = {}; }\n    if (!Intl.PluralRules) {\n        onError(new FormatError(\"Intl.PluralRules is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-pluralrules\\\"\\n\", ErrorCode.MISSING_INTL_API));\n    }\n    var filteredOptions = filterProps(options, PLURAL_FORMAT_OPTIONS);\n    try {\n        return getPluralRules(locale, filteredOptions).select(value);\n    }\n    catch (e) {\n        onError(new IntlFormatError('Error formatting plural.', locale, e));\n    }\n    return 'other';\n}\n","import { __assign } from \"tslib\";\nimport { invariant } from '@formatjs/ecma402-abstract';\nimport { IntlMessageFormat, } from 'intl-messageformat';\nimport { MissingTranslationError, MessageFormatError } from './error';\nimport { TYPE } from '@formatjs/icu-messageformat-parser';\nfunction setTimeZoneInOptions(opts, timeZone) {\n    return Object.keys(opts).reduce(function (all, k) {\n        all[k] = __assign({ timeZone: timeZone }, opts[k]);\n        return all;\n    }, {});\n}\nfunction deepMergeOptions(opts1, opts2) {\n    var keys = Object.keys(__assign(__assign({}, opts1), opts2));\n    return keys.reduce(function (all, k) {\n        all[k] = __assign(__assign({}, (opts1[k] || {})), (opts2[k] || {}));\n        return all;\n    }, {});\n}\nfunction deepMergeFormatsAndSetTimeZone(f1, timeZone) {\n    if (!timeZone) {\n        return f1;\n    }\n    var mfFormats = IntlMessageFormat.formats;\n    return __assign(__assign(__assign({}, mfFormats), f1), { date: deepMergeOptions(setTimeZoneInOptions(mfFormats.date, timeZone), setTimeZoneInOptions(f1.date || {}, timeZone)), time: deepMergeOptions(setTimeZoneInOptions(mfFormats.time, timeZone), setTimeZoneInOptions(f1.time || {}, timeZone)) });\n}\nexport var formatMessage = function (_a, state, messageDescriptor, values, opts) {\n    var locale = _a.locale, formats = _a.formats, messages = _a.messages, defaultLocale = _a.defaultLocale, defaultFormats = _a.defaultFormats, fallbackOnEmptyString = _a.fallbackOnEmptyString, onError = _a.onError, timeZone = _a.timeZone, defaultRichTextElements = _a.defaultRichTextElements;\n    if (messageDescriptor === void 0) { messageDescriptor = { id: '' }; }\n    var msgId = messageDescriptor.id, defaultMessage = messageDescriptor.defaultMessage;\n    // `id` is a required field of a Message Descriptor.\n    invariant(!!msgId, \"[@formatjs/intl] An `id` must be provided to format a message. You can either:\\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\\nto autofix this issue\");\n    var id = String(msgId);\n    var message = \n    // In case messages is Object.create(null)\n    // e.g import('foo.json') from webpack)\n    // See https://github.com/formatjs/formatjs/issues/1914\n    messages &&\n        Object.prototype.hasOwnProperty.call(messages, id) &&\n        messages[id];\n    // IMPORTANT: Hot path if `message` is AST with a single literal node\n    if (Array.isArray(message) &&\n        message.length === 1 &&\n        message[0].type === TYPE.literal) {\n        return message[0].value;\n    }\n    // IMPORTANT: Hot path straight lookup for performance\n    if (!values &&\n        message &&\n        typeof message === 'string' &&\n        !defaultRichTextElements) {\n        return message.replace(/'\\{(.*?)\\}'/gi, \"{$1}\");\n    }\n    values = __assign(__assign({}, defaultRichTextElements), (values || {}));\n    formats = deepMergeFormatsAndSetTimeZone(formats, timeZone);\n    defaultFormats = deepMergeFormatsAndSetTimeZone(defaultFormats, timeZone);\n    if (!message) {\n        if (fallbackOnEmptyString === false && message === '') {\n            return message;\n        }\n        if (!defaultMessage ||\n            (locale && locale.toLowerCase() !== defaultLocale.toLowerCase())) {\n            // This prevents warnings from littering the console in development\n            // when no `messages` are passed into the <IntlProvider> for the\n            // default locale.\n            onError(new MissingTranslationError(messageDescriptor, locale));\n        }\n        if (defaultMessage) {\n            try {\n                var formatter = state.getMessageFormat(defaultMessage, defaultLocale, defaultFormats, opts);\n                return formatter.format(values);\n            }\n            catch (e) {\n                onError(new MessageFormatError(\"Error formatting default message for: \\\"\".concat(id, \"\\\", rendering default message verbatim\"), locale, messageDescriptor, e));\n                return typeof defaultMessage === 'string' ? defaultMessage : id;\n            }\n        }\n        return id;\n    }\n    // We have the translated message\n    try {\n        var formatter = state.getMessageFormat(message, locale, formats, __assign({ formatters: state }, (opts || {})));\n        return formatter.format(values);\n    }\n    catch (e) {\n        onError(new MessageFormatError(\"Error formatting message: \\\"\".concat(id, \"\\\", using \").concat(defaultMessage ? 'default message' : 'id', \" as fallback.\"), locale, messageDescriptor, e));\n    }\n    if (defaultMessage) {\n        try {\n            var formatter = state.getMessageFormat(defaultMessage, defaultLocale, defaultFormats, opts);\n            return formatter.format(values);\n        }\n        catch (e) {\n            onError(new MessageFormatError(\"Error formatting the default message for: \\\"\".concat(id, \"\\\", rendering message verbatim\"), locale, messageDescriptor, e));\n        }\n    }\n    if (typeof message === 'string') {\n        return message;\n    }\n    if (typeof defaultMessage === 'string') {\n        return defaultMessage;\n    }\n    return id;\n};\n","/**\n * Cannot do Math.log(x) / Math.log(10) bc if IEEE floating point issue\n * @param x number\n */\nexport function getMagnitude(x) {\n    // Cannot count string length via Number.toString because it may use scientific notation\n    // for very small or very large numbers.\n    return Math.floor(Math.log(x) * Math.LOG10E);\n}\nexport function repeat(s, times) {\n    if (typeof s.repeat === 'function') {\n        return s.repeat(times);\n    }\n    var arr = new Array(times);\n    for (var i = 0; i < arr.length; i++) {\n        arr[i] = s;\n    }\n    return arr.join('');\n}\nexport function setInternalSlot(map, pl, field, value) {\n    if (!map.get(pl)) {\n        map.set(pl, Object.create(null));\n    }\n    var slots = map.get(pl);\n    slots[field] = value;\n}\nexport function setMultiInternalSlots(map, pl, props) {\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n        var k = _a[_i];\n        setInternalSlot(map, pl, k, props[k]);\n    }\n}\nexport function getInternalSlot(map, pl, field) {\n    return getMultiInternalSlots(map, pl, field)[field];\n}\nexport function getMultiInternalSlots(map, pl) {\n    var fields = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        fields[_i - 2] = arguments[_i];\n    }\n    var slots = map.get(pl);\n    if (!slots) {\n        throw new TypeError(\"\".concat(pl, \" InternalSlot has not been initialized\"));\n    }\n    return fields.reduce(function (all, f) {\n        all[f] = slots[f];\n        return all;\n    }, Object.create(null));\n}\nexport function isLiteralPart(patternPart) {\n    return patternPart.type === 'literal';\n}\n/*\n  17 ECMAScript Standard Built-in Objects:\n    Every built-in Function object, including constructors, that is not\n    identified as an anonymous function has a name property whose value\n    is a String.\n\n    Unless otherwise specified, the name property of a built-in Function\n    object, if it exists, has the attributes { [[Writable]]: false,\n    [[Enumerable]]: false, [[Configurable]]: true }.\n*/\nexport function defineProperty(target, name, _a) {\n    var value = _a.value;\n    Object.defineProperty(target, name, {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: value,\n    });\n}\nexport var UNICODE_EXTENSION_SEQUENCE_REGEX = /-u(?:-[0-9a-z]{2,8})+/gi;\nexport function invariant(condition, message, Err) {\n    if (Err === void 0) { Err = Error; }\n    if (!condition) {\n        throw new Err(message);\n    }\n}\n","import { __assign } from \"tslib\";\nimport { filterProps } from './utils';\nimport { FormatError, ErrorCode } from 'intl-messageformat';\nimport { IntlError, IntlErrorCode } from './error';\nvar LIST_FORMAT_OPTIONS = [\n    'type',\n    'style',\n];\nvar now = Date.now();\nfunction generateToken(i) {\n    return \"\".concat(now, \"_\").concat(i, \"_\").concat(now);\n}\nexport function formatList(opts, getListFormat, values, options) {\n    if (options === void 0) { options = {}; }\n    var results = formatListToParts(opts, getListFormat, values, options).reduce(function (all, el) {\n        var val = el.value;\n        if (typeof val !== 'string') {\n            all.push(val);\n        }\n        else if (typeof all[all.length - 1] === 'string') {\n            all[all.length - 1] += val;\n        }\n        else {\n            all.push(val);\n        }\n        return all;\n    }, []);\n    return results.length === 1 ? results[0] : results;\n}\nexport function formatListToParts(_a, getListFormat, values, options) {\n    var locale = _a.locale, onError = _a.onError;\n    if (options === void 0) { options = {}; }\n    var ListFormat = Intl.ListFormat;\n    if (!ListFormat) {\n        onError(new FormatError(\"Intl.ListFormat is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-listformat\\\"\\n\", ErrorCode.MISSING_INTL_API));\n    }\n    var filteredOptions = filterProps(options, LIST_FORMAT_OPTIONS);\n    try {\n        var richValues_1 = {};\n        var serializedValues = values.map(function (v, i) {\n            if (typeof v === 'object') {\n                var id = generateToken(i);\n                richValues_1[id] = v;\n                return id;\n            }\n            return String(v);\n        });\n        return getListFormat(locale, filteredOptions)\n            .formatToParts(serializedValues)\n            .map(function (part) {\n            return part.type === 'literal'\n                ? part\n                : __assign(__assign({}, part), { value: richValues_1[part.value] || part.value });\n        });\n    }\n    catch (e) {\n        onError(new IntlError(IntlErrorCode.FORMAT_ERROR, 'Error formatting list.', e));\n    }\n    // @ts-ignore\n    return values;\n}\n","import { filterProps } from './utils';\nimport { FormatError, ErrorCode } from 'intl-messageformat';\nimport { IntlErrorCode, IntlError } from './error';\nvar DISPLAY_NAMES_OPTONS = [\n    'style',\n    'type',\n    'fallback',\n];\nexport function formatDisplayName(_a, getDisplayNames, value, options) {\n    var locale = _a.locale, onError = _a.onError;\n    var DisplayNames = Intl.DisplayNames;\n    if (!DisplayNames) {\n        onError(new FormatError(\"Intl.DisplayNames is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-displaynames\\\"\\n\", ErrorCode.MISSING_INTL_API));\n    }\n    var filteredOptions = filterProps(options, DISPLAY_NAMES_OPTONS);\n    try {\n        return getDisplayNames(locale, filteredOptions).of(value);\n    }\n    catch (e) {\n        onError(new IntlError(IntlErrorCode.FORMAT_ERROR, 'Error formatting display name.', e));\n    }\n}\n","import { __assign } from \"tslib\";\nimport { createFormatters, DEFAULT_INTL_CONFIG } from './utils';\nimport { InvalidConfigError, MissingDataError } from './error';\nimport { formatNumber, formatNumberToParts } from './number';\nimport { formatRelativeTime } from './relativeTime';\nimport { formatDate, formatDateToParts, formatTime, formatTimeToParts, formatDateTimeRange, } from './dateTime';\nimport { formatPlural } from './plural';\nimport { formatMessage } from './message';\nimport { formatList, formatListToParts } from './list';\nimport { formatDisplayName } from './displayName';\nfunction messagesContainString(messages) {\n    var firstMessage = messages ? messages[Object.keys(messages)[0]] : undefined;\n    return typeof firstMessage === 'string';\n}\nfunction verifyConfigMessages(config) {\n    if (config.onWarn &&\n        config.defaultRichTextElements &&\n        messagesContainString(config.messages || {})) {\n        config.onWarn(\"[@formatjs/intl] \\\"defaultRichTextElements\\\" was specified but \\\"message\\\" was not pre-compiled. \\nPlease consider using \\\"@formatjs/cli\\\" to pre-compile your messages for performance.\\nFor more details see https://formatjs.io/docs/getting-started/message-distribution\");\n    }\n}\n/**\n * Create intl object\n * @param config intl config\n * @param cache cache for formatter instances to prevent memory leak\n */\nexport function createIntl(config, cache) {\n    var formatters = createFormatters(cache);\n    var resolvedConfig = __assign(__assign({}, DEFAULT_INTL_CONFIG), config);\n    var locale = resolvedConfig.locale, defaultLocale = resolvedConfig.defaultLocale, onError = resolvedConfig.onError;\n    if (!locale) {\n        if (onError) {\n            onError(new InvalidConfigError(\"\\\"locale\\\" was not configured, using \\\"\".concat(defaultLocale, \"\\\" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details\")));\n        }\n        // Since there's no registered locale data for `locale`, this will\n        // fallback to the `defaultLocale` to make sure things can render.\n        // The `messages` are overridden to the `defaultProps` empty object\n        // to maintain referential equality across re-renders. It's assumed\n        // each <FormattedMessage> contains a `defaultMessage` prop.\n        resolvedConfig.locale = resolvedConfig.defaultLocale || 'en';\n    }\n    else if (!Intl.NumberFormat.supportedLocalesOf(locale).length && onError) {\n        onError(new MissingDataError(\"Missing locale data for locale: \\\"\".concat(locale, \"\\\" in Intl.NumberFormat. Using default locale: \\\"\").concat(defaultLocale, \"\\\" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details\")));\n    }\n    else if (!Intl.DateTimeFormat.supportedLocalesOf(locale).length &&\n        onError) {\n        onError(new MissingDataError(\"Missing locale data for locale: \\\"\".concat(locale, \"\\\" in Intl.DateTimeFormat. Using default locale: \\\"\").concat(defaultLocale, \"\\\" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details\")));\n    }\n    verifyConfigMessages(resolvedConfig);\n    return __assign(__assign({}, resolvedConfig), { formatters: formatters, formatNumber: formatNumber.bind(null, resolvedConfig, formatters.getNumberFormat), formatNumberToParts: formatNumberToParts.bind(null, resolvedConfig, formatters.getNumberFormat), formatRelativeTime: formatRelativeTime.bind(null, resolvedConfig, formatters.getRelativeTimeFormat), formatDate: formatDate.bind(null, resolvedConfig, formatters.getDateTimeFormat), formatDateToParts: formatDateToParts.bind(null, resolvedConfig, formatters.getDateTimeFormat), formatTime: formatTime.bind(null, resolvedConfig, formatters.getDateTimeFormat), formatDateTimeRange: formatDateTimeRange.bind(null, resolvedConfig, formatters.getDateTimeFormat), formatTimeToParts: formatTimeToParts.bind(null, resolvedConfig, formatters.getDateTimeFormat), formatPlural: formatPlural.bind(null, resolvedConfig, formatters.getPluralRules), formatMessage: formatMessage.bind(null, resolvedConfig, formatters), $t: formatMessage.bind(null, resolvedConfig, formatters), formatList: formatList.bind(null, resolvedConfig, formatters.getListFormat), formatListToParts: formatListToParts.bind(null, resolvedConfig, formatters.getListFormat), formatDisplayName: formatDisplayName.bind(null, resolvedConfig, formatters.getDisplayNames) });\n}\n","import { createIntl, createIntlCache, IntlShape } from '@formatjs/intl';\nimport { normalizeLocale } from './locale';\nimport type { localizedMessages as localizedMessagesTypeBase } from './translations/view/__intergalactic-dynamic-locales';\n\nexport type Intl = IntlShape<typeof localizedMessagesTypeBase['en']>;\nconst messagesCache = createIntlCache();\nconst intlCache: { [locale: string]: ReturnType<typeof createIntl> } = {};\nexport const getIntl = (\n  locale: string,\n  translations: { [messageId: string]: string } = {},\n  availableLocales: { [localeId: string]: any },\n) => {\n  locale = normalizeLocale(locale, availableLocales) ?? 'en';\n  intlCache[locale] = createIntl(\n    {\n      locale: locale,\n      defaultLocale: 'en',\n      messages: translations,\n    },\n    messagesCache,\n  );\n  return intlCache[locale] as Intl;\n};\n","import { AnalyzedData, ClusterNode, ComparisonNode, GeneralTrendNode, TrendNode } from './insights';\n\nimport React from 'react';\nimport { DataSummarizationConfig } from './hints';\nimport { getIntl, Intl } from './intl';\n\nconst formatLimitedSizeList = (\n  items: unknown[],\n  intl: Intl,\n  maxFinalStringLength = 100,\n  includeEllipsis = true,\n) => {\n  let limit = items.length;\n  const stringifyList = () => {\n    const cutItems = items.slice(0, limit);\n    if (items.length > limit && includeEllipsis) {\n      cutItems.push(intl.formatMessage({ id: 'ellipsis' }, { leftCount: limit - items.length }));\n    }\n\n    return intl.formatList(cutItems);\n  };\n\n  let formattedList = stringifyList();\n  if (formattedList.length <= maxFinalStringLength) {\n    return formattedList;\n  }\n\n  const overflowRatio = formattedList.length / maxFinalStringLength;\n  limit = Math.floor(limit / overflowRatio);\n  if (limit === 0) {\n    limit = 1;\n    return stringifyList();\n  }\n\n  formattedList = stringifyList();\n\n  const maxIncreaseAttempts = 4;\n  for (let i = 0; i < maxIncreaseAttempts; i++) {\n    limit++;\n    const newLimitFormattedList = stringifyList();\n\n    if (newLimitFormattedList.length > maxFinalStringLength) {\n      return formattedList;\n    }\n\n    formattedList = newLimitFormattedList;\n  }\n\n  return formattedList;\n};\n\nconst isReactComponent = (obj: any) =>\n  typeof obj === 'object' && obj && 'displayName' in obj && typeof obj.displayName === 'string';\n\nconst guessNumberAsTimestampMinDate = new Date('1975').getTime();\n\nexport const formatValue = (\n  intl: Intl,\n  value: unknown,\n  {\n    siblingsTimeMark,\n    maxListSymbols,\n    datesWithTime,\n  }: {\n    siblingsTimeMark?: unknown;\n    maxListSymbols?: number;\n    datesWithTime?: boolean;\n  } = {},\n): string => {\n  if (typeof value === 'number') {\n    if (value >= guessNumberAsTimestampMinDate) {\n      return formatValue(intl, new Date(value), {\n        siblingsTimeMark,\n        maxListSymbols,\n        datesWithTime,\n      });\n    }\n    return intl.formatNumber(value);\n  }\n  if (value instanceof Date) {\n    if (\n      datesWithTime ||\n      (siblingsTimeMark &&\n        siblingsTimeMark instanceof Date &&\n        Math.abs(value.getTime() - siblingsTimeMark.getTime()) < 1000 * 60 * 60 * 24 * 5)\n    ) {\n      return intl.formatDate(value, { dateStyle: 'medium', timeStyle: 'medium' });\n    }\n    return intl.formatDate(value, { dateStyle: 'medium' });\n  }\n\n  if (Array.isArray(value)) {\n    const formattedValues = value.map((subValue) =>\n      formatValue(intl, subValue, { siblingsTimeMark, maxListSymbols, datesWithTime }),\n    );\n\n    return formatLimitedSizeList(formattedValues, intl, maxListSymbols);\n  }\n\n  if (isReactComponent(value)) {\n    return String((value as React.FC).displayName);\n  }\n\n  return String(value);\n};\n\nconst formatValuesList = (\n  values: { label: string; value: unknown }[],\n  {\n    intl,\n    limit,\n    datesWithTime,\n    maxListSymbols,\n  }: { intl: Intl; limit: number; datesWithTime?: boolean; maxListSymbols: number },\n) => {\n  const result = values.slice(0, limit).map(({ value: rawValue, label }) => {\n    if (rawValue === undefined) return label;\n\n    const value = formatValue(intl, rawValue, { datesWithTime, maxListSymbols });\n\n    if (value === label) return value;\n\n    return intl.formatMessage({ id: 'value-labeled' }, { label, value });\n  });\n  if (values.length > limit) {\n    result.push(\n      intl.formatMessage({ id: 'ellipsis' }, { leftCount: limit - values.values.length }),\n    );\n  }\n\n  return intl.formatList(result);\n};\n\nexport const serialize = (\n  { insights, dataType, dataRange, dataTitle, entitiesCount }: AnalyzedData,\n  {\n    datesWithTime,\n    maxListSymbols,\n    clustersLimit,\n    valuesLimit,\n    groupsLimit,\n  }: DataSummarizationConfig,\n  {\n    locale,\n    translations,\n    availableLocales,\n  }: {\n    locale: string;\n    translations?: { [messageId: string]: string };\n    availableLocales?: { [localeId: string]: any };\n  },\n): string | null => {\n  if (insights.length === 0) return null;\n\n  const intl = getIntl(locale, translations, availableLocales);\n\n  const dataRnageSummary = intl.formatList(\n    dataRange.map((range) => {\n      const from = formatValue(intl, range.from, {\n        siblingsTimeMark: range.to,\n        datesWithTime,\n        maxListSymbols,\n      });\n      const to = formatValue(intl, range.to, {\n        siblingsTimeMark: range.from,\n        datesWithTime,\n        maxListSymbols,\n      });\n\n      return intl.formatMessage(\n        { id: range.label ? 'additional-axe' : 'additional-axe-no-label' },\n        { from, to, label: range.label },\n      );\n    }),\n  );\n\n  if (dataType === 'time-series') {\n    const trendsInsights = insights as (GeneralTrendNode | TrendNode)[];\n    const trendsByDataKey: { [label: string]: (GeneralTrendNode | TrendNode)[] } = {};\n    for (const insight of trendsInsights) {\n      trendsByDataKey[insight.dataKey] = trendsByDataKey[insight.dataKey] ?? [];\n      trendsByDataKey[insight.dataKey].push(insight);\n    }\n\n    const entities = intl.formatMessage(\n      { id: 'entity-type-time-series' },\n      { count: entitiesCount },\n    );\n    const entitiesList = Object.entries(trendsByDataKey).map(([dataKey, insights]) => {\n      const generalTrend = insights.find((insight) => insight.type === 'general-trend');\n      const localTrends = insights.filter((insight) => insight !== generalTrend);\n      const primaryTrend = generalTrend ?? localTrends[0];\n      const secondaryTrends: (TrendNode | GeneralTrendNode)[] = insights.filter(\n        (insight) => insight !== primaryTrend,\n      );\n      const mainSummary: string = intl.formatMessage(\n        { id: 'time-series-general-trend' },\n        {\n          dataKey: entitiesCount !== 1 ? dataKey : '',\n          trend: intl.formatMessage({ id: `trend-${primaryTrend.change.strength}` }),\n          from: intl.formatNumber(primaryTrend.change.from),\n          to: intl.formatNumber(primaryTrend.change.to),\n        },\n      );\n      const secondarylSummaries = secondaryTrends.map((trend) =>\n        intl.formatMessage(\n          { id: 'time-series-local-trend' },\n          {\n            trend: intl.formatMessage({ id: `trend-${trend.change.strength}` }),\n            from: formatValue(intl, trend.from, {\n              siblingsTimeMark: trend.to,\n              datesWithTime,\n              maxListSymbols,\n            }),\n            to: formatValue(intl, trend.to, {\n              siblingsTimeMark: trend.from,\n              datesWithTime,\n              maxListSymbols,\n            }),\n          },\n        ),\n      );\n\n      if (secondarylSummaries.length === 0) {\n        return mainSummary;\n      }\n\n      return intl.formatMessage(\n        {\n          id: 'time-series-detailed-trend',\n        },\n        {\n          general: mainSummary,\n          locals: formatLimitedSizeList(secondarylSummaries, intl, 400, false),\n        },\n      );\n    });\n\n    const summary = intl.formatMessage(\n      { id: dataTitle ? 'chart-summary' : 'chart-summary-no-label' },\n      { entities, entitiesList: intl.formatList(entitiesList), label: dataTitle },\n    );\n\n    if (dataRnageSummary.length > 0) {\n      return `${summary}\\n${dataRnageSummary}`;\n    }\n\n    return summary;\n  } else if (dataType === 'points-cloud') {\n    const clustersInsights = insights as ClusterNode[];\n    const biggestClusters = clustersInsights.slice(0, clustersLimit);\n\n    const maxSize = clustersInsights[0].size;\n    const minSize = clustersInsights[clustersInsights.length - 1].size;\n    const entities =\n      maxSize === minSize\n        ? intl.formatMessage(\n            { id: 'entity-type-clusters-single-size' },\n            { count: entitiesCount, size: maxSize },\n          )\n        : intl.formatMessage(\n            { id: 'entity-type-clusters-multiple-size' },\n            { count: entitiesCount, maxSize, minSize },\n          );\n    const entitiesList = biggestClusters.map((clusterInsight) => {\n      const labels = formatLimitedSizeList(clusterInsight.labels, intl, maxListSymbols);\n      const anonymous =\n        clusterInsight.labels.length === 0 || labels === String(clusterInsight.size);\n\n      return intl.formatMessage(\n        {\n          id: anonymous ? 'entity-type-clusters-label-anonymous' : 'entity-type-clusters-label',\n        },\n        {\n          relativeSize: intl.formatMessage({ id: `relative-size-${clusterInsight.relativeSize}` }),\n          labels,\n          size: clusterInsight.size,\n          x: intl.formatNumber(clusterInsight.center.x),\n          xLabel: clusterInsight.center.xLabel,\n          y: intl.formatNumber(clusterInsight.center.y),\n          yLabel: clusterInsight.center.yLabel,\n        },\n      );\n    });\n    if (insights.length > clustersLimit) {\n      entitiesList.push(\n        intl.formatMessage({ id: 'ellipsis' }, { leftCount: insights.length - clustersLimit }),\n      );\n    }\n\n    const summary = intl.formatMessage(\n      { id: dataTitle ? 'chart-summary' : 'chart-summary-no-label' },\n      { entities, entitiesList: intl.formatList(entitiesList), label: dataTitle },\n    );\n\n    if (dataRnageSummary.length > 0) {\n      return `${summary}\\n${dataRnageSummary}`;\n    }\n\n    return summary;\n  } else if (dataType === 'values-set') {\n    const [valuesInsight] = insights as [ComparisonNode];\n    const entities = intl.formatMessage({ id: 'entity-type-values' }, { count: entitiesCount });\n    const entitiesList = formatValuesList(valuesInsight.values, {\n      intl,\n      limit: valuesLimit,\n      datesWithTime,\n      maxListSymbols,\n    });\n\n    const sumamry = intl.formatMessage(\n      { id: dataTitle ? 'chart-summary' : 'chart-summary-no-label' },\n      { entities, entitiesList: entitiesList, label: dataTitle },\n    );\n\n    return sumamry;\n  } else if (dataType === 'grouped-values') {\n    const groupInsights = insights as ComparisonNode[];\n    const valueCounts = groupInsights.map((group) => group.values.length);\n    const minValuesCount = Math.min(...valueCounts);\n    const maxValuesCount = Math.max(...valueCounts);\n\n    const entities =\n      minValuesCount === maxValuesCount\n        ? intl.formatMessage(\n            { id: 'entity-type-grouped-values-single-size' },\n            { groupsCount: groupInsights.length, valuesCount: valueCounts[0] },\n          )\n        : intl.formatMessage(\n            { id: 'entity-type-grouped-values-multiple-size' },\n            { groupsCount: groupInsights.length, minValuesCount, maxValuesCount },\n          );\n    const entitiesList = groupInsights.slice(0, groupsLimit).map(({ label, values }) => {\n      const formattedValues = formatValuesList(values, {\n        intl,\n        limit: valuesLimit,\n        datesWithTime,\n        maxListSymbols,\n      });\n      return intl.formatMessage({ id: 'values-group' }, { label, values: formattedValues });\n    });\n    if (groupInsights.values.length > groupsLimit) {\n      entitiesList.push(\n        intl.formatMessage(\n          { id: 'ellipsis' },\n          { leftCount: groupInsights.values.length - groupsLimit },\n        ),\n      );\n    }\n\n    const sumamry = intl.formatMessage(\n      { id: dataTitle ? 'chart-summary' : 'chart-summary-no-label' },\n      { entities, entitiesList: intl.formatList(entitiesList), label: dataTitle },\n    );\n\n    return sumamry;\n  }\n\n  return null;\n};\n","import { makeBezier } from './bezier';\nimport { DataStructureHints, DataSummarizationConfig } from './hints';\n\nexport type TrendNode = {\n  type: 'trend';\n  priority: number;\n  change: {\n    from: number;\n    to: number;\n    strength:\n      | 'strong-reduction'\n      | 'reduction'\n      | 'weak-reduction'\n      | 'static'\n      | 'weak-growth'\n      | 'growth'\n      | 'strong-growth';\n  };\n  from: unknown;\n  to: unknown;\n  dataKey: string | number;\n};\nexport type GeneralTrendNode = Omit<TrendNode, 'type'> & { type: 'general-trend' };\nexport type ComparisonNode = {\n  type: 'comparison';\n  label?: string;\n  priority: number;\n  values: {\n    value: unknown;\n    label: string;\n  }[];\n};\n\ntype ClusterRelativeSize =\n  | 'significantly-smaller'\n  | 'smaller'\n  | 'slightly-smaller'\n  | 'average'\n  | 'slightly-bigger'\n  | 'bigger'\n  | 'significantly-bigger';\nexport type ClusterNode = {\n  type: 'cluster';\n  priority: number;\n  size: number;\n  labels: unknown[];\n  center: {\n    x: number;\n    xLabel: string | number;\n    y: number;\n    yLabel: string | number;\n  };\n  relativeSize: ClusterRelativeSize;\n};\nexport type Insight = TrendNode | GeneralTrendNode | ComparisonNode | ClusterNode;\n\nexport type SerializableDataType = 'time-series' | 'points-cloud' | 'values-set' | 'grouped-values';\n\nexport type AnalyzedData = {\n  insights: Insight[];\n  dataType: SerializableDataType;\n  dataRange: {\n    from: string | number | Date;\n    to: string | number | Date;\n    label: string | number | null;\n  }[];\n  dataTitle: string | null;\n  entitiesCount: number;\n};\n\nconst getPropByPath = (obj: any, path: number | string | string[]): unknown => {\n  if (typeof path === 'number') path = String(path);\n  if (typeof path === 'string') path = path.split('.');\n  for (let i = 0; i < path.length; i++) {\n    if (typeof obj !== 'object' || obj === null) return obj;\n    obj = obj[path[i]];\n  }\n  return obj;\n};\n\nconst movingAverage = (data: number[], frame: number) => {\n  const result: number[] = [];\n  frame = Math.floor(frame) % 2 === data.length % 2 ? Math.floor(frame) : Math.ceil(frame);\n\n  for (let i = 0; i < data.length; i++) {\n    let startIndex = Math.max(0, i - Math.floor(frame / 2));\n    let endIndex = Math.min(data.length, i + Math.ceil(frame / 2));\n    startIndex = Math.min(startIndex, Math.max(0, endIndex - frame));\n    endIndex = Math.max(endIndex, Math.min(data.length, startIndex + frame));\n    const part = data.slice(startIndex, endIndex);\n    const sum = part.reduce((sum, item) => sum + item, 0);\n    const value = sum / part.length;\n    result.push(value);\n  }\n  return result;\n};\n\nexport const extractDataInsights = (\n  data: Record<string, unknown>[] | Record<string, unknown>,\n  hints: DataStructureHints,\n  config: DataSummarizationConfig,\n): AnalyzedData => {\n  let insights: AnalyzedData['insights'] = [];\n  let dataType: AnalyzedData['dataType'] | null = config.dataType ?? hints.dataType;\n  const dataRange: AnalyzedData['dataRange'] = [];\n  let groupKeys = [...hints.groups];\n  const dataTitle: string | null = hints.axesTitle.vertical ?? hints.axesTitle.horizontal;\n  let entitiesCount = 0;\n\n  const keysMap = Object.fromEntries(\n    Object.keys((Array.isArray(data) ? data[0] : data) ?? {}).map((key) => [key, true]),\n  );\n\n  if (!dataType) {\n    if (\n      ((keysMap['y'] || keysMap['y1'] || keysMap['y2']) &&\n        keysMap['x'] &&\n        (keysMap['value'] || keysMap['label'])) ||\n      (hints.fields.horizontalAxes.size > 0 &&\n        hints.fields.verticalAxes.size > 0 &&\n        hints.fields.valueAxes.size > 0)\n    ) {\n      dataType = 'points-cloud';\n    } else if (Array.isArray(data) && data.length > 6) {\n      dataType = 'time-series';\n    } else if (Array.isArray(data) && Object.keys(keysMap).length >= 3) {\n      const possibleGroupKeys = Object.keys(keysMap)\n        .filter((key) => typeof data[0][key] === 'string')\n        .filter((key) => {\n          const allData = data.map((row) => row[key]);\n          return new Set(allData).size === allData.length;\n        });\n      if (possibleGroupKeys.length === 1) {\n        groupKeys = possibleGroupKeys;\n        dataType = 'grouped-values';\n      } else {\n        dataType = 'values-set';\n      }\n    } else {\n      dataType = 'values-set';\n    }\n  }\n\n  if (dataType === 'grouped-values' && groupKeys.length === 0) {\n    dataType = 'values-set';\n  }\n\n  if (Array.isArray(data)) {\n    if (dataType === 'time-series') {\n      const firstRow = data[0];\n      const lastRow = data[data.length - 1];\n      const possibleValueKeys = ['y', 'value', ...hints.fields.verticalAxes];\n      const valuesKeys = possibleValueKeys.filter((key) => keysMap[key]);\n\n      const possibleLabelKeys = ['label', 'x', ...hints.fields.horizontalAxes];\n      const labelsKey = possibleLabelKeys.filter((key) => keysMap[key])[0];\n\n      entitiesCount = Object.keys(valuesKeys).length;\n\n      const fromKey = firstRow[labelsKey];\n      const toKey = lastRow[labelsKey];\n      const from =\n        hints.titles.getHorizontalAxesTitle?.(fromKey as string) ??\n        hints.titles.horizontalAxes[fromKey as string] ??\n        (fromKey as string);\n      const to =\n        hints.titles.getHorizontalAxesTitle?.(toKey as string) ??\n        hints.titles.horizontalAxes[toKey as string] ??\n        (toKey as string);\n\n      if (entitiesCount > 0) {\n        dataRange.push({ from, to, label: hints.axesTitle.vertical ?? labelsKey });\n      }\n\n      for (const valueKey of valuesKeys) {\n        const values = (data as Record<string, number>[]).map((row) => row[valueKey]);\n        const sum = values.reduce((sum, value) => (sum += value), 0);\n        const average = sum / values.length;\n        const variance =\n          (1 / values.length) *\n          values.map((value) => (value - average) ** 2).reduce((sum, item) => sum + item, 0);\n        const standardDeviation = Math.sqrt(variance);\n        const trendStrengths = ['static', 'weak', 'medium', 'strong'] as const;\n\n        const frameSize = Math.sqrt(values.length);\n        const longMovingAverageSize = config.movingAverage.longSize ?? frameSize;\n        const shortMovingAverageSize = config.movingAverage.shortSize ?? Math.sqrt(frameSize);\n        const longMovingAverage = movingAverage(values, longMovingAverageSize);\n        const shortMovingAverage =\n          values.length < 8 ? values : movingAverage(values, shortMovingAverageSize);\n\n        const table = [];\n        for (const i in values) {\n          table.push({\n            value: values[i].toFixed(2),\n            long: (longMovingAverage[i] ?? NaN).toFixed(2),\n            short: (shortMovingAverage[i] ?? NaN).toFixed(2),\n          });\n        }\n\n        const strengthsMap = {\n          growth: {\n            static: 'static',\n            weak: 'weak-growth',\n            medium: 'growth',\n            strong: 'strong-growth',\n          },\n          reduction: {\n            static: 'static',\n            weak: 'weak-reduction',\n            medium: 'reduction',\n            strong: 'strong-reduction',\n          },\n        } as const;\n\n        const recordTrend = ({\n          value,\n          width,\n          label,\n          type,\n        }: {\n          value: { from: number; to: number };\n          width: number;\n          label: { from: unknown; to: unknown; dataKey: string | number };\n          type: 'general-trend' | 'trend';\n        }): GeneralTrendNode | TrendNode | undefined => {\n          for (let i = 0; i < trendStrengths.length; i++) {\n            const normalizedHeight =\n              Math.abs(value.from - value.to) / (hints.pointsDensity?.verticalAxes ?? 1);\n            const normalizedWidth = width / (hints.pointsDensity?.horizontalAxes ?? 1);\n            const tang = normalizedHeight / normalizedWidth;\n            const trendStrength = trendStrengths[i];\n            if (tang <= config.trendTangens[trendStrength] || i === trendStrengths.length - 1) {\n              const strength =\n                value.to > value.from\n                  ? strengthsMap.growth[trendStrength]\n                  : strengthsMap.reduction[trendStrength];\n\n              return {\n                type,\n                priority: i,\n                change: {\n                  from: value.from,\n                  to: value.to,\n                  strength,\n                },\n                from: label.from,\n                to: label.to,\n                dataKey: label.dataKey,\n              };\n            }\n          }\n        };\n\n        const generalTrend = recordTrend({\n          type: 'general-trend',\n          value: {\n            from: shortMovingAverage[0],\n            to: shortMovingAverage[shortMovingAverage.length - 1],\n          },\n          width: data.length,\n          label: { from, to, dataKey: valueKey },\n        })!;\n        const localTrends: Insight[] = [];\n        {\n          const notableDiff = config.movingAverage.notableDiff ?? standardDeviation / 10;\n          let lastSwitch = 0;\n          let lastSwitchValue = shortMovingAverage[lastSwitch];\n          let shortWasAbove = shortMovingAverage[0] > longMovingAverage[0];\n          for (let i = 1; i < data.length; i++) {\n            const shortIsAbove = shortMovingAverage[i] > longMovingAverage[i];\n            const diff = Math.abs(shortMovingAverage[i] - longMovingAverage[i]);\n\n            if (shortIsAbove === shortWasAbove) continue;\n            if (diff < notableDiff) continue;\n            if (i === 0 && lastSwitch === data.length - 1) continue;\n            if (i === data.length - 1 && lastSwitch === 0) continue;\n            i = Math.min(i, data.length - 1);\n\n            const fromKey = data[lastSwitch][labelsKey];\n            const toKey = data[i][labelsKey];\n            const from =\n              hints.titles.getHorizontalAxesTitle?.(fromKey as string) ??\n              hints.titles.horizontalAxes[fromKey as string] ??\n              fromKey;\n            const to =\n              hints.titles.getHorizontalAxesTitle?.(toKey as string) ??\n              hints.titles.horizontalAxes[toKey as string] ??\n              toKey;\n            localTrends.push(\n              recordTrend({\n                type: 'trend',\n                value: {\n                  from: lastSwitchValue,\n                  to: shortMovingAverage[i],\n                },\n                width: i - lastSwitch,\n                label: { from, to, dataKey: valueKey },\n              })!,\n            );\n            lastSwitch = i;\n            lastSwitchValue = shortMovingAverage[lastSwitch];\n            shortWasAbove = shortIsAbove;\n          }\n\n          if (lastSwitch !== 0) {\n            const lastIndex = shortMovingAverage.length - 1;\n            const lastValue = shortMovingAverage[lastIndex];\n            if (Math.abs(lastSwitchValue - lastValue) > notableDiff) {\n              localTrends.push(\n                recordTrend({\n                  type: 'trend',\n                  value: {\n                    from: lastSwitchValue,\n                    to: lastValue,\n                  },\n                  width: lastIndex - lastSwitch,\n                  label: {\n                    from: data[lastSwitch][labelsKey],\n                    to: data[lastIndex][labelsKey],\n                    dataKey: valueKey,\n                  },\n                })!,\n              );\n            }\n          }\n        }\n        insights.push(generalTrend);\n        insights.push(...localTrends);\n      }\n    } else if (dataType === 'points-cloud') {\n      const guessedXKey = [...hints.fields.horizontalAxes.values(), 'x'][0];\n      const guessedYKey = [...hints.fields.verticalAxes.values(), 'y'][0];\n      const guessedValueKey = [...hints.fields.valueAxes.values(), 'value'][0];\n      const guessedLabelKey = keysMap['label'] ? 'label' : guessedValueKey;\n      const normalized = data.map((row) => ({\n        x: row[guessedXKey] as number,\n        y: row[guessedYKey] as number,\n        label: row[guessedLabelKey],\n        value: row[guessedValueKey] as number,\n      }));\n      let gridSize =\n        config.clustersGridSize ?? hints.grid.verticalAxes ?? hints.grid.horizontalAxes;\n      if (!gridSize) {\n        const usedX = new Set<number>();\n        const usedY = new Set<number>();\n        for (const { x, y } of normalized) {\n          usedX.add(x);\n          usedY.add(y);\n        }\n        const orderedX = [...usedX].sort((a, b) => a - b);\n        const orderedY = [...usedY].sort((a, b) => a - b);\n        const distancesX = orderedX.slice(0, -1).map((x, index) => orderedX[index + 1] - x);\n        const distancesY = orderedY.slice(0, -1).map((y, index) => orderedY[index + 1] - y);\n        const avgDistanceX = distancesX.reduce((sum, x) => sum + x, 0) / distancesX.length;\n        const avgDistanceY = distancesY.reduce((sum, y) => sum + y, 0) / distancesY.length;\n        const belowAvgDistancesX = distancesX.filter((x) => x < avgDistanceX);\n        const belowAvgDistancesY = distancesY.filter((y) => y < avgDistanceY);\n        const betweenDistanceX =\n          belowAvgDistancesX.reduce((sum, x) => sum + x, 0) / belowAvgDistancesX.length;\n        const betweenDistanceY =\n          belowAvgDistancesY.reduce((sum, y) => sum + y, 0) / belowAvgDistancesY.length;\n        let avgDistance = 0;\n        if (!Number.isNaN(betweenDistanceX) && !Number.isNaN(betweenDistanceY)) {\n          avgDistance = (betweenDistanceX + betweenDistanceY) / 2;\n        } else if (!Number.isNaN(betweenDistanceX)) {\n          avgDistance = betweenDistanceX;\n        } else if (!Number.isNaN(betweenDistanceY)) {\n          avgDistance = betweenDistanceY;\n        } else {\n          avgDistance = (avgDistanceX + avgDistanceY) / 2;\n        }\n        gridSize = Math.sqrt(Math.sqrt(avgDistance));\n      }\n\n      const grid: {\n        [x: string]: { [y: string]: { clusterId: string; members: typeof normalized } };\n      } = {};\n      const takenY = new Set<number>();\n      const takenX = new Set<number>();\n      for (let i = 0; i < normalized.length; i++) {\n        const { x, y } = normalized[i];\n        const gridX = Math.round(x / gridSize!);\n        const gridY = Math.round(y / gridSize!);\n        takenY.add(y);\n        takenX.add(x);\n        grid[gridX] = grid[gridX] ?? {};\n        grid[gridX][gridY] = grid[gridX][gridY] ?? { clusterId: `${gridX}_${gridY}`, members: [] };\n        grid[gridX][gridY].members.push(normalized[i]);\n      }\n      const clusters: { [clusterId: string]: typeof normalized } = {};\n      for (const x of Object.keys(grid).map((x) => parseInt(x, 10))) {\n        for (const y of Object.keys(grid[x]).map((y) => parseInt(y, 10))) {\n          let pointHandled = false;\n          for (const xNeighbour of [x - 1, x, x + 1]) {\n            for (const yNeighbour of [y - 1, y, y + 1]) {\n              if (xNeighbour === undefined || yNeighbour === undefined) continue;\n              if (xNeighbour === x && yNeighbour === y) continue;\n              if (!grid[xNeighbour]?.[yNeighbour]) continue;\n              pointHandled = true;\n              grid[x][y].clusterId = grid[xNeighbour][yNeighbour].clusterId;\n              break;\n            }\n            if (pointHandled) break;\n          }\n          clusters[grid[x][y].clusterId] = clusters[grid[x][y].clusterId] ?? [];\n          clusters[grid[x][y].clusterId].push(...grid[x][y].members);\n        }\n      }\n      const clustersInsights: ClusterNode[] = [];\n      for (const clusterId in clusters) {\n        const size = clusters[clusterId].reduce((sum, { value }) => sum + (value ?? 1), 0);\n        const labels = [...clusters[clusterId]]\n          .sort((a, b) => b.value - a.value)\n          .map(({ label }) => label)\n          .filter((label) => label !== undefined);\n        const uniqueLabels = [...new Set(labels)];\n        const x =\n          clusters[clusterId].reduce((sum, { x }) => sum + x, 0) / clusters[clusterId].length;\n        const y =\n          clusters[clusterId].reduce((sum, { y }) => sum + y, 0) / clusters[clusterId].length;\n\n        clustersInsights.push({\n          type: 'cluster',\n          priority: 1,\n          size,\n          labels: uniqueLabels,\n          relativeSize: 'average',\n          center: {\n            x,\n            y,\n            xLabel: hints.axesTitle.horizontal ?? guessedXKey,\n            yLabel: hints.axesTitle.vertical ?? guessedYKey,\n          },\n        });\n      }\n      entitiesCount = Object.keys(clusters).length;\n      clustersInsights.sort((a, b) => b.size - a.size);\n\n      const relativeSizeDistrivution = {\n        ['significantly-bigger']: { max: Infinity, min: 0.85 },\n        ['bigger']: { min: 0.7, max: 0.85 },\n        ['slightly-bigger']: { min: 0.6, max: 0.7 },\n        ['average']: { min: 0.4, max: 0.6 },\n        ['slightly-smaller']: { max: 0.4, min: 0.3 },\n        ['smaller']: { min: 0.15, max: 0.3 },\n        ['significantly-smaller']: { min: -Infinity, max: 0.15 },\n      } as { [key in ClusterRelativeSize]: { min: number; max: number } };\n      const averageSize =\n        clustersInsights.reduce((sum, cluster) => sum + cluster.size, 0) / clustersInsights.length;\n      const smallerClusters = clustersInsights.filter((cluster) => cluster.size < averageSize);\n      const smallerSize =\n        smallerClusters.reduce((sum, cluster) => sum + cluster.size, 0) / smallerClusters.length;\n      const biggerClusters = clustersInsights.filter((cluster) => cluster.size > averageSize);\n      const biggerSize =\n        biggerClusters.reduce((sum, cluster) => sum + cluster.size, 0) / biggerClusters.length;\n\n      const normalizingSize = averageSize * 2;\n      let averageSizeNormalized = averageSize / normalizingSize;\n      let smallerSizeNormalized = smallerSize / normalizingSize;\n      let biggerSizeNormalized = biggerSize / normalizingSize;\n\n      smallerSizeNormalized = !Number.isNaN(smallerSizeNormalized) ? smallerSizeNormalized : 0.25;\n      averageSizeNormalized = !Number.isNaN(averageSizeNormalized) ? averageSizeNormalized : 0.5;\n      biggerSizeNormalized = !Number.isNaN(biggerSizeNormalized) ? biggerSizeNormalized : 0.75;\n\n      const sizeMapBezier = makeBezier(\n        [\n          { x: 0, y: 0 },\n          { x: 0.25, y: smallerSizeNormalized, weight: 10 },\n          { x: 0.5, y: averageSizeNormalized },\n          { x: 0.75, y: biggerSizeNormalized, weight: 10 },\n          { x: 1, y: 1 },\n        ],\n        { width: 1, height: 1 },\n      );\n\n      for (const clustersInsight of clustersInsights) {\n        const { size } = clustersInsight;\n        const mappedSize = sizeMapBezier(size / normalizingSize);\n        for (const relativeSize in relativeSizeDistrivution) {\n          const { min, max } = relativeSizeDistrivution[relativeSize as ClusterRelativeSize];\n          if (mappedSize > min && mappedSize <= max) {\n            clustersInsight.relativeSize = relativeSize as ClusterRelativeSize;\n            break;\n          }\n        }\n      }\n\n      insights.push(...clustersInsights);\n\n      if (hints.axesTitle.horizontal) {\n        const sortedX = [...takenX].sort((a, b) => a - b);\n        dataRange.push({\n          from: sortedX[0] as any,\n          to: sortedX[sortedX.length - 1] as any,\n          label: hints.axesTitle.horizontal,\n        });\n      }\n      if (hints.axesTitle.vertical) {\n        const sortedY = [...takenY].sort((a, b) => a - b);\n        dataRange.push({\n          from: sortedY[0] as any,\n          to: sortedY[sortedY.length - 1] as any,\n          label: hints.axesTitle.vertical,\n        });\n      }\n    } else if (dataType === 'grouped-values') {\n      const makeRowKey = (row: Record<string, unknown>) =>\n        groupKeys.map((key, index) => `${index}-${getPropByPath(row, key)}`).join('-');\n      const allRowsIds = data.map(makeRowKey);\n      const groupedValues: {\n        [groupId: string]: { groupName: string; rows: Record<string, unknown>[] };\n      } = {};\n      for (let i = 0; i < data.length; i++) {\n        const row = data[i];\n        const key = allRowsIds[i];\n        groupedValues[key] = groupedValues[key] ?? {\n          groupName: getPropByPath(row, groupKeys[0]) as string,\n          rows: [],\n        };\n        groupedValues[key].rows.push(row);\n      }\n\n      let fields = [...hints.fields.values];\n      const grouppingKeys = Object.fromEntries(groupKeys.map((key) => [key, true]));\n      if (fields.length === 0) {\n        fields.push(...Object.keys(keysMap));\n      }\n      fields = fields.filter((key) => !grouppingKeys[key]);\n      const groups = Object.entries(groupedValues).map(([groupKey, group]) => {\n        const values: { label: string; value: unknown }[] = [];\n        for (const row of group.rows) {\n          for (const field of fields) {\n            values.push({\n              label:\n                hints.titles.getVerticalAxesTitle?.(field) ??\n                hints.titles.valuesAxes[field] ??\n                (field as string),\n              value: getPropByPath(row, field),\n            });\n          }\n        }\n\n        values.sort((a, b) => {\n          if (typeof a.value !== 'number' || typeof b.value !== 'number') return 0;\n          return b.value - a.value;\n        });\n        const averageValue =\n          values.reduce((sum, { value }) => sum + (value as number), 0) / values.length;\n        return {\n          label: group.groupName ?? groupKey,\n          values,\n          averageValue: !Number.isNaN(averageValue) ? averageValue : undefined,\n        };\n      });\n\n      groups.sort((a, b) => {\n        if (typeof a.averageValue !== 'number' || typeof b.averageValue !== 'number') return 0;\n        return b.averageValue - a.averageValue;\n      });\n      entitiesCount = groups.length;\n      insights.push(\n        ...groups.map(\n          (group) =>\n            ({\n              type: 'comparison',\n              label: group.label,\n              values: group.values,\n              priority: 1,\n            } as ComparisonNode),\n        ),\n      );\n    }\n  }\n  if (dataType === 'values-set') {\n    const fields = [...hints.fields.values];\n    if (fields.length === 0) {\n      fields.push(...Object.keys(keysMap));\n    }\n    const values = fields.map((field) => ({\n      label:\n        hints.titles.getValueAxesTitle?.(field) ??\n        hints.titles.valuesAxes[field] ??\n        (field as string),\n      value: getPropByPath(data, field),\n    }));\n    entitiesCount = values.length;\n    values.sort((a, b) => {\n      if (typeof a.value !== 'number' || typeof b.value !== 'number') return 0;\n      return b.value - a.value;\n    });\n    insights.push({\n      type: 'comparison',\n      values,\n      priority: 1,\n    });\n  }\n\n  const hasHighPriorityInsights = insights.some((insight) => insight.priority > 0);\n  if (hasHighPriorityInsights) {\n    insights = insights.filter((insight) => insight.priority > 0);\n  } else {\n    insights = insights.slice(0, 1);\n  }\n\n  return { insights, dataType: dataType!, dataRange, dataTitle, entitiesCount };\n};\n","export const makeBezier = (\n  points: { x: number; y: number; weight?: number }[],\n  bounds: { width: number; height: number },\n) => {\n  const yPoints = points.map((point) => point.y);\n  const noPoints = points.map(() => 1);\n  const weightPoints = points.map((point) => point.weight ?? 1);\n  const process = (t: number, points: number[]) => {\n    let result = 0;\n    for (let i = 0; i < points.length; i++) {\n      const tPower = i;\n      const reversedTPower = points.length - 1 - i;\n      const edge = i === 0 || i === points.length - 1;\n      const factor = edge ? 1 : points.length - 1;\n      const point = points[i];\n      const weight = weightPoints[i];\n      result += factor * t ** tPower * (1 - t) ** reversedTPower * point * weight;\n    }\n    return result;\n  };\n\n  return (x: number) => {\n    const t = x / bounds.width;\n    return process(t, yPoints) / process(t, noPoints);\n  };\n};\n","import { DataStructureHints, DataSummarizationConfig } from './hints';\nimport { extractDataInsights } from './insights';\nimport { serialize } from './serialize';\n\nexport const summarize = (\n  data: Record<string, unknown>[] | Record<string, unknown>,\n  hints: DataStructureHints,\n  config: DataSummarizationConfig,\n  locale: NavigatorLanguage['language'],\n  translations: { [messageId: string]: string },\n  availableLocales: { [localeId: string]: any },\n) => {\n  const analyzedData = extractDataInsights(data, hints, config);\n  const summary = serialize(analyzedData, config, { locale, translations, availableLocales });\n  return summary;\n};\n","import de from './de.json';\nimport en from './en.json';\nimport es from './es.json';\nimport fr from './fr.json';\nimport it from './it.json';\nimport ja from './ja.json';\nimport ko from './ko.json';\nimport pt from './pt.json';\nimport tr from './tr.json';\nimport vi from './vi.json';\nimport zh from './zh.json';\n\nexport const localizedMessages = {\n  de,\n  en,\n  es,\n  fr,\n  it,\n  ja,\n  ko,\n  pt,\n  tr,\n  vi,\n  zh,\n};\n","import React from 'react';\nimport { heavyFindNextFocusableElement } from './focus';\nimport { makeDataSummarizationConfig } from './hints';\nimport type { A11yViewProps } from './PlotA11yModule';\nimport { formatValue } from './serialize';\nimport { getIntl } from './intl';\nimport { summarize } from './summarize';\nimport { Root, sstyled } from '@semcore/core';\nimport styles from '../style/plotA11yView.shadow.css';\nimport { Box } from '@semcore/flex-box';\nimport { useAsyncI18nMessages } from '@semcore/utils/lib/enhances/i18nEnhance';\nimport { localizedMessages } from './translations/view/__intergalactic-dynamic-locales';\n\nexport const PlotA11yView: React.FC<A11yViewProps> = ({\n  id,\n  data: providedData,\n  hints,\n  plotLabel,\n  plotRef,\n  config: providedConfig,\n  locale,\n}) => {\n  const SPlotA11yView = Root;\n  const translations = useAsyncI18nMessages(localizedMessages, locale);\n  const intl = React.useMemo(\n    () => getIntl(locale, translations, localizedMessages),\n    [locale, translations, localizedMessages],\n  );\n  const config = React.useMemo(() => makeDataSummarizationConfig(providedConfig), [providedConfig]);\n  const data = React.useMemo(\n    () => (Array.isArray(providedData) ? providedData : [providedData]),\n    [providedData],\n  );\n  const keys = React.useMemo(() => {\n    let fromHints: (string | number)[] = [];\n    fromHints.push(...hints.fields.verticalAxes);\n    fromHints.push(...hints.fields.horizontalAxes);\n    fromHints.push(...hints.fields.valueAxes);\n    fromHints.push(...Object.keys(hints.fields.values));\n\n    fromHints = [...new Set(fromHints)].filter((key) => key in data[0]);\n\n    if (fromHints.length === 0) {\n      data.forEach((row) => fromHints.push(...Object.keys(row)));\n    }\n\n    return [...new Set(fromHints)];\n  }, [data, hints]);\n  const duplicatedBaseKeys = React.useMemo(() => {\n    const baseKeys = keys\n      .filter((key) => !hints.titles.valuesAxes[key])\n      .map((key) => {\n        if (hints.fields.verticalAxes.has(key) && hints.axesTitle.vertical)\n          return [key, hints.axesTitle.vertical];\n        if (hints.fields.horizontalAxes.has(key) && hints.axesTitle.horizontal)\n          return [key, hints.axesTitle.horizontal];\n      })\n      .filter((entry) => entry !== undefined)\n      .map((entry) => entry!);\n    const doublicated: Record<string, true> = {};\n    const handled: Record<string, string | number> = {};\n    for (const [key, label] of baseKeys) {\n      if (handled[label]) {\n        doublicated[key] = true;\n        doublicated[handled[label]] = true;\n      }\n      handled[label] = key;\n    }\n    return doublicated;\n  }, [keys, hints]);\n  const renderTitle = React.useCallback(\n    (dataKey: string | number) => {\n      if (hints.titles.valuesAxes[dataKey]) return hints.titles.valuesAxes[dataKey];\n      if (!duplicatedBaseKeys[dataKey]) {\n        if (hints.fields.verticalAxes.has(dataKey) && hints.axesTitle.vertical)\n          return hints.axesTitle.vertical;\n        if (hints.fields.horizontalAxes.has(dataKey) && hints.axesTitle.horizontal)\n          return hints.axesTitle.horizontal;\n      }\n\n      return dataKey;\n    },\n    [data, hints, duplicatedBaseKeys],\n  );\n\n  const [summary, setSummary] = React.useState<string | null>(null);\n  const [generatingSummary, setGeneratingSummary] = React.useState(true);\n\n  React.useEffect(() => {\n    if (config.disable) {\n      setSummary('');\n      setGeneratingSummary(false);\n      return;\n    }\n    if (config.override) {\n      setSummary(config.override);\n      setGeneratingSummary(false);\n      return;\n    }\n    setTimeout(() => {\n      setSummary(summarize(providedData, hints, config, locale, translations, localizedMessages));\n      setGeneratingSummary(false);\n    }, 0);\n  }, [providedData, hints, config, locale, translations, localizedMessages]);\n\n  const handleSkip = React.useCallback(() => {\n    if (!plotRef.current) return;\n\n    heavyFindNextFocusableElement(plotRef.current)?.focus();\n  }, []);\n  const handleSkipKeyboard = React.useCallback(\n    (event: React.KeyboardEvent) => {\n      if (event.code !== 'Enter') return;\n\n      handleSkip();\n    },\n    [handleSkip],\n  );\n  const handleGoToTable = React.useCallback(() => {\n    dataTableRef.current?.focus();\n  }, []);\n  const handleGoToTableKeyboard = React.useCallback(\n    (event: React.KeyboardEvent) => {\n      if (event.code !== 'Enter') return;\n\n      handleGoToTable();\n    },\n    [handleGoToTable],\n  );\n\n  const texts = React.useMemo(\n    () => ({\n      label: intl.formatMessage(\n        { id: 'view-label' },\n        { plotLabel: plotLabel ?? intl.formatMessage({ id: 'view-default-plot-label' }) },\n      ),\n      close: intl.formatMessage({ id: 'view-close' }),\n      skipPlot: intl.formatMessage({ id: 'view-skip-plot' }),\n      goToTable: intl.formatMessage({ id: 'view-go-to-table' }),\n      summary: intl.formatMessage({ id: 'view-data-summary' }),\n      summaryPlaceholder: intl.formatMessage({ id: 'view-summary-placeholder' }),\n      table: intl.formatMessage({ id: 'view-table' }),\n    }),\n    [intl, plotLabel],\n  );\n\n  const dataTableRef = React.useRef<HTMLTableElement>(null);\n\n  return sstyled(styles)(\n    <SPlotA11yView render={Box} tabIndex={0} aria-label={texts.label}>\n      <a aria-hidden onClick={handleSkip}>\n        {texts.close}\n      </a>\n      <a role=\"link\" tabIndex={0} onKeyDown={handleSkipKeyboard} onClick={handleSkip}>\n        {texts.skipPlot}\n      </a>\n      <a role=\"link\" tabIndex={0} onKeyDown={handleGoToTableKeyboard} onClick={handleGoToTable}>\n        {texts.goToTable}\n      </a>\n      <strong>\n        <label htmlFor={`${id}-data-summary`}>{texts.summary}</label>\n      </strong>\n      <div id={`${id}-data-summary`} aria-busy={generatingSummary} tabIndex={0}>\n        {generatingSummary ? texts.summaryPlaceholder : summary}\n      </div>\n      <strong>\n        <label htmlFor={`${id}-data-table`}>{texts.table}</label>\n      </strong>\n      <table id={`${id}-data-table`} tabIndex={0} ref={dataTableRef}>\n        <thead>\n          <tr>\n            {keys.map((key, index) => (\n              <th key={`${key}-${index}`}>{renderTitle(key)}</th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {data.map((row, index) => (\n            <tr key={Object.values(row).join('-') + '-' + index}>\n              {keys.map((key, index) => (\n                <td key={`${key}-${index}`}>{formatValue(intl, row[key])}</td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </SPlotA11yView>,\n  ) as React.ReactElement;\n};\n"],"names":["ErrorKind","TYPE","SKELETON_TYPE","isFocusable","element","tabIndex","getAttribute","tabIndexValue","parseInt","isNaN","tagName","hasAttribute","heavyFindNextFocusableElement","base","trace","arguments","length","undefined","Map","set","sibling","nextElementSibling","i","children","child","item","has","childInnerResult","siblingInnerResult","parentElement","isLiteralElement","el","type","literal","isArgumentElement","argument","isNumberElement","number","isDateElement","date","isTimeElement","time","isSelectElement","select","isPluralElement","plural","isPoundElement","pound","isTagElement","tag","isNumberSkeleton","isDateTimeSkeleton","dateTime","SPACE_SEPARATOR_REGEX","DATE_TIME_REGEX","parseDateTimeSkeleton","skeleton","result","replace","match","len","era","year","RangeError","month","day","weekday","hour12","hourCycle","hour","minute","second","timeZoneName","WHITE_SPACE_REGEX","FRACTION_PRECISION_REGEX","SIGNIFICANT_PRECISION_REGEX","INTEGER_WIDTH_REGEX","CONCISE_INTEGER_WIDTH_REGEX","parseSignificantPrecision","str","roundingPriority","_","g1","g2","minimumSignificantDigits","maximumSignificantDigits","parseSign","signDisplay","currencySign","parseConciseScientificAndEngineeringStem","stem","notation","slice","test","Error","minimumIntegerDigits","parseNotationOptions","opt","signOpts","parseNumberSkeleton","tokens","_i","tokens_1","token","style","scale","currency","options","useGrouping","maximumFractionDigits","unit","compactDisplay","__assign","reduce","all","currencyDisplay","unitDisplay","parseFloat","g3","g4","g5","minimumFractionDigits","trailingZeroDisplay","conciseScientificAndEngineeringOpts","_a","timeData","getDefaultHourSymbolFromLocale","locale","hourCycles","regionTag","languageTag","language","maximize","region","concat","SPACE_SEPARATOR_START_REGEX","RegExp","source","SPACE_SEPARATOR_END_REGEX","createLocation","start","end","hasNativeStartsWith","String","prototype","startsWith","hasNativeFromCodePoint","fromCodePoint","hasNativeFromEntries","Object","fromEntries","hasNativeCodePointAt","codePointAt","hasTrimStart","trimStart","hasTrimEnd","trimEnd","isSafeInteger","Number","n","isFinite","Math","floor","abs","REGEX_SUPPORTS_U_AND_Y","RE","exec","matchIdentifierAtIndex","s","search","position","codePoints","code","elements","fromCharCode","entries","obj","entries_1","k","v","index","size","first","charCodeAt","flag","IDENTIFIER_PREFIX_RE_1","lastIndex","c","_isWhiteSpace","_isPatternSyntax","push","apply","Parser","message","this","offset","line","column","ignoreTag","requiresOtherClause","shouldParseSkeletons","parse","parseMessage","nestingLevel","parentArgType","expectingCloseTag","isEOF","char","parseArgument","err","val","peek","error","UNMATCHED_CLOSING_TAG","clonePosition","_isAlpha","parseTag","parseLiteral","bump","location","startPosition","parseTagName","bumpSpace","bumpIf","value","childrenResult","endTagStartPosition","INVALID_TAG","closingTagNameStartPosition","UNCLOSED_TAG","startOffset","parseQuoteResult","tryParseQuote","parseUnquotedResult","tryParseUnquoted","parseLeftAngleResult","tryParseLeftAngleBracket","codepoint","ch","openingBracePosition","EXPECT_ARGUMENT_CLOSING_BRACE","EMPTY_ARGUMENT","parseIdentifierIfPossible","MALFORMED_ARGUMENT","parseArgumentOptions","startingPosition","endOffset","bumpTo","typeStartPosition","argType","typeEndPosition","EXPECT_ARGUMENT_TYPE","styleAndLocation","styleStartPosition","parseSimpleArgStyleIfPossible","EXPECT_ARGUMENT_STYLE","styleLocation","argCloseResult","tryParseArgumentClose","location_1","parseNumberSkeletonFromString","EXPECT_DATE_TIME_SKELETON","dateTimePattern","skeletonCopy","patternPos","patternChar","charAt","extraLength","hourLen","dayPeriodLen","hourChar","getBestPattern","pattern","parsedOptions","typeEndPosition_1","EXPECT_SELECT_ARGUMENT_OPTIONS","identifierAndLocation","pluralOffset","EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE","tryParseDecimalInteger","INVALID_PLURAL_ARGUMENT_OFFSET_VALUE","optionsResult","tryParsePluralOrSelectOptions","location_2","pluralType","INVALID_ARGUMENT_TYPE","nestedBraces","apostrophePosition","bumpUntil","UNCLOSED_QUOTE_IN_ARGUMENT_STYLE","stringTokens_1","split","filter","x","stemAndOptions","options_1","e","INVALID_NUMBER_SKELETON","expectCloseTag","parsedFirstIdentifier","hasOtherClause","parsedSelectors","Set","selector","selectorLocation","EXPECT_PLURAL_ARGUMENT_SELECTOR","INVALID_PLURAL_ARGUMENT_SELECTOR","DUPLICATE_SELECT_ARGUMENT_SELECTOR","DUPLICATE_PLURAL_ARGUMENT_SELECTOR","EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT","EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT","fragmentResult","add","EXPECT_SELECT_ARGUMENT_SELECTOR","MISSING_OTHER_CLAUSE","expectNumberError","invalidNumberError","sign","hasDigits","decimal","kind","prefix","currentOffset","indexOf","targetOffset","min","nextCode","pruneLocation","els","forEach","opts","SyntaxError","originalMessage","captureLocation","memoize","fn","cache","cacheDefault","serializer","serializerDefault","strategy","strategyDefault","monadic","arg","cacheKey","computedValue","get","call","variadic","args","Array","assemble","context","serialize","bind","create","JSON","stringify","ObjectWithoutPrototypeCache","key","ErrorCode","strategies","PART_TYPE","FormatError","_super","msg","_this","__extends","toString","InvalidValueError","variableId","keys","join","INVALID_VALUE","InvalidValueTypeError","MissingValueError","MISSING_VALUE","isFormatXMLElementFn","formatToParts","locales","formatters","formats","values","currentPluralValue","els_1","getNumberFormat","format","varName","object","getDateTimeFormat","medium","value_1","formatFn","chunks","map","p","isArray","other","Intl","PluralRules","MISSING_INTL_API","rule","getPluralRules","parts","part","lastPart","mergeLiteral","mergeConfigs","defaultConfig","configs","c1","c2","createFastMemoizeCache","store","IntlErrorCode","IntlMessageFormat","overrideFormats","defaultLocale","formatterCache","pluralRules","ast","resolvedOptions","resolvedLocale","NumberFormat","supportedLocalesOf","getAst","resolveLocale","__parse","TypeError","__spreadArray","DateTimeFormat","defineProperty","memoizedDefaultLocale","enumerable","configurable","Locale","supportedLocales","integer","percent","short","long","full","IntlError","exception","stack","captureStackTrace","UnsupportedFormatterError","UNSUPPORTED_FORMATTER","InvalidConfigError","INVALID_CONFIG","MissingDataError","MISSING_DATA","IntlFormatError","FORMAT_ERROR","MessageFormatError","descriptor","id","defaultMessage","description","MissingTranslationError","MISSING_TRANSLATION","filterProps","props","allowlist","defaults","filtered","name","DEFAULT_INTL_CONFIG","messages","timeZone","defaultFormats","fallbackOnEmptyString","onError","process","onWarn","warning","getNamedFormat","formatType","NUMBER_FORMAT_OPTIONS","getFormatter","formatNumber","config","formatNumberToParts","RELATIVE_TIME_FORMAT_OPTIONS","formatRelativeTime","getRelativeTimeFormat","RelativeTimeFormat","DATE_TIME_FORMAT_OPTIONS","filteredOptions","timeStyle","dateStyle","formatDate","_b","Date","formatTime","formatDateTimeRange","from","to","formatRange","formatDateToParts","formatTimeToParts","PLURAL_FORMAT_OPTIONS","formatPlural","setTimeZoneInOptions","deepMergeOptions","opts1","opts2","deepMergeFormatsAndSetTimeZone","f1","mfFormats","formatMessage","state","messageDescriptor","defaultRichTextElements","msgId","condition","Err","invariant","hasOwnProperty","toLowerCase","getMessageFormat","LIST_FORMAT_OPTIONS","now","formatList","getListFormat","results","formatListToParts","ListFormat","richValues_1","serializedValues","generateToken","DISPLAY_NAMES_OPTONS","formatDisplayName","getDisplayNames","DisplayNames","of","verifyConfigMessages","createIntl","relativeTime","list","displayNames","createFormatters","resolvedConfig","$t","messagesCache","intlCache","getIntl","_normalizeLocale","translations","availableLocales","normalizeLocale","formatLimitedSizeList","items","intl","maxFinalStringLength","includeEllipsis","limit","stringifyList","cutItems","leftCount","formattedList","overflowRatio","newLimitFormattedList","guessNumberAsTimestampMinDate","getTime","formatValue","_ref","siblingsTimeMark","maxListSymbols","datesWithTime","formattedValues","subValue","_typeof","displayName","formatValuesList","_ref2","_ref3","rawValue","label","getPropByPath","path","movingAverage","data","frame","ceil","startIndex","max","endIndex","sum","extractDataInsights","hints","_config$dataType","_hints$axesTitle$vert","insights","dataType","dataRange","groupKeys","_toConsumableArray","groups","dataTitle","axesTitle","vertical","horizontal","entitiesCount","keysMap","fields","horizontalAxes","verticalAxes","valueAxes","possibleGroupKeys","allData","row","_hints$titles$getHori","_hints$titles$getHori2","_hints$titles","_hints$titles$getHori3","_hints$titles$getHori4","_hints$titles2","firstRow","lastRow","valuesKeys","labelsKey","_hints$axesTitle$vert2","fromKey","toKey","titles","getHorizontalAxesTitle","_step","_iterator","_createForOfIteratorHelper","_loop","_config$movingAverage","_config$movingAverage2","_insights","valueKey","average","variance","pow","standardDeviation","sqrt","trendStrengths","frameSize","longMovingAverageSize","longSize","shortMovingAverageSize","shortSize","longMovingAverage","shortMovingAverage","table","_longMovingAverage$i","_shortMovingAverage$i","toFixed","NaN","_config$movingAverage3","strengthsMap","growth","static","weak","strong","reduction","recordTrend","_ref4","width","_hints$pointsDensity$","_hints$pointsDensity","_hints$pointsDensity$2","_hints$pointsDensity2","normalizedHeight","pointsDensity","normalizedWidth","trendStrength","trendTangens","strength","priority","change","dataKey","generalTrend","localTrends","notableDiff","lastSwitch","lastSwitchValue","shortWasAbove","_i2","_ref5","_hints$titles$getHori5","_hints$titles$getHori6","_hints$titles3","_ref6","_hints$titles$getHori7","_hints$titles$getHori8","_hints$titles4","shortIsAbove","diff","_fromKey","_toKey","_from","_to","lastValue","done","f","_ref7","_config$clustersGridS","_relativeSizeDistrivu","_insights2","guessedXKey","guessedYKey","guessedValueKey","guessedLabelKey","normalized","y","gridSize","clustersGridSize","grid","_step2","usedX","usedY","_iterator2","_step2$value","_x","_y","orderedX","sort","a","b","orderedY","distancesX","distancesY","avgDistanceX","avgDistanceY","belowAvgDistancesX","belowAvgDistancesY","betweenDistanceX","betweenDistanceY","avgDistance","takenY","takenX","_grid$gridX","_grid$gridX$gridY","_normalized$i","_x2","_y2","gridX","round","gridY","clusterId","members","_step3","clusters","_iterator3","_step4","_x4","_iterator4","_clusters$grid$_x4$_y","_clusters$grid$_x4$_y2","_y4","pointHandled","_i4","_arr","xNeighbour","_i5","_arr2","_grid$xNeighbour","yNeighbour","clustersInsights","_clusterId","_hints$axesTitle$hori","_hints$axesTitle$vert3","_ref8","labels","_ref9","uniqueLabels","_x3","_ref10","_y3","_ref11","relativeSize","center","xLabel","yLabel","relativeSizeDistrivution","_defineProperty","Infinity","averageSize","cluster","smallerClusters","smallerSize","biggerClusters","biggerSize","normalizingSize","averageSizeNormalized","smallerSizeNormalized","biggerSizeNormalized","sizeMapBezier","points","bounds","yPoints","point","noPoints","weightPoints","_point$weight","weight","t","tPower","reversedTPower","factor","makeBezier","height","_i3","_clustersInsights","clustersInsight","mappedSize","_relativeSizeDistrivu2","sortedX","sortedY","_insights3","allRowsIds","groupedValues","_i6","_groupedValues$key","groupName","rows","_fields","grouppingKeys","_ref12","_group$groupName","_step5","_ref13","_slicedToArray","groupKey","group","_iterator5","_step6","_row","_iterator6","_ref15","_hints$titles$getVert","_hints$titles$getVert2","_hints$titles5","field","getVerticalAxesTitle","valuesAxes","averageValue","_ref14","_fields2","_ref16","_hints$titles$getValu","_hints$titles$getValu2","_hints$titles6","getValueAxesTitle","hasHighPriorityInsights","some","insight","summarize","summary","clustersLimit","valuesLimit","groupsLimit","dataRnageSummary","range","trendsInsights","trendsByDataKey","_trendsByDataKey$insi","entities","count","entitiesList","find","primaryTrend","secondaryTrends","mainSummary","trend","secondarylSummaries","general","locals","biggestClusters","maxSize","minSize","_entities","_entitiesList","clusterInsight","anonymous","_summary","valuesInsight","_entities2","_entitiesList2","groupInsights","valueCounts","minValuesCount","maxValuesCount","_entities3","groupsCount","valuesCount","_entitiesList3","localizedMessages","de","en","es","fr","it","ja","ko","pt","tr","vi","zh","PlotA11yView","providedData","plotLabel","plotRef","providedConfig","SPlotA11yView","Box","useAsyncI18nMessages","React","makeDataSummarizationConfig","_fromHints","_fromHints2","_fromHints3","_fromHints4","fromHints","_fromHints5","duplicatedBaseKeys","baseKeys","entry","doublicated","handled","_step$value","renderTitle","_React$useState","_React$useState2","setSummary","_React$useState3","_React$useState4","generatingSummary","setGeneratingSummary","disable","override","setTimeout","handleSkip","_heavyFindNextFocusab","current","focus","handleSkipKeyboard","event","handleGoToTable","_dataTableRef$current","dataTableRef","handleGoToTableKeyboard","texts","close","skipPlot","goToTable","summaryPlaceholder","sstyled","styles","cn","_objectSpread","_assignProps"],"sourceRoot":""}