{"version":3,"file":"static/js/content.js","mappings":";wCAAAA,EAAOC,QAAU,EAAjB,qCC0BA,SAASC,EAAeC,EAAKC,GAC3B,OAAOC,OAAOC,UAAUJ,eAAeK,KAAKJ,EAAKC,GAGnDJ,EAAOC,QAAU,SAASO,EAAIC,EAAKC,EAAIC,GACrCF,EAAMA,GAAO,IACbC,EAAKA,GAAM,IACX,IAAIP,EAAM,GAEV,GAAkB,kBAAPK,GAAiC,IAAdA,EAAGI,OAC/B,OAAOT,EAGT,IAAIU,EAAS,MACbL,EAAKA,EAAGM,MAAML,GAEd,IAAIM,EAAU,IACVJ,GAAsC,kBAApBA,EAAQI,UAC5BA,EAAUJ,EAAQI,SAGpB,IAAIC,EAAMR,EAAGI,OAETG,EAAU,GAAKC,EAAMD,IACvBC,EAAMD,GAGR,IAAK,IAAIE,EAAI,EAAGA,EAAID,IAAOC,EAAG,CAC5B,IAEIC,EAAMC,EAAMC,EAAGC,EAFfC,EAAId,EAAGS,GAAGM,QAAQV,EAAQ,OAC1BW,EAAMF,EAAEG,QAAQf,GAGhBc,GAAO,GACTN,EAAOI,EAAEI,OAAO,EAAGF,GACnBL,EAAOG,EAAEI,OAAOF,EAAM,KAEtBN,EAAOI,EACPH,EAAO,IAGTC,EAAIO,mBAAmBT,GACvBG,EAAIM,mBAAmBR,GAElBjB,EAAeC,EAAKiB,GAEdQ,MAAMC,QAAQ1B,EAAIiB,IAC3BjB,EAAIiB,GAAGU,KAAKT,GAEZlB,EAAIiB,GAAK,CAACjB,EAAIiB,GAAIC,GAJlBlB,EAAIiB,GAAKC,EAQb,OAAOlB,kCCvDT,IAAI4B,EAAqB,SAASV,GAChC,cAAeA,GACb,IAAK,SACH,OAAOA,EAET,IAAK,UACH,OAAOA,EAAI,OAAS,QAEtB,IAAK,SACH,OAAOW,SAASX,GAAKA,EAAI,GAE3B,QACE,MAAO,KAIbrB,EAAOC,QAAU,SAASE,EAAKM,EAAKC,EAAIuB,GAOtC,OANAxB,EAAMA,GAAO,IACbC,EAAKA,GAAM,IACC,OAARP,IACFA,OAAM+B,GAGW,kBAAR/B,EACFE,OAAO8B,KAAKhC,GAAKiC,KAAI,SAAShB,GACnC,IAAIiB,EAAKC,mBAAmBP,EAAmBX,IAAMV,EACrD,OAAIkB,MAAMC,QAAQ1B,EAAIiB,IACbjB,EAAIiB,GAAGgB,KAAI,SAASf,GACzB,OAAOgB,EAAKC,mBAAmBP,EAAmBV,OACjDkB,KAAK9B,GAED4B,EAAKC,mBAAmBP,EAAmB5B,EAAIiB,QAEvDmB,KAAK9B,GAILwB,EACEK,mBAAmBP,EAAmBE,IAASvB,EAC/C4B,mBAAmBP,EAAmB5B,IAF3B,sCC1DpBF,EAAQuC,OAASvC,EAAQwC,MAAQ,EAAhBxC,MACjBA,EAAQyC,OAASzC,EAAQ0C,UAAY,EAApB1C,wBCIjB,IAAI2C,EAAW,SAAU3C,GACvB,aAEA,IAEIiC,EAFAW,EAAKxC,OAAOC,UACZwC,EAASD,EAAG3C,eAEZ6C,EAA4B,oBAAXC,OAAwBA,OAAS,GAClDC,EAAiBF,EAAQG,UAAY,aACrCC,EAAsBJ,EAAQK,eAAiB,kBAC/CC,EAAoBN,EAAQO,aAAe,gBAE/C,SAASC,EAAOpD,EAAKqD,EAAKC,GAOxB,OANApD,OAAOqD,eAAevD,EAAKqD,EAAK,CAC9BC,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAEL1D,EAAIqD,GAEb,IAEED,EAAO,GAAI,IACX,MAAOO,GACPP,EAAS,SAASpD,EAAKqD,EAAKC,GAC1B,OAAOtD,EAAIqD,GAAOC,GAItB,SAASM,EAAKC,EAASC,EAASC,EAAMC,GAEpC,IAAIC,EAAiBH,GAAWA,EAAQ3D,qBAAqB+D,EAAYJ,EAAUI,EAC/EC,EAAYjE,OAAOkE,OAAOH,EAAe9D,WACzCkE,EAAU,IAAIC,EAAQN,GAAe,IAMzC,OAFAG,EAAUI,QAuMZ,SAA0BV,EAASE,EAAMM,GACvC,IAAIG,EAAQC,EAEZ,OAAO,SAAgBC,EAAQC,GAC7B,GAAIH,IAAUI,EACZ,MAAM,IAAIC,MAAM,gCAGlB,GAAIL,IAAUM,EAAmB,CAC/B,GAAe,UAAXJ,EACF,MAAMC,EAKR,OAAOI,IAMT,IAHAV,EAAQK,OAASA,EACjBL,EAAQM,IAAMA,IAED,CACX,IAAIK,EAAWX,EAAQW,SACvB,GAAIA,EAAU,CACZ,IAAIC,EAAiBC,EAAoBF,EAAUX,GACnD,GAAIY,EAAgB,CAClB,GAAIA,IAAmBE,EAAkB,SACzC,OAAOF,GAIX,GAAuB,SAAnBZ,EAAQK,OAGVL,EAAQe,KAAOf,EAAQgB,MAAQhB,EAAQM,SAElC,GAAuB,UAAnBN,EAAQK,OAAoB,CACrC,GAAIF,IAAUC,EAEZ,MADAD,EAAQM,EACFT,EAAQM,IAGhBN,EAAQiB,kBAAkBjB,EAAQM,SAEN,WAAnBN,EAAQK,QACjBL,EAAQkB,OAAO,SAAUlB,EAAQM,KAGnCH,EAAQI,EAER,IAAIY,EAASC,EAAS5B,EAASE,EAAMM,GACrC,GAAoB,WAAhBmB,EAAOE,KAAmB,CAO5B,GAJAlB,EAAQH,EAAQsB,KACZb,EACAc,EAEAJ,EAAOb,MAAQQ,EACjB,SAGF,MAAO,CACL7B,MAAOkC,EAAOb,IACdgB,KAAMtB,EAAQsB,MAGS,UAAhBH,EAAOE,OAChBlB,EAAQM,EAGRT,EAAQK,OAAS,QACjBL,EAAQM,IAAMa,EAAOb,OA/QPkB,CAAiBhC,EAASE,EAAMM,GAE7CF,EAcT,SAASsB,EAASK,EAAI9F,EAAK2E,GACzB,IACE,MAAO,CAAEe,KAAM,SAAUf,IAAKmB,EAAG1F,KAAKJ,EAAK2E,IAC3C,MAAOhB,GACP,MAAO,CAAE+B,KAAM,QAASf,IAAKhB,IAhBjC7D,EAAQ8D,KAAOA,EAoBf,IAAIa,EAAyB,iBACzBmB,EAAyB,iBACzBhB,EAAoB,YACpBE,EAAoB,YAIpBK,EAAmB,GAMvB,SAASjB,KACT,SAAS6B,KACT,SAASC,KAIT,IAAIC,EAAoB,GACxB7C,EAAO6C,EAAmBnD,GAAgB,WACxC,OAAOoD,QAGT,IAAIC,EAAWjG,OAAOkG,eAClBC,EAA0BF,GAAYA,EAASA,EAASG,EAAO,MAC/DD,GACAA,IAA4B3D,GAC5BC,EAAOvC,KAAKiG,EAAyBvD,KAGvCmD,EAAoBI,GAGtB,IAAIE,EAAKP,EAA2B7F,UAClC+D,EAAU/D,UAAYD,OAAOkE,OAAO6B,GAYtC,SAASO,EAAsBrG,GAC7B,CAAC,OAAQ,QAAS,UAAUsG,SAAQ,SAAS/B,GAC3CtB,EAAOjD,EAAWuE,GAAQ,SAASC,GACjC,OAAOuB,KAAK3B,QAAQG,EAAQC,SAkClC,SAAS+B,EAAcvC,EAAWwC,GAChC,SAASC,EAAOlC,EAAQC,EAAKkC,EAASC,GACpC,IAAItB,EAASC,EAAStB,EAAUO,GAASP,EAAWQ,GACpD,GAAoB,UAAhBa,EAAOE,KAEJ,CACL,IAAIqB,EAASvB,EAAOb,IAChBrB,EAAQyD,EAAOzD,MACnB,OAAIA,GACiB,kBAAVA,GACPX,EAAOvC,KAAKkD,EAAO,WACdqD,EAAYE,QAAQvD,EAAM0D,SAASC,MAAK,SAAS3D,GACtDsD,EAAO,OAAQtD,EAAOuD,EAASC,MAC9B,SAASnD,GACViD,EAAO,QAASjD,EAAKkD,EAASC,MAI3BH,EAAYE,QAAQvD,GAAO2D,MAAK,SAASC,GAI9CH,EAAOzD,MAAQ4D,EACfL,EAAQE,MACP,SAASI,GAGV,OAAOP,EAAO,QAASO,EAAON,EAASC,MAvBzCA,EAAOtB,EAAOb,KA4BlB,IAAIyC,EAgCJlB,KAAK3B,QA9BL,SAAiBG,EAAQC,GACvB,SAAS0C,IACP,OAAO,IAAIV,GAAY,SAASE,EAASC,GACvCF,EAAOlC,EAAQC,EAAKkC,EAASC,MAIjC,OAAOM,EAaLA,EAAkBA,EAAgBH,KAChCI,EAGAA,GACEA,KAkHV,SAASnC,EAAoBF,EAAUX,GACrC,IAAIK,EAASM,EAASjC,SAASsB,EAAQK,QACvC,GAAIA,IAAW3C,EAAW,CAKxB,GAFAsC,EAAQW,SAAW,KAEI,UAAnBX,EAAQK,OAAoB,CAE9B,GAAIM,EAASjC,SAAT,SAGFsB,EAAQK,OAAS,SACjBL,EAAQM,IAAM5C,EACdmD,EAAoBF,EAAUX,GAEP,UAAnBA,EAAQK,QAGV,OAAOS,EAIXd,EAAQK,OAAS,QACjBL,EAAQM,IAAM,IAAI2C,UAChB,kDAGJ,OAAOnC,EAGT,IAAIK,EAASC,EAASf,EAAQM,EAASjC,SAAUsB,EAAQM,KAEzD,GAAoB,UAAhBa,EAAOE,KAIT,OAHArB,EAAQK,OAAS,QACjBL,EAAQM,IAAMa,EAAOb,IACrBN,EAAQW,SAAW,KACZG,EAGT,IAAIoC,EAAO/B,EAAOb,IAElB,OAAM4C,EAOFA,EAAK5B,MAGPtB,EAAQW,EAASwC,YAAcD,EAAKjE,MAGpCe,EAAQoD,KAAOzC,EAAS0C,QAQD,WAAnBrD,EAAQK,SACVL,EAAQK,OAAS,OACjBL,EAAQM,IAAM5C,GAUlBsC,EAAQW,SAAW,KACZG,GANEoC,GA3BPlD,EAAQK,OAAS,QACjBL,EAAQM,IAAM,IAAI2C,UAAU,oCAC5BjD,EAAQW,SAAW,KACZG,GAoDX,SAASwC,EAAaC,GACpB,IAAIC,EAAQ,CAAEC,OAAQF,EAAK,IAEvB,KAAKA,IACPC,EAAME,SAAWH,EAAK,IAGpB,KAAKA,IACPC,EAAMG,WAAaJ,EAAK,GACxBC,EAAMI,SAAWL,EAAK,IAGxB1B,KAAKgC,WAAWvG,KAAKkG,GAGvB,SAASM,EAAcN,GACrB,IAAIrC,EAASqC,EAAMO,YAAc,GACjC5C,EAAOE,KAAO,gBACPF,EAAOb,IACdkD,EAAMO,WAAa5C,EAGrB,SAASlB,EAAQN,GAIfkC,KAAKgC,WAAa,CAAC,CAAEJ,OAAQ,SAC7B9D,EAAYyC,QAAQkB,EAAczB,MAClCA,KAAKmC,OAAM,GA8Bb,SAAS/B,EAAOgC,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAASxF,GAC9B,GAAIyF,EACF,OAAOA,EAAenI,KAAKkI,GAG7B,GAA6B,oBAAlBA,EAASb,KAClB,OAAOa,EAGT,IAAKE,MAAMF,EAAS7H,QAAS,CAC3B,IAAIK,GAAK,EAAG2G,EAAO,SAASA,IAC1B,OAAS3G,EAAIwH,EAAS7H,QACpB,GAAIkC,EAAOvC,KAAKkI,EAAUxH,GAGxB,OAFA2G,EAAKnE,MAAQgF,EAASxH,GACtB2G,EAAK9B,MAAO,EACL8B,EAOX,OAHAA,EAAKnE,MAAQvB,EACb0F,EAAK9B,MAAO,EAEL8B,GAGT,OAAOA,EAAKA,KAAOA,GAKvB,MAAO,CAAEA,KAAM1C,GAIjB,SAASA,IACP,MAAO,CAAEzB,MAAOvB,EAAW4D,MAAM,GA+MnC,OA7mBAI,EAAkB5F,UAAY6F,EAC9B5C,EAAOmD,EAAI,cAAeP,GAC1B5C,EAAO4C,EAA4B,cAAeD,GAClDA,EAAkB0C,YAAcrF,EAC9B4C,EACA9C,EACA,qBAaFpD,EAAQ4I,oBAAsB,SAASC,GACrC,IAAIC,EAAyB,oBAAXD,GAAyBA,EAAOE,YAClD,QAAOD,IACHA,IAAS7C,GAG2B,uBAAnC6C,EAAKH,aAAeG,EAAK9G,QAIhChC,EAAQgJ,KAAO,SAASH,GAQtB,OAPIzI,OAAO6I,eACT7I,OAAO6I,eAAeJ,EAAQ3C,IAE9B2C,EAAOK,UAAYhD,EACnB5C,EAAOuF,EAAQzF,EAAmB,sBAEpCyF,EAAOxI,UAAYD,OAAOkE,OAAOmC,GAC1BoC,GAOT7I,EAAQmJ,MAAQ,SAAStE,GACvB,MAAO,CAAEqC,QAASrC,IAsEpB6B,EAAsBE,EAAcvG,WACpCiD,EAAOsD,EAAcvG,UAAW6C,GAAqB,WACnD,OAAOkD,QAETpG,EAAQ4G,cAAgBA,EAKxB5G,EAAQoJ,MAAQ,SAASrF,EAASC,EAASC,EAAMC,EAAa2C,QACxC,IAAhBA,IAAwBA,EAAcwC,SAE1C,IAAIC,EAAO,IAAI1C,EACb9C,EAAKC,EAASC,EAASC,EAAMC,GAC7B2C,GAGF,OAAO7G,EAAQ4I,oBAAoB5E,GAC/BsF,EACAA,EAAK3B,OAAOR,MAAK,SAASF,GACxB,OAAOA,EAAOpB,KAAOoB,EAAOzD,MAAQ8F,EAAK3B,WAuKjDjB,EAAsBD,GAEtBnD,EAAOmD,EAAIrD,EAAmB,aAO9BE,EAAOmD,EAAIzD,GAAgB,WACzB,OAAOoD,QAGT9C,EAAOmD,EAAI,YAAY,WACrB,MAAO,wBAkCTzG,EAAQkC,KAAO,SAASqH,GACtB,IAAIrH,EAAO,GACX,IAAK,IAAIqB,KAAOgG,EACdrH,EAAKL,KAAK0B,GAMZ,OAJArB,EAAKsH,UAIE,SAAS7B,IACd,KAAOzF,EAAKvB,QAAQ,CAClB,IAAI4C,EAAMrB,EAAKuH,MACf,GAAIlG,KAAOgG,EAGT,OAFA5B,EAAKnE,MAAQD,EACboE,EAAK9B,MAAO,EACL8B,EAQX,OADAA,EAAK9B,MAAO,EACL8B,IAsCX3H,EAAQwG,OAASA,EAMjBhC,EAAQnE,UAAY,CAClB0I,YAAavE,EAEb+D,MAAO,SAASmB,GAcd,GAbAtD,KAAKuD,KAAO,EACZvD,KAAKuB,KAAO,EAGZvB,KAAKd,KAAOc,KAAKb,MAAQtD,EACzBmE,KAAKP,MAAO,EACZO,KAAKlB,SAAW,KAEhBkB,KAAKxB,OAAS,OACdwB,KAAKvB,IAAM5C,EAEXmE,KAAKgC,WAAWzB,QAAQ0B,IAEnBqB,EACH,IAAK,IAAI1H,KAAQoE,KAEQ,MAAnBpE,EAAK4H,OAAO,IACZ/G,EAAOvC,KAAK8F,KAAMpE,KACjB0G,OAAO1G,EAAK6H,MAAM,MACrBzD,KAAKpE,GAAQC,IAMrB6H,KAAM,WACJ1D,KAAKP,MAAO,EAEZ,IACIkE,EADY3D,KAAKgC,WAAW,GACLE,WAC3B,GAAwB,UAApByB,EAAWnE,KACb,MAAMmE,EAAWlF,IAGnB,OAAOuB,KAAK4D,MAGdxE,kBAAmB,SAASyE,GAC1B,GAAI7D,KAAKP,KACP,MAAMoE,EAGR,IAAI1F,EAAU6B,KACd,SAAS8D,EAAOC,EAAKC,GAYnB,OAXA1E,EAAOE,KAAO,QACdF,EAAOb,IAAMoF,EACb1F,EAAQoD,KAAOwC,EAEXC,IAGF7F,EAAQK,OAAS,OACjBL,EAAQM,IAAM5C,KAGNmI,EAGZ,IAAK,IAAIpJ,EAAIoF,KAAKgC,WAAWzH,OAAS,EAAGK,GAAK,IAAKA,EAAG,CACpD,IAAI+G,EAAQ3B,KAAKgC,WAAWpH,GACxB0E,EAASqC,EAAMO,WAEnB,GAAqB,SAAjBP,EAAMC,OAIR,OAAOkC,EAAO,OAGhB,GAAInC,EAAMC,QAAU5B,KAAKuD,KAAM,CAC7B,IAAIU,EAAWxH,EAAOvC,KAAKyH,EAAO,YAC9BuC,EAAazH,EAAOvC,KAAKyH,EAAO,cAEpC,GAAIsC,GAAYC,EAAY,CAC1B,GAAIlE,KAAKuD,KAAO5B,EAAME,SACpB,OAAOiC,EAAOnC,EAAME,UAAU,GACzB,GAAI7B,KAAKuD,KAAO5B,EAAMG,WAC3B,OAAOgC,EAAOnC,EAAMG,iBAGjB,GAAImC,GACT,GAAIjE,KAAKuD,KAAO5B,EAAME,SACpB,OAAOiC,EAAOnC,EAAME,UAAU,OAG3B,KAAIqC,EAMT,MAAM,IAAIvF,MAAM,0CALhB,GAAIqB,KAAKuD,KAAO5B,EAAMG,WACpB,OAAOgC,EAAOnC,EAAMG,gBAU9BzC,OAAQ,SAASG,EAAMf,GACrB,IAAK,IAAI7D,EAAIoF,KAAKgC,WAAWzH,OAAS,EAAGK,GAAK,IAAKA,EAAG,CACpD,IAAI+G,EAAQ3B,KAAKgC,WAAWpH,GAC5B,GAAI+G,EAAMC,QAAU5B,KAAKuD,MACrB9G,EAAOvC,KAAKyH,EAAO,eACnB3B,KAAKuD,KAAO5B,EAAMG,WAAY,CAChC,IAAIqC,EAAexC,EACnB,OAIAwC,IACU,UAAT3E,GACS,aAATA,IACD2E,EAAavC,QAAUnD,GACvBA,GAAO0F,EAAarC,aAGtBqC,EAAe,MAGjB,IAAI7E,EAAS6E,EAAeA,EAAajC,WAAa,GAItD,OAHA5C,EAAOE,KAAOA,EACdF,EAAOb,IAAMA,EAET0F,GACFnE,KAAKxB,OAAS,OACdwB,KAAKuB,KAAO4C,EAAarC,WAClB7C,GAGFe,KAAKoE,SAAS9E,IAGvB8E,SAAU,SAAS9E,EAAQyC,GACzB,GAAoB,UAAhBzC,EAAOE,KACT,MAAMF,EAAOb,IAcf,MAXoB,UAAhBa,EAAOE,MACS,aAAhBF,EAAOE,KACTQ,KAAKuB,KAAOjC,EAAOb,IACM,WAAhBa,EAAOE,MAChBQ,KAAK4D,KAAO5D,KAAKvB,IAAMa,EAAOb,IAC9BuB,KAAKxB,OAAS,SACdwB,KAAKuB,KAAO,OACa,WAAhBjC,EAAOE,MAAqBuC,IACrC/B,KAAKuB,KAAOQ,GAGP9C,GAGToF,OAAQ,SAASvC,GACf,IAAK,IAAIlH,EAAIoF,KAAKgC,WAAWzH,OAAS,EAAGK,GAAK,IAAKA,EAAG,CACpD,IAAI+G,EAAQ3B,KAAKgC,WAAWpH,GAC5B,GAAI+G,EAAMG,aAAeA,EAGvB,OAFA9B,KAAKoE,SAASzC,EAAMO,WAAYP,EAAMI,UACtCE,EAAcN,GACP1C,IAKb,MAAS,SAAS2C,GAChB,IAAK,IAAIhH,EAAIoF,KAAKgC,WAAWzH,OAAS,EAAGK,GAAK,IAAKA,EAAG,CACpD,IAAI+G,EAAQ3B,KAAKgC,WAAWpH,GAC5B,GAAI+G,EAAMC,SAAWA,EAAQ,CAC3B,IAAItC,EAASqC,EAAMO,WACnB,GAAoB,UAAhB5C,EAAOE,KAAkB,CAC3B,IAAI8E,EAAShF,EAAOb,IACpBwD,EAAcN,GAEhB,OAAO2C,GAMX,MAAM,IAAI3F,MAAM,0BAGlB4F,cAAe,SAASnC,EAAUd,EAAYE,GAa5C,OAZAxB,KAAKlB,SAAW,CACdjC,SAAUuD,EAAOgC,GACjBd,WAAYA,EACZE,QAASA,GAGS,SAAhBxB,KAAKxB,SAGPwB,KAAKvB,IAAM5C,GAGNoD,IAQJrF,EA9sBM,CAqtBgBD,EAAOC,SAGtC,IACE4K,mBAAqBjI,EACrB,MAAOkI,GAWmB,kBAAfC,WACTA,WAAWF,mBAAqBjI,EAEhCoI,SAAS,IAAK,yBAAdA,CAAwCpI,uCC3uB5C,IACIqI,EADOC,EAAQ,MACCC,SAASD,EAAQ,OAGjCE,EAAkBF,EAAQ,MAC1BG,EAAYH,EAAQ,MACpBI,EAAkBJ,EAAQ,MAC1BK,EAAeL,EAAQ,MACvBM,EAAUN,EAAQ,KAClBO,EAAOP,EAAQ,MACfQ,EAAYR,EAAQ,MA0GxBlL,EAAOC,QAvFP,SAAS0L,EAAQhL,GACf,IAAIiL,EAAQjL,EAAQiL,OAASX,GAAY,GACrCY,EAAalL,EAAQkL,YAAc,GACnCC,EAAmBnL,EAAQyK,iBAAmBA,EAalD,SAAS3I,EAAMsJ,EAAKC,GAClB,IAAIC,EAAOD,GAzBL,EA0BF9E,EAAS,CACXgF,SAAUJ,EAAiBC,GAC3BP,QAAS,KACTC,KAAM,KACNC,WAAW,EACXS,aAAc,KACdC,OAAQ,KACRC,UAAW,MAGb,OAAwB,OAApBnF,EAAOgF,UACThF,EAAOuE,MAAO,EACdvE,EAAOsE,SAAU,EACVtE,IAITA,EAAOuE,KAAOA,EAAKvE,EAAOgF,UACtBhF,EAAOuE,MACTvE,EAAOsE,SAAU,EACVtE,IAITA,EAAOsE,QAAUA,EAAQtE,EAAOgF,WACT,IAAnBhF,EAAOsE,QAA0BtE,GAnD/B,IAsDF+E,GA1DS,IA0DOA,IAClB/E,EAAOwE,UAAYA,EAAUE,EAAO1E,EAAOgF,WA3DhC,IA6DTD,EAA4B/E,GAGhCA,EAAOiF,aAAeb,EAAgBM,EAAO1E,EAAOgF,UA/DpC,IAgEZD,EAA+B/E,GAGnCA,EAAOkF,OAASf,EAAUQ,EAAY3E,EAAOiF,aAAcjF,EAAOgF,UAlEzD,IAmELD,IAGJ/E,EAAOmF,UAAYd,EAAarE,EAAOgF,SAAUhF,EAAOkF,SAH5BlF,OAS9B,MAAO,CACLkE,gBAAiBU,EACjBN,QAASA,EACT/I,MAAOA,EACPiJ,UAAW,SAAUK,GACnB,OAAOtJ,EAAMsJ,EAnFF,GAmFmBL,WAEhCJ,gBAAiB,SAAUS,GACzB,OAAOtJ,EAAMsJ,EArFC,GAqFmBI,cAEnCd,UAAW,SAAUU,GACnB,OAAOtJ,EAAMsJ,EAvFN,GAuFmBK,QAE5Bb,aAAc,SAAUQ,GACtB,OAAOtJ,EAAMsJ,EAzFF,GAyFmBM,WAEhCC,iBAAkBX,GAKLA,CAAQ,0BCvHzB,IAAIY,EAAMrB,EAAQ,MACdM,EAAUN,EAAQ,KAiBlBsB,EAAc,gCAQlB,SAASC,EAAiBhJ,GACxB,MAAgC,MAA5BA,EAAMA,EAAM7C,OAAS,GAChB6C,EAAM/B,OAAO,EAAG+B,EAAM7C,OAAS,GAEjC6C,EAoCTzD,EAAOC,QAAU,SAAyBwD,GAExC,GAAI+H,EAAQ/H,GACV,OAAOgJ,EAAiBhJ,GAG1B,IAAIsI,EAAMtI,EAES,kBAARsI,IACTA,EAAM,GAAKA,GAGb,IAAIW,EAvCN,SAA6BjJ,GAC3B,OACEA,EAAM7C,OAAS,IACb6C,EAAMkJ,WAAW,IAAM,IACvBlJ,EAAMkJ,WAAWlJ,EAAM7C,OAAS,IAAM,IAmCtBgM,CAAoBb,GACpCW,IACFX,EAAMA,EAAIc,QAGZ,IAAIC,EA7BN,SAA8BrJ,GAC5B,IAAK,IAAIxC,EAAI,EAAGA,EAAIwC,EAAM7C,OAAQK,GAAK,EAAG,CACxC,IAAI8L,EAAOtJ,EAAMkJ,WAAW1L,GAC5B,GAAI8L,GAAQ,IAAMA,GAAQ,GACxB,OAAO,EAIX,OAAO,EAqBcC,CAAqBjB,GAM1C,GALIe,IACFf,EAAMA,EAAIkB,gBAIPH,GAAkBJ,IAAkBlB,EAAQO,GAC/C,OAAOU,EAAiBV,GAIrBS,EAAYU,KAAKnB,KACpBA,EAAM,KAAOA,GAGf,IAAIoB,EAAQZ,EAAI9J,MAAMsJ,EAAK,MAAM,GAEjC,OAAIoB,EAAMjB,SACDO,EAAiBU,EAAMjB,UAGzB,qCCzET,SAASkB,EAAsBlB,EAAUmB,GACvC,OAvBqBC,EAuBED,GAvBPE,EAuBHrB,GArBPsB,YAAYF,KAAcC,EAAI3M,OAAS0M,EAAQ1M,SAuBjDsL,EAAStL,SAAWyM,EAAMzM,QACuB,MAAjDsL,EAASA,EAAStL,OAASyM,EAAMzM,OAAS,IA1BhD,IAAkB2M,EAAKD,EA4EvBtN,EAAOC,QAAU,SAAmB4L,EAAY4B,EAAQvB,GAEtD,IAAK,IAAIjL,EAAI,EAAGA,EAAI4K,EAAWjL,OAAQK,GAAK,EAAG,CAC7C,IAAIoM,EAAQxB,EAAW5K,GACvB,GAAImM,EAAsBlB,EAAUmB,GAClC,OAAOA,EAKX,OAAe,OAAXI,GAQAA,EAAO7M,SAAWsL,EAAStL,OAPtB,KA9CX,SAAiCsL,EAAUC,GAezC,IAAIuB,EAAoBxB,EAAStL,OAASuL,EAAavL,OAAS,EAC5D+M,EAA2BzB,EAASsB,YAAY,IAAKE,GAGzD,OAAkC,IAA9BC,EACKzB,EAIFA,EAASxK,OAAOiM,EAA2B,GAsC3CC,CAAwB1B,EAAUuB,mCCzG3CzN,EAAOC,QAAU,SAA4BiM,GAC3C,IAAI2B,EAAe3B,EAASsB,YAAY,KACxC,OAAsB,IAAlBK,EACK,KAGF3B,EAASxK,OAAOmM,EAAe,mCCqDxC7N,EAAOC,QAAU,SAAciM,GAC7B,MAAwB,kBAAbA,IAIa,IAApBA,EAAStL,SAjCf,SAAwBsL,GAGtB,IAFA,IAAI4B,GAAW,EAEN7M,EAAI,EAAGA,EAAIiL,EAAStL,OAAQK,GAAK,EAAG,CAC3C,IAAI8L,EAAOb,EAASS,WAAW1L,GAE/B,GAAa,KAAT8L,EACFe,GAAW,OACN,KACJf,GAAQ,IAAMA,GAAQ,IACtBA,GAAQ,IAAMA,GAAQ,KAEvB,OAAO,EAIX,OAAOe,EAqBCC,CAAe7B,IAlEzB,SAAwBA,GAGtB,IAFA,IAAI8B,EAAe,EAEV/M,EAAI,EAAGA,EAAIiL,EAAStL,OAAQK,GAAK,EAAG,CAC3C,IAAI8L,EAAOb,EAASS,WAAW1L,GAE/B,GAAa,KAAT8L,EACFiB,GAAgB,OACX,GAAIjB,EAAO,IAAMA,EAAO,GAG7B,OAAO,EAIX,OACmB,IAAjBiB,GACgB,MAAhB9B,EAAS,IACyB,MAAlCA,EAASA,EAAStL,OAAS,GAgDOqN,CAAe/B,oCCnErD,SAASgC,EAAQnB,GAGf,OAAOA,GAAQ,IAAMA,GAAQ,GAU/B,SAASoB,EAAQpB,GAGf,OAAOA,GAAQ,IAAMA,GAAQ,IAc/B/M,EAAOC,QAAU,SAAiBiM,GAChC,GAAwB,kBAAbA,EACT,OAAO,EAGT,GAAIA,EAAStL,OAAS,IACpB,OAAO,EAGT,GAAwB,IAApBsL,EAAStL,OACX,OAAO,EAIT,IAAIwN,EAAgBlC,EAASS,WAAW,GACxC,IAAMwB,EAAQC,KAAkBF,EAAQE,GACtC,OAAO,EAST,IALA,IACIC,EACAtB,EAFAc,GAAgB,EAGhB7M,EAAMkL,EAAStL,OAEVK,EAAI,EAAGA,EAAID,EAAKC,GAAK,EAAG,CAG/B,GAAa,MAFb8L,EAAOb,EAASS,WAAW1L,IAEV,CACf,GAEGA,EAAI4M,EAAgB,IAEJ,KAAjBQ,GAEiB,KAAjBA,EAEA,OAAO,EAGTR,EAAe5M,OACV,IAAMkN,EAAQpB,KAASmB,EAAQnB,IAAkB,KAATA,EAE7C,OAAO,EAGTsB,EAAetB,EAGjB,OAEG/L,EAAM6M,EAAe,GAAM,IAIX,KAAjBQ,sCC3FJ,IAAIC,EAAqBpD,EAAQ,MAWjClL,EAAOC,QAAU,SAAyB2L,EAAOM,GAE/C,GAAIN,EAAM2C,OAAOrC,GACf,OAAOA,EAGT,IAAIsC,EAAY5C,EAAM6C,aAAavC,GACnC,OAAkB,OAAdsC,EAGKF,EAAmBpC,GAGrBsC,kCCfTxO,EAAOC,QAAU,SAAsBiM,EAAUE,GAE/C,OAAe,OAAXA,EACK,KAGFF,EAASxK,OAAO,EAAGwK,EAAStL,OAASwL,EAAOxL,OAAS,mCCN9D,SAAS8N,EAASC,EAAGC,GACnB,OAAU,OAAND,EACKC,EACQ,OAANA,GAIJD,EAAIC,EAHFD,EAGUC,EAWrB,SAASC,EAAaC,EAAMC,GAI1B,IAHA,IAAI5B,EAAQ2B,EAAK3B,MACb6B,EAAOD,EAEF9N,EAAI,EAAGA,EAAIkM,EAAMvM,OAAQK,GAAK,EAAG,CACxC,IAAIgO,EAAO9B,EAAMlM,GACbiO,EAAWF,EAAKC,QACH/M,IAAbgN,IACFA,EAAW7O,OAAOkE,OAAO,MACzByK,EAAKC,GAAQC,GAGfF,EAAOE,EAKT,OAFAF,EAAKG,EA3CoB,EA6ClBJ,EAYT,SAASK,EAAajC,EAAO4B,EAAMM,GACjC,IACIH,EACAxB,EAAoB,KAQxB,YALexL,IAAX6M,EAAKI,IACPzB,EAAoB2B,EAAQ,IAIf,IAAXA,SAQanN,KADjBgN,EAAWH,EAHJ5B,EAAMkC,OAKX3B,EAAoBgB,EAClBhB,EACA0B,EAAajC,EAAO+B,EAAUG,EAAQ,UAMzBnN,KADjBgN,EAAWH,EAAK,QAEdrB,EAAoBgB,EAClBhB,EACA0B,EAAajC,EAAO+B,EAAUG,EAAQ,MAnBjC3B,EAgCX,SAAS4B,EAAW1D,GAIlB,GAHAvF,KAAKkJ,WAAalP,OAAOkE,OAAO,MAChC8B,KAAKuF,MAAQvL,OAAOkE,OAAO,MAEvBqH,EACF,IAAK,IAAI3K,EAAI,EAAGA,EAAI2K,EAAMhL,OAAQK,GAAK,EAAG,CACxC,IAAI6N,EAAOlD,EAAM3K,GACb6N,EAAK5E,UACP2E,EAAaC,EAAMzI,KAAKkJ,YAExBV,EAAaC,EAAMzI,KAAKuF,QAUhC0D,EAAWnE,SAAW,SAAUqE,GAC9B,IAAIT,EAAO,IAAIO,EAKf,OAHAP,EAAKQ,WAAaC,EAAKD,WACvBR,EAAKnD,MAAQ4D,EAAK5D,MAEXmD,GAOTO,EAAWhP,UAAUiO,OAAS,SAAU9K,GAEtC,YAA6BvB,IAAtBmE,KAAKuF,MAAMnI,IAUpB6L,EAAWhP,UAAUmO,aAAe,SAAUvC,GAC5C,IAAIiB,EAAQjB,EAASpL,MAAM,KAGvB4M,EAAoB0B,EACtBjC,EACA9G,KAAKuF,MACLuB,EAAMvM,OAAS,GAGjB,GAA0B,OAAtB8M,EACF,OAAO,KAIT,IAAI+B,EAAiBL,EACnBjC,EACA9G,KAAKkJ,WACLpC,EAAMvM,OAAS,GAGjB,OAAuB,OAAnB6O,EACKtC,EAAMrD,MAAM2F,EAAiB,GAAGlN,KAAK,KAGvC4K,EAAMrD,MAAM4D,GAAmBnL,KAAK,MAI7CvC,EAAOC,QAAUqP,qCC9KjB,IAAIhB,EAAqBpD,EAAQ,MAWjClL,EAAOC,QAAU,SAAmB2L,EAAOM,GAEzC,GAAIN,EAAM2C,OAAOrC,GACf,OAAO,EAIT,IAAIwD,EAAUpB,EAAmBpC,GACjC,OAAgB,OAAZwD,GAIG9D,EAAM2C,OAAOmB,0BC1BtB,iBACE,SAASC,GAGsC1P,GAC9CA,EAAQ2P,SACoC5P,GAC5CA,EAAO4P,SAHT,IAIIC,EAA8B,iBAAVC,EAAAA,GAAsBA,EAAAA,EAE7CD,EAAWC,SAAWD,GACtBA,EAAWE,SAAWF,GACtBA,EAAW3L,KAUZ,IAAI8L,EAGJC,EAAS,WAGTC,EAAO,GAUPC,EAAgB,QAChBC,EAAgB,eAChBC,EAAkB,4BAGlBC,EAAS,CACR,SAAY,kDACZ,YAAa,iDACb,gBAAiB,iBAKlBC,EAAQC,KAAKD,MACbE,EAAqBC,OAAOC,aAa5B,SAASrJ,EAAMzB,GACd,MAAM+K,WAAWN,EAAOzK,IAWzB,SAASzD,EAAIyO,EAAO5K,GAGnB,IAFA,IAAIrF,EAASiQ,EAAMjQ,OACfsG,EAAS,GACNtG,KACNsG,EAAOtG,GAAUqF,EAAG4K,EAAMjQ,IAE3B,OAAOsG,EAaR,SAAS4J,EAAUC,EAAQ9K,GAC1B,IAAIkH,EAAQ4D,EAAOjQ,MAAM,KACrBoG,EAAS,GAWb,OAVIiG,EAAMvM,OAAS,IAGlBsG,EAASiG,EAAM,GAAK,IACpB4D,EAAS5D,EAAM,IAMTjG,EADO9E,GAFd2O,EAASA,EAAOxP,QAAQ8O,EAAiB,MACrBvP,MAAM,KACAmF,GAAI1D,KAAK,KAiBpC,SAASyO,EAAWD,GAMnB,IALA,IAGItN,EACAwN,EAJAC,EAAS,GACTC,EAAU,EACVvQ,EAASmQ,EAAOnQ,OAGbuQ,EAAUvQ,IAChB6C,EAAQsN,EAAOpE,WAAWwE,OACb,OAAU1N,GAAS,OAAU0N,EAAUvQ,EAG3B,QAAX,OADbqQ,EAAQF,EAAOpE,WAAWwE,OAEzBD,EAAOpP,OAAe,KAAR2B,IAAkB,KAAe,KAARwN,GAAiB,QAIxDC,EAAOpP,KAAK2B,GACZ0N,KAGDD,EAAOpP,KAAK2B,GAGd,OAAOyN,EAWR,SAASE,EAAWP,GACnB,OAAOzO,EAAIyO,GAAO,SAASpN,GAC1B,IAAIyN,EAAS,GAOb,OANIzN,EAAQ,QAEXyN,GAAUT,GADVhN,GAAS,SAC8B,GAAK,KAAQ,OACpDA,EAAQ,MAAiB,KAARA,GAElByN,GAAUT,EAAmBhN,MAE3BlB,KAAK,IAoCT,SAAS8O,EAAaC,EAAOC,GAG5B,OAAOD,EAAQ,GAAK,IAAMA,EAAQ,MAAgB,GAARC,IAAc,GAQzD,SAASC,EAAMC,EAAOC,EAAWC,GAChC,IAAIvQ,EAAI,EAGR,IAFAqQ,EAAQE,EAAYpB,EAAMkB,EA1LpB,KA0LoCA,GAAS,EACnDA,GAASlB,EAAMkB,EAAQC,GACOD,EAAQG,IAA2BxQ,GAAK8O,EACrEuB,EAAQlB,EAAMkB,EA3KAvB,IA6Kf,OAAOK,EAAMnP,EAAI,GAAsBqQ,GAASA,EAhM1C,KA0MP,SAASjP,EAAOqP,GAEf,IAEIC,EAIAC,EACAC,EACA3C,EACA4C,EACAC,EACA9Q,EACAkQ,EACAa,EAEAC,EArEiBC,EAsDjBnB,EAAS,GACToB,EAAcT,EAAMjR,OAEpBK,EAAI,EACJsR,EA7MM,IA8MNC,EA/MS,GAoOb,KALAT,EAAQF,EAAMrE,YA7NH,MA8NC,IACXuE,EAAQ,GAGJC,EAAI,EAAGA,EAAID,IAASC,EAEpBH,EAAMlF,WAAWqF,IAAM,KAC1B1K,EAAM,aAEP4J,EAAOpP,KAAK+P,EAAMlF,WAAWqF,IAM9B,IAAK3C,EAAQ0C,EAAQ,EAAIA,EAAQ,EAAI,EAAG1C,EAAQiD,GAAwC,CAOvF,IAAKL,EAAOhR,EAAGiR,EAAI,EAAG9Q,EAAI8O,EAErBb,GAASiD,GACZhL,EAAM,mBAGPgK,GAxGmBe,EAwGER,EAAMlF,WAAW0C,MAvGxB,GAAK,GACbgD,EAAY,GAEhBA,EAAY,GAAK,GACbA,EAAY,GAEhBA,EAAY,GAAK,GACbA,EAAY,GAEbnC,IAgGQA,GAAQoB,EAAQf,GAAON,EAAShP,GAAKiR,KACjD5K,EAAM,YAGPrG,GAAKqQ,EAAQY,IAGTZ,GAFJa,EAAI/Q,GAAKoR,EAvQL,EAuQoBpR,GAAKoR,EAtQzB,MAsQ8CpR,EAAIoR,IAbHpR,GAAK8O,EAoBpDgC,EAAI3B,EAAMN,GADdmC,EAAalC,EAAOiC,KAEnB7K,EAAM,YAGP4K,GAAKE,EAKNI,EAAOhB,EAAMvQ,EAAIgR,EADjBH,EAAMZ,EAAOtQ,OAAS,EACc,GAARqR,GAIxB1B,EAAMtP,EAAI6Q,GAAO7B,EAASsC,GAC7BjL,EAAM,YAGPiL,GAAKhC,EAAMtP,EAAI6Q,GACf7Q,GAAK6Q,EAGLZ,EAAOuB,OAAOxR,IAAK,EAAGsR,GAIvB,OAAOnB,EAAWF,GAUnB,SAASxO,EAAOmP,GACf,IAAIU,EACAd,EACAiB,EACAC,EACAH,EACAR,EACAY,EACAC,EACAzR,EACA+Q,EACAW,EAGAR,EAEAS,EACAX,EACAY,EANA9B,EAAS,GAoBb,IARAoB,GAHAT,EAAQb,EAAWa,IAGCjR,OAGpB2R,EAvUU,IAwUVd,EAAQ,EACRe,EA1Ua,GA6URR,EAAI,EAAGA,EAAIM,IAAeN,GAC9Bc,EAAejB,EAAMG,IACF,KAClBd,EAAOpP,KAAK2O,EAAmBqC,IAejC,IAXAJ,EAAiBC,EAAczB,EAAOtQ,OAMlC+R,GACHzB,EAAOpP,KAzVG,KA6VJ4Q,EAAiBJ,GAAa,CAIpC,IAAKM,EAAI3C,EAAQ+B,EAAI,EAAGA,EAAIM,IAAeN,GAC1Cc,EAAejB,EAAMG,KACDO,GAAKO,EAAeF,IACvCA,EAAIE,GAcN,IAPIF,EAAIL,EAAIhC,GAAON,EAASwB,IAD5BsB,EAAwBL,EAAiB,KAExCpL,EAAM,YAGPmK,IAAUmB,EAAIL,GAAKQ,EACnBR,EAAIK,EAECZ,EAAI,EAAGA,EAAIM,IAAeN,EAO9B,IANAc,EAAejB,EAAMG,IAEFO,KAAOd,EAAQxB,GACjC3I,EAAM,YAGHwL,GAAgBP,EAAG,CAEtB,IAAKM,EAAIpB,EAAOrQ,EAAI8O,IAEf2C,GADJV,EAAI/Q,GAAKoR,EAlYP,EAkYsBpR,GAAKoR,EAjY3B,MAiYgDpR,EAAIoR,IADTpR,GAAK8O,EAKlD8C,EAAUH,EAAIV,EACdC,EAAalC,EAAOiC,EACpBjB,EAAOpP,KACN2O,EAAmBY,EAAac,EAAIa,EAAUZ,EAAY,KAE3DS,EAAItC,EAAMyC,EAAUZ,GAGrBlB,EAAOpP,KAAK2O,EAAmBY,EAAawB,EAAG,KAC/CL,EAAOhB,EAAMC,EAAOsB,EAAuBL,GAAkBC,GAC7DlB,EAAQ,IACNiB,IAIFjB,IACAc,EAGH,OAAOrB,EAAO3O,KAAK,IA4CpByN,EAAW,CAMV,QAAW,QAQX,KAAQ,CACP,OAAUgB,EACV,OAAUI,GAEX,OAAU5O,EACV,OAAUE,EACV,QA/BD,SAAiBmP,GAChB,OAAOf,EAAUe,GAAO,SAASd,GAChC,OAAOX,EAAclD,KAAK6D,GACvB,OAASrO,EAAOqO,GAChBA,MA4BJ,UAnDD,SAAmBc,GAClB,OAAOf,EAAUe,GAAO,SAASd,GAChC,OAAOZ,EAAcjD,KAAK6D,GACvBvO,EAAOuO,EAAOjH,MAAM,GAAGmD,eACvB8D,YA0DE,KAANxN,EAAAA,WACC,OAAOyM,GADF,8BAjgBN,sCCsBF,IAAIA,EAAW9E,EAAQ,MACnB+H,EAAO/H,EAAQ,MASnB,SAASgI,IACP7M,KAAK8M,SAAW,KAChB9M,KAAK+M,QAAU,KACf/M,KAAKgN,KAAO,KACZhN,KAAKiN,KAAO,KACZjN,KAAKkN,KAAO,KACZlN,KAAK6F,SAAW,KAChB7F,KAAKmN,KAAO,KACZnN,KAAKoN,OAAS,KACdpN,KAAKqN,MAAQ,KACbrN,KAAKsN,SAAW,KAChBtN,KAAKuN,KAAO,KACZvN,KAAKwN,KAAO,KAnBd5T,EAAQwC,MAAQqR,EAChB7T,EAAQ+G,QA0ZR,SAAoB+M,EAAQC,GAC1B,OAAOF,EAASC,GAAQ,GAAO,GAAM/M,QAAQgN,IA1Z/C/T,EAAQgU,cAiaR,SAA0BF,EAAQC,GAChC,OAAKD,EACED,EAASC,GAAQ,GAAO,GAAME,cAAcD,GAD/BA,GAjatB/T,EAAQiU,OAsVR,SAAmB/T,GAKb8S,EAAKkB,SAAShU,KAAMA,EAAM2T,EAAS3T,IACvC,OAAMA,aAAe+S,EACd/S,EAAI+T,SADuBhB,EAAI5S,UAAU4T,OAAO3T,KAAKJ,IA1V9DF,EAAQiT,IAAMA,EAqBd,IAAIkB,EAAkB,oBAClBC,EAAc,WAGdC,EAAoB,qCAOpBC,EAAS,CAAC,IAAK,IAAK,IAAK,KAAM,IAAK,KAAKC,OAHhC,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,OAM/CC,EAAa,CAAC,KAAMD,OAAOD,GAK3BG,EAAe,CAAC,IAAK,IAAK,IAAK,IAAK,KAAKF,OAAOC,GAChDE,EAAkB,CAAC,IAAK,IAAK,KAE7BC,EAAsB,yBACtBC,EAAoB,+BAEpBC,EAAiB,CACf,YAAc,EACd,eAAe,GAGjBC,EAAmB,CACjB,YAAc,EACd,eAAe,GAGjBC,EAAkB,CAChB,MAAQ,EACR,OAAS,EACT,KAAO,EACP,QAAU,EACV,MAAQ,EACR,SAAS,EACT,UAAU,EACV,QAAQ,EACR,WAAW,EACX,SAAS,GAEXC,EAAc/J,EAAQ,KAE1B,SAAS4I,EAAS/H,EAAKmJ,EAAkBC,GACvC,GAAIpJ,GAAOkH,EAAKmC,SAASrJ,IAAQA,aAAemH,EAAK,OAAOnH,EAE5D,IAAIsJ,EAAI,IAAInC,EAEZ,OADAmC,EAAE5S,MAAMsJ,EAAKmJ,EAAkBC,GACxBE,EAGTnC,EAAI5S,UAAUmC,MAAQ,SAASsJ,EAAKmJ,EAAkBC,GACpD,IAAKlC,EAAKkB,SAASpI,GACjB,MAAM,IAAItE,UAAU,gDAAkDsE,GAMxE,IAAIuJ,EAAavJ,EAAItK,QAAQ,KACzB8T,GACqB,IAAhBD,GAAqBA,EAAavJ,EAAItK,QAAQ,KAAQ,IAAM,IACjE+T,EAASzJ,EAAIjL,MAAMyU,GAEvBC,EAAO,GAAKA,EAAO,GAAGjU,QADL,MACyB,KAG1C,IAAIkU,EAFJ1J,EAAMyJ,EAAOjT,KAAKgT,GAQlB,GAFAE,EAAOA,EAAK5I,QAEPsI,GAA+C,IAA1BpJ,EAAIjL,MAAM,KAAKF,OAAc,CAErD,IAAI8U,EAAapB,EAAkBqB,KAAKF,GACxC,GAAIC,EAeF,OAdArP,KAAKuN,KAAO6B,EACZpP,KAAKwN,KAAO4B,EACZpP,KAAKsN,SAAW+B,EAAW,GACvBA,EAAW,IACbrP,KAAKoN,OAASiC,EAAW,GAEvBrP,KAAKqN,MADHwB,EACWD,EAAYxS,MAAM4D,KAAKoN,OAAO/R,OAAO,IAErC2E,KAAKoN,OAAO/R,OAAO,IAEzBwT,IACT7O,KAAKoN,OAAS,GACdpN,KAAKqN,MAAQ,IAERrN,KAIX,IAAIuP,EAAQxB,EAAgBuB,KAAKF,GACjC,GAAIG,EAAO,CAET,IAAIC,GADJD,EAAQA,EAAM,IACS3I,cACvB5G,KAAK8M,SAAW0C,EAChBJ,EAAOA,EAAK/T,OAAOkU,EAAMhV,QAO3B,GAAIuU,GAAqBS,GAASH,EAAKK,MAAM,wBAAyB,CACpE,IAAI1C,EAAgC,OAAtBqC,EAAK/T,OAAO,EAAG,IACzB0R,GAAawC,GAASb,EAAiBa,KACzCH,EAAOA,EAAK/T,OAAO,GACnB2E,KAAK+M,SAAU,GAInB,IAAK2B,EAAiBa,KACjBxC,GAAYwC,IAAUZ,EAAgBY,IAAU,CAmBnD,IADA,IASIvC,EAAM0C,EATNC,GAAW,EACN/U,EAAI,EAAGA,EAAI0T,EAAgB/T,OAAQK,IAAK,EAElC,KADTgV,EAAMR,EAAKhU,QAAQkT,EAAgB1T,QACP,IAAb+U,GAAkBC,EAAMD,KACzCA,EAAUC,IAiBE,KATdF,GAFe,IAAbC,EAEOP,EAAKjI,YAAY,KAIjBiI,EAAKjI,YAAY,IAAKwI,MAM/B3C,EAAOoC,EAAK3L,MAAM,EAAGiM,GACrBN,EAAOA,EAAK3L,MAAMiM,EAAS,GAC3B1P,KAAKgN,KAAO1R,mBAAmB0R,IAIjC2C,GAAW,EACX,IAAS/U,EAAI,EAAGA,EAAIyT,EAAa9T,OAAQK,IAAK,CAC5C,IAAIgV,GACS,KADTA,EAAMR,EAAKhU,QAAQiT,EAAazT,QACJ,IAAb+U,GAAkBC,EAAMD,KACzCA,EAAUC,IAGG,IAAbD,IACFA,EAAUP,EAAK7U,QAEjByF,KAAKiN,KAAOmC,EAAK3L,MAAM,EAAGkM,GAC1BP,EAAOA,EAAK3L,MAAMkM,GAGlB3P,KAAK6P,YAIL7P,KAAK6F,SAAW7F,KAAK6F,UAAY,GAIjC,IAAIiK,EAAoC,MAArB9P,KAAK6F,SAAS,IACe,MAA5C7F,KAAK6F,SAAS7F,KAAK6F,SAAStL,OAAS,GAGzC,IAAKuV,EAEH,IADA,IAAIC,EAAY/P,KAAK6F,SAASpL,MAAM,MACpBuV,GAAPpV,EAAI,EAAOmV,EAAUxV,QAAQK,EAAIoV,EAAGpV,IAAK,CAChD,IAAIgO,EAAOmH,EAAUnV,GACrB,GAAKgO,IACAA,EAAK6G,MAAMlB,GAAsB,CAEpC,IADA,IAAI0B,EAAU,GACLtE,EAAI,EAAG5Q,EAAI6N,EAAKrO,OAAQoR,EAAI5Q,EAAG4Q,IAClC/C,EAAKtC,WAAWqF,GAAK,IAIvBsE,GAAW,IAEXA,GAAWrH,EAAK+C,GAIpB,IAAKsE,EAAQR,MAAMlB,GAAsB,CACvC,IAAI2B,EAAaH,EAAUtM,MAAM,EAAG7I,GAChCuV,EAAUJ,EAAUtM,MAAM7I,EAAI,GAC9BwV,EAAMxH,EAAK6G,MAAMjB,GACjB4B,IACFF,EAAWzU,KAAK2U,EAAI,IACpBD,EAAQE,QAAQD,EAAI,KAElBD,EAAQ5V,SACV6U,EAAO,IAAMe,EAAQjU,KAAK,KAAOkT,GAEnCpP,KAAK6F,SAAWqK,EAAWhU,KAAK,KAChC,QAMJ8D,KAAK6F,SAAStL,OAjND,IAkNfyF,KAAK6F,SAAW,GAGhB7F,KAAK6F,SAAW7F,KAAK6F,SAASe,cAG3BkJ,IAKH9P,KAAK6F,SAAW8D,EAAS2G,QAAQtQ,KAAK6F,WAGxC,IAAI0K,EAAIvQ,KAAKkN,KAAO,IAAMlN,KAAKkN,KAAO,GAClCsD,EAAIxQ,KAAK6F,UAAY,GACzB7F,KAAKiN,KAAOuD,EAAID,EAChBvQ,KAAKwN,MAAQxN,KAAKiN,KAId6C,IACF9P,KAAK6F,SAAW7F,KAAK6F,SAASxK,OAAO,EAAG2E,KAAK6F,SAAStL,OAAS,GAC/C,MAAZ6U,EAAK,KACPA,EAAO,IAAMA,IAOnB,IAAKX,EAAee,GAKlB,IAAS5U,EAAI,EAAGoV,EAAI5B,EAAW7T,OAAQK,EAAIoV,EAAGpV,IAAK,CACjD,IAAI6V,EAAKrC,EAAWxT,GACpB,IAA0B,IAAtBwU,EAAKhU,QAAQqV,GAAjB,CAEA,IAAIC,EAAMzU,mBAAmBwU,GACzBC,IAAQD,IACVC,EAAMC,OAAOF,IAEfrB,EAAOA,EAAK3U,MAAMgW,GAAIvU,KAAKwU,IAM/B,IAAIvD,EAAOiC,EAAKhU,QAAQ,MACV,IAAV+R,IAEFnN,KAAKmN,KAAOiC,EAAK/T,OAAO8R,GACxBiC,EAAOA,EAAK3L,MAAM,EAAG0J,IAEvB,IAAIyD,EAAKxB,EAAKhU,QAAQ,KAoBtB,IAnBY,IAARwV,GACF5Q,KAAKoN,OAASgC,EAAK/T,OAAOuV,GAC1B5Q,KAAKqN,MAAQ+B,EAAK/T,OAAOuV,EAAK,GAC1B/B,IACF7O,KAAKqN,MAAQuB,EAAYxS,MAAM4D,KAAKqN,QAEtC+B,EAAOA,EAAK3L,MAAM,EAAGmN,IACZ/B,IAET7O,KAAKoN,OAAS,GACdpN,KAAKqN,MAAQ,IAEX+B,IAAMpP,KAAKsN,SAAW8B,GACtBT,EAAgBa,IAChBxP,KAAK6F,WAAa7F,KAAKsN,WACzBtN,KAAKsN,SAAW,KAIdtN,KAAKsN,UAAYtN,KAAKoN,OAAQ,CAC5BmD,EAAIvQ,KAAKsN,UAAY,GAAzB,IACIuD,EAAI7Q,KAAKoN,QAAU,GACvBpN,KAAKuN,KAAOgD,EAAIM,EAKlB,OADA7Q,KAAKwN,KAAOxN,KAAK6N,SACV7N,MAcT6M,EAAI5S,UAAU4T,OAAS,WACrB,IAAIb,EAAOhN,KAAKgN,MAAQ,GACpBA,IAEFA,GADAA,EAAO/Q,mBAAmB+Q,IACd9R,QAAQ,OAAQ,KAC5B8R,GAAQ,KAGV,IAAIF,EAAW9M,KAAK8M,UAAY,GAC5BQ,EAAWtN,KAAKsN,UAAY,GAC5BH,EAAOnN,KAAKmN,MAAQ,GACpBF,GAAO,EACPI,EAAQ,GAERrN,KAAKiN,KACPA,EAAOD,EAAOhN,KAAKiN,KACVjN,KAAK6F,WACdoH,EAAOD,IAAwC,IAAhChN,KAAK6F,SAASzK,QAAQ,KACjC4E,KAAK6F,SACL,IAAM7F,KAAK6F,SAAW,KACtB7F,KAAKkN,OACPD,GAAQ,IAAMjN,KAAKkN,OAInBlN,KAAKqN,OACLT,EAAKmC,SAAS/O,KAAKqN,QACnBrT,OAAO8B,KAAKkE,KAAKqN,OAAO9S,SAC1B8S,EAAQuB,EAAYtS,UAAU0D,KAAKqN,QAGrC,IAAID,EAASpN,KAAKoN,QAAWC,GAAU,IAAMA,GAAW,GAsBxD,OApBIP,GAAoC,MAAxBA,EAASzR,QAAQ,KAAYyR,GAAY,KAIrD9M,KAAK+M,WACHD,GAAY6B,EAAgB7B,MAAuB,IAATG,GAC9CA,EAAO,MAAQA,GAAQ,IACnBK,GAAmC,MAAvBA,EAAS9J,OAAO,KAAY8J,EAAW,IAAMA,IACnDL,IACVA,EAAO,IAGLE,GAA2B,MAAnBA,EAAK3J,OAAO,KAAY2J,EAAO,IAAMA,GAC7CC,GAA+B,MAArBA,EAAO5J,OAAO,KAAY4J,EAAS,IAAMA,GAOhDN,EAAWG,GALlBK,EAAWA,EAASpS,QAAQ,SAAS,SAASuU,GAC5C,OAAOxT,mBAAmBwT,QAE5BrC,EAASA,EAAOlS,QAAQ,IAAK,QAEgBiS,GAO/CN,EAAI5S,UAAU0G,QAAU,SAASgN,GAC/B,OAAO3N,KAAK4N,cAAcH,EAASE,GAAU,GAAO,IAAOE,UAQ7DhB,EAAI5S,UAAU2T,cAAgB,SAASD,GACrC,GAAIf,EAAKkB,SAASH,GAAW,CAC3B,IAAImD,EAAM,IAAIjE,EACdiE,EAAI1U,MAAMuR,GAAU,GAAO,GAC3BA,EAAWmD,EAKb,IAFA,IAAIjQ,EAAS,IAAIgM,EACbkE,EAAQ/W,OAAO8B,KAAKkE,MACfgR,EAAK,EAAGA,EAAKD,EAAMxW,OAAQyW,IAAM,CACxC,IAAIC,EAAOF,EAAMC,GACjBnQ,EAAOoQ,GAAQjR,KAAKiR,GAQtB,GAHApQ,EAAOsM,KAAOQ,EAASR,KAGD,KAAlBQ,EAASH,KAEX,OADA3M,EAAO2M,KAAO3M,EAAOgN,SACdhN,EAIT,GAAI8M,EAASZ,UAAYY,EAASb,SAAU,CAG1C,IADA,IAAIoE,EAAQlX,OAAO8B,KAAK6R,GACfwD,EAAK,EAAGA,EAAKD,EAAM3W,OAAQ4W,IAAM,CACxC,IAAIC,EAAOF,EAAMC,GACJ,aAATC,IACFvQ,EAAOuQ,GAAQzD,EAASyD,IAU5B,OANIzC,EAAgB9N,EAAOiM,WACvBjM,EAAOgF,WAAahF,EAAOyM,WAC7BzM,EAAO0M,KAAO1M,EAAOyM,SAAW,KAGlCzM,EAAO2M,KAAO3M,EAAOgN,SACdhN,EAGT,GAAI8M,EAASb,UAAYa,EAASb,WAAajM,EAAOiM,SAAU,CAS9D,IAAK6B,EAAgBhB,EAASb,UAAW,CAEvC,IADA,IAAIhR,EAAO9B,OAAO8B,KAAK6R,GACd3S,EAAI,EAAGA,EAAIc,EAAKvB,OAAQS,IAAK,CACpC,IAAID,EAAIe,EAAKd,GACb6F,EAAO9F,GAAK4S,EAAS5S,GAGvB,OADA8F,EAAO2M,KAAO3M,EAAOgN,SACdhN,EAIT,GADAA,EAAOiM,SAAWa,EAASb,SACtBa,EAASV,MAASyB,EAAiBf,EAASb,UAS/CjM,EAAOyM,SAAWK,EAASL,aAT+B,CAE1D,IADA,IAAI+D,GAAW1D,EAASL,UAAY,IAAI7S,MAAM,KACvC4W,EAAQ9W,UAAYoT,EAASV,KAAOoE,EAAQC,WAC9C3D,EAASV,OAAMU,EAASV,KAAO,IAC/BU,EAAS9H,WAAU8H,EAAS9H,SAAW,IACzB,KAAfwL,EAAQ,IAAWA,EAAQhB,QAAQ,IACnCgB,EAAQ9W,OAAS,GAAG8W,EAAQhB,QAAQ,IACxCxP,EAAOyM,SAAW+D,EAAQnV,KAAK,KAWjC,GAPA2E,EAAOuM,OAASO,EAASP,OACzBvM,EAAOwM,MAAQM,EAASN,MACxBxM,EAAOoM,KAAOU,EAASV,MAAQ,GAC/BpM,EAAOmM,KAAOW,EAASX,KACvBnM,EAAOgF,SAAW8H,EAAS9H,UAAY8H,EAASV,KAChDpM,EAAOqM,KAAOS,EAAST,KAEnBrM,EAAOyM,UAAYzM,EAAOuM,OAAQ,CACpC,IAAImD,EAAI1P,EAAOyM,UAAY,GACvBuD,EAAIhQ,EAAOuM,QAAU,GACzBvM,EAAO0M,KAAOgD,EAAIM,EAIpB,OAFAhQ,EAAOkM,QAAUlM,EAAOkM,SAAWY,EAASZ,QAC5ClM,EAAO2M,KAAO3M,EAAOgN,SACdhN,EAGT,IAAI0Q,EAAe1Q,EAAOyM,UAA0C,MAA9BzM,EAAOyM,SAAS9J,OAAO,GACzDgO,EACI7D,EAASV,MACTU,EAASL,UAA4C,MAAhCK,EAASL,SAAS9J,OAAO,GAElDiO,EAAcD,GAAYD,GACX1Q,EAAOoM,MAAQU,EAASL,SACvCoE,EAAgBD,EAChBE,EAAU9Q,EAAOyM,UAAYzM,EAAOyM,SAAS7S,MAAM,MAAQ,GAE3DmX,GADAP,EAAU1D,EAASL,UAAYK,EAASL,SAAS7S,MAAM,MAAQ,GACnDoG,EAAOiM,WAAa6B,EAAgB9N,EAAOiM,WA2B3D,GApBI8E,IACF/Q,EAAOgF,SAAW,GAClBhF,EAAOqM,KAAO,KACVrM,EAAOoM,OACU,KAAf0E,EAAQ,GAAWA,EAAQ,GAAK9Q,EAAOoM,KACtC0E,EAAQtB,QAAQxP,EAAOoM,OAE9BpM,EAAOoM,KAAO,GACVU,EAASb,WACXa,EAAS9H,SAAW,KACpB8H,EAAST,KAAO,KACZS,EAASV,OACQ,KAAfoE,EAAQ,GAAWA,EAAQ,GAAK1D,EAASV,KACxCoE,EAAQhB,QAAQ1C,EAASV,OAEhCU,EAASV,KAAO,MAElBwE,EAAaA,IAA8B,KAAfJ,EAAQ,IAA4B,KAAfM,EAAQ,KAGvDH,EAEF3Q,EAAOoM,KAAQU,EAASV,MAA0B,KAAlBU,EAASV,KAC3BU,EAASV,KAAOpM,EAAOoM,KACrCpM,EAAOgF,SAAY8H,EAAS9H,UAAkC,KAAtB8H,EAAS9H,SAC/B8H,EAAS9H,SAAWhF,EAAOgF,SAC7ChF,EAAOuM,OAASO,EAASP,OACzBvM,EAAOwM,MAAQM,EAASN,MACxBsE,EAAUN,OAEL,GAAIA,EAAQ9W,OAGZoX,IAASA,EAAU,IACxBA,EAAQtO,MACRsO,EAAUA,EAAQxD,OAAOkD,GACzBxQ,EAAOuM,OAASO,EAASP,OACzBvM,EAAOwM,MAAQM,EAASN,WACnB,IAAKT,EAAKiF,kBAAkBlE,EAASP,QAAS,CAInD,GAAIwE,EACF/Q,EAAOgF,SAAWhF,EAAOoM,KAAO0E,EAAQL,SAIpCQ,KAAajR,EAAOoM,MAAQpM,EAAOoM,KAAK7R,QAAQ,KAAO,IAC1CyF,EAAOoM,KAAKxS,MAAM,QAEjCoG,EAAOmM,KAAO8E,EAAWR,QACzBzQ,EAAOoM,KAAOpM,EAAOgF,SAAWiM,EAAWR,SAW/C,OARAzQ,EAAOuM,OAASO,EAASP,OACzBvM,EAAOwM,MAAQM,EAASN,MAEnBT,EAAKmF,OAAOlR,EAAOyM,WAAcV,EAAKmF,OAAOlR,EAAOuM,UACvDvM,EAAO0M,MAAQ1M,EAAOyM,SAAWzM,EAAOyM,SAAW,KACpCzM,EAAOuM,OAASvM,EAAOuM,OAAS,KAEjDvM,EAAO2M,KAAO3M,EAAOgN,SACdhN,EAGT,IAAK8Q,EAAQpX,OAWX,OARAsG,EAAOyM,SAAW,KAEdzM,EAAOuM,OACTvM,EAAO0M,KAAO,IAAM1M,EAAOuM,OAE3BvM,EAAO0M,KAAO,KAEhB1M,EAAO2M,KAAO3M,EAAOgN,SACdhN,EAcT,IARA,IAAImR,EAAOL,EAAQlO,OAAO,GAAG,GACzBwO,GACCpR,EAAOoM,MAAQU,EAASV,MAAQ0E,EAAQpX,OAAS,KACxC,MAATyX,GAAyB,OAATA,IAA2B,KAATA,EAInCE,EAAK,EACAtX,EAAI+W,EAAQpX,OAAQK,GAAK,EAAGA,IAEtB,OADboX,EAAOL,EAAQ/W,IAEb+W,EAAQvF,OAAOxR,EAAG,GACA,OAAToX,GACTL,EAAQvF,OAAOxR,EAAG,GAClBsX,KACSA,IACTP,EAAQvF,OAAOxR,EAAG,GAClBsX,KAKJ,IAAKT,IAAeC,EAClB,KAAOQ,IAAMA,EACXP,EAAQtB,QAAQ,OAIhBoB,GAA6B,KAAfE,EAAQ,IACpBA,EAAQ,IAA+B,MAAzBA,EAAQ,GAAGnO,OAAO,IACpCmO,EAAQtB,QAAQ,IAGd4B,GAAsD,MAAjCN,EAAQzV,KAAK,KAAKb,QAAQ,IACjDsW,EAAQlW,KAAK,IAGf,IAUMqW,EAVFK,EAA4B,KAAfR,EAAQ,IACpBA,EAAQ,IAA+B,MAAzBA,EAAQ,GAAGnO,OAAO,GAGjCoO,IACF/Q,EAAOgF,SAAWhF,EAAOoM,KAAOkF,EAAa,GACbR,EAAQpX,OAASoX,EAAQL,QAAU,IAI/DQ,KAAajR,EAAOoM,MAAQpM,EAAOoM,KAAK7R,QAAQ,KAAO,IAC1CyF,EAAOoM,KAAKxS,MAAM,QAEjCoG,EAAOmM,KAAO8E,EAAWR,QACzBzQ,EAAOoM,KAAOpM,EAAOgF,SAAWiM,EAAWR,UAyB/C,OArBAG,EAAaA,GAAe5Q,EAAOoM,MAAQ0E,EAAQpX,UAEhC4X,GACjBR,EAAQtB,QAAQ,IAGbsB,EAAQpX,OAIXsG,EAAOyM,SAAWqE,EAAQzV,KAAK,MAH/B2E,EAAOyM,SAAW,KAClBzM,EAAO0M,KAAO,MAMXX,EAAKmF,OAAOlR,EAAOyM,WAAcV,EAAKmF,OAAOlR,EAAOuM,UACvDvM,EAAO0M,MAAQ1M,EAAOyM,SAAWzM,EAAOyM,SAAW,KACpCzM,EAAOuM,OAASvM,EAAOuM,OAAS,KAEjDvM,EAAOmM,KAAOW,EAASX,MAAQnM,EAAOmM,KACtCnM,EAAOkM,QAAUlM,EAAOkM,SAAWY,EAASZ,QAC5ClM,EAAO2M,KAAO3M,EAAOgN,SACdhN,GAGTgM,EAAI5S,UAAU4V,UAAY,WACxB,IAAI5C,EAAOjN,KAAKiN,KACZC,EAAOc,EAAYsB,KAAKrC,GACxBC,IAEW,OADbA,EAAOA,EAAK,MAEVlN,KAAKkN,KAAOA,EAAK7R,OAAO,IAE1B4R,EAAOA,EAAK5R,OAAO,EAAG4R,EAAK1S,OAAS2S,EAAK3S,SAEvC0S,IAAMjN,KAAK6F,SAAWoH,mCCxtB5BtT,EAAOC,QAAU,CACfkU,SAAU,SAASrP,GACjB,MAAuB,kBAATA,GAEhBsQ,SAAU,SAAStQ,GACjB,MAAuB,kBAATA,GAA6B,OAARA,GAErCsT,OAAQ,SAAStT,GACf,OAAe,OAARA,GAEToT,kBAAmB,SAASpT,GAC1B,OAAc,MAAPA,yj+ICZP2T,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBzW,IAAjB0W,EACH,OAAOA,EAAa3Y,QAGrB,IAAID,EAASyY,EAAyBE,GAAY,CACjDE,GAAIF,EACJG,QAAQ,EACR7Y,QAAS,IAUV,OANA8Y,EAAoBJ,GAAUpY,KAAKP,EAAOC,QAASD,EAAQA,EAAOC,QAASyY,GAG3E1Y,EAAO8Y,QAAS,EAGT9Y,EAAOC,QCvBfyY,EAAoBnG,EAAI,SAASvS,GAChC,IAAIgZ,EAAShZ,GAAUA,EAAOiZ,WAC7B,WAAa,OAAOjZ,EAAgB,SACpC,WAAa,OAAOA,GAErB,OADA0Y,EAAoBQ,EAAEF,EAAQ,CAAErK,EAAGqK,IAC5BA,GCLRN,EAAoBQ,EAAI,SAASjZ,EAASkZ,GACzC,IAAI,IAAI3V,KAAO2V,EACXT,EAAoBU,EAAED,EAAY3V,KAASkV,EAAoBU,EAAEnZ,EAASuD,IAC5EnD,OAAOqD,eAAezD,EAASuD,EAAK,CAAEG,YAAY,EAAM0V,IAAKF,EAAW3V,MCJ3EkV,EAAoBY,EAAI,WACvB,GAA0B,kBAAfvO,WAAyB,OAAOA,WAC3C,IACC,OAAO1E,MAAQ,IAAI2E,SAAS,cAAb,GACd,MAAOuO,GACR,GAAsB,kBAAXxJ,OAAqB,OAAOA,QALjB,GCAxB2I,EAAoBU,EAAI,SAASjZ,EAAKC,GAAQ,OAAOC,OAAOC,UAAUJ,eAAeK,KAAKJ,EAAKC,ICA/FsY,EAAoBc,IAAM,SAASxZ,GAGlC,OAFAA,EAAOyZ,MAAQ,GACVzZ,EAAO0Z,WAAU1Z,EAAO0Z,SAAW,IACjC1Z,2BCHR,SAAS2Z,EAAmBC,EAAK5S,EAASC,EAAQ4S,EAAOC,EAAQtW,EAAKsB,GACpE,IACE,IAAI4C,EAAOkS,EAAIpW,GAAKsB,GAChBrB,EAAQiE,EAAKjE,MACjB,MAAO6D,GAEP,YADAL,EAAOK,GAILI,EAAK5B,KACPkB,EAAQvD,GAER6F,QAAQtC,QAAQvD,GAAO2D,KAAKyS,EAAOC,GAIxB,SAASC,EAAkB9T,GACxC,OAAO,WACL,IAAI/B,EAAOmC,KACP2T,EAAOC,UACX,OAAO,IAAI3Q,SAAQ,SAAUtC,EAASC,GACpC,IAAI2S,EAAM3T,EAAGiU,MAAMhW,EAAM8V,GAEzB,SAASH,EAAMpW,GACbkW,EAAmBC,EAAK5S,EAASC,EAAQ4S,EAAOC,EAAQ,OAAQrW,GAGlE,SAASqW,EAAOhW,GACd6V,EAAmBC,EAAK5S,EAASC,EAAQ4S,EAAOC,EAAQ,QAAShW,GAGnE+V,OAAM3X,8BC/BG,SAASiY,EAAgBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAI5S,UAAU,qCCFxB,SAAS6S,EAAkBC,EAAQC,GACjC,IAAK,IAAIvZ,EAAI,EAAGA,EAAIuZ,EAAM5Z,OAAQK,IAAK,CACrC,IAAIwZ,EAAaD,EAAMvZ,GACvBwZ,EAAW9W,WAAa8W,EAAW9W,aAAc,EACjD8W,EAAW7W,cAAe,EACtB,UAAW6W,IAAYA,EAAW5W,UAAW,GACjDxD,OAAOqD,eAAe6W,EAAQE,EAAWjX,IAAKiX,IAInC,SAASC,EAAaL,EAAaM,EAAYC,GAG5D,OAFID,GAAYL,EAAkBD,EAAY/Z,UAAWqa,GACrDC,GAAaN,EAAkBD,EAAaO,GACzCP,ECbF,IAAMQ,EACA,KADAA,EAEF,QAGEC,EAAb,WACI,WAAYC,EAAQC,GAAU,UAC1B3U,KAAK4U,QAAU,CACXF,OAAAA,EACAC,QAAAA,GAJZ,8BAQI,WACI,OAAO3U,KAAK4U,QAAQF,SAAWF,IATvC,qBAYI,WACI,OAAOxU,KAAK4U,QAAQF,SAAWF,MAbvC,KCLe,SAASK,EAAkBC,EAAKna,IAClC,MAAPA,GAAeA,EAAMma,EAAIva,UAAQI,EAAMma,EAAIva,QAE/C,IAAK,IAAIK,EAAI,EAAGma,EAAO,IAAIxZ,MAAMZ,GAAMC,EAAID,EAAKC,IAC9Cma,EAAKna,GAAKka,EAAIla,GAGhB,OAAOma,ECNM,SAASC,EAA2BjC,EAAGkC,GACpD,IAAIC,EAAuB,qBAAXvY,QAA0BoW,EAAEpW,OAAOE,WAAakW,EAAE,cAElE,IAAKmC,EAAI,CACP,GAAI3Z,MAAMC,QAAQuX,KAAOmC,ECJd,SAAqCnC,EAAGoC,GACrD,GAAKpC,EAAL,CACA,GAAiB,kBAANA,EAAgB,OAAO,EAAiBA,EAAGoC,GACtD,IAAIjJ,EAAIlS,OAAOC,UAAUmb,SAASlb,KAAK6Y,GAAGtP,MAAM,GAAI,GAEpD,MADU,WAANyI,GAAkB6G,EAAEpQ,cAAauJ,EAAI6G,EAAEpQ,YAAY/G,MAC7C,QAANsQ,GAAqB,QAANA,EAAoB3Q,MAAM8Z,KAAKtC,GACxC,cAAN7G,GAAqB,2CAA2CrF,KAAKqF,GAAW,EAAiB6G,EAAGoC,QAAxG,GDFgC,CAA2BpC,KAAOkC,GAAkBlC,GAAyB,kBAAbA,EAAExY,OAAqB,CAC/G2a,IAAInC,EAAImC,GACZ,IAAIta,EAAI,EAEJ0a,EAAI,aAER,MAAO,CACLzE,EAAGyE,EACHpJ,EAAG,WACD,OAAItR,GAAKmY,EAAExY,OAAe,CACxBkF,MAAM,GAED,CACLA,MAAM,EACNrC,MAAO2V,EAAEnY,OAGbsY,EAAG,SAAWqC,GACZ,MAAMA,GAERC,EAAGF,GAIP,MAAM,IAAIlU,UAAU,yIAGtB,IAEI3D,EAFAgY,GAAmB,EACnBC,GAAS,EAEb,MAAO,CACL7E,EAAG,WACDqE,EAAKA,EAAGhb,KAAK6Y,IAEf7G,EAAG,WACD,IAAItG,EAAOsP,EAAG3T,OAEd,OADAkU,EAAmB7P,EAAKnG,KACjBmG,GAETsN,EAAG,SAAWyC,GACZD,GAAS,EACTjY,EAAMkY,GAERH,EAAG,WACD,IACOC,GAAoC,MAAhBP,EAAW,QAAWA,EAAW,SAC1D,QACA,GAAIQ,EAAQ,MAAMjY,SE1BdmY,qBCxBCC,EAAb,WAEI,WAAYC,EAAKC,GAAY,UACzB/V,KAAK8V,IAAMA,EACX9V,KAAK+V,UAAYA,EAJzB,wCAQI,SAAeC,GAAY,IAAD,OACtB,OAAO/S,QAAQgT,KACXjW,KAAK+V,UAAUha,KAAI,SAAAma,GAAK,OAAIC,EAAMC,eAAe,EAAKN,IAAKI,EAAOF,SAV9E,6BAeI,WAAmB,IAAD,OACd,OAAO/S,QAAQoT,IACXrW,KAAK+V,UAAUha,KAAI,SAAAma,GAAK,OAAIC,EAAMC,eAAe,EAAKN,IAAKI,EAAO,SAjB9E,4BAqBI,SAAeF,GAAY,IAAD,OACtB,OAAO/S,QAAQgT,KACXjW,KAAK+V,UAAUha,KAAI,SAAAma,GAAK,OAAIC,EAAMG,aAAa,EAAKR,IAAKI,EAAOF,SAvB5E,6BA2BI,SAAgBA,GAAY,IAAD,OACvB,OAAO/S,QAAQgT,KACXjW,KAAK+V,UAAUha,KAAI,SAAAma,GAAK,OAAIC,EAAMI,cAAc,EAAKT,IAAKI,EAAOF,WA7B7E,yqBDgBMQ,EAAa,CAClBC,QAAS,EACTC,MAAO,EACPC,KAAM,EACNC,KAAM,EACNC,MAAO,IAGR,SAAYjB,GACX,gBACA,gBACA,cACA,cACA,oBALD,CAAYA,IAAAA,EAAQ,KAYpB,iBAUC,WAAYha,EAAckb,QAAA,IAAAA,IAAAA,EAA2BlB,EAASgB,MAC7D5W,KAAKpE,KAAOA,EACZoE,KAAK8W,MAAQA,EACb9W,KAAK+W,YAAc,GA2JrB,OAtJC,YAAAC,SAAA,SAAS9K,GACR,OAAOA,EAAI,GAAK,IAAMA,EAAI,GAAKA,GAGhC,YAAA+K,IAAA,WACC,IAAMC,EAAK,IAAIC,KACf,MACC,CAACnX,KAAKgX,SAASE,EAAGE,cAAepX,KAAKgX,SAASE,EAAGG,eAAenb,KAChE,KAED,IACAgb,EAAGI,mBAIL,YAAAC,UAAA,SAAUC,GACT,OAAKA,GAELxX,KAAKyX,QAAUD,EAERxX,KAAKyX,SAJQzX,KAAKyX,SAc1B,YAAAC,KAAA,SAAKlY,eAAyB,oDAC7B,IAAImY,EAAoB3X,KAAK8W,MACzBc,EAAcC,YACjBF,EAAoBC,EAAcC,WAEN,qBAAZnO,QAAiCA,OAAQmO,YACzDF,EAA0BjO,OAAQmO,WAEnC,IAAMC,EAAetB,EAAWmB,GAC1BI,EAAavB,EAAWhX,GAC9B,GAAMuY,GAAcD,EAApB,CAKA,IAAIE,EAAMC,QAAQD,IAAIE,KAAKD,SACvBzY,IAASoW,EAASiB,OAASoB,QAAQhX,QACtC+W,EAAMC,QAAQhX,MAAMiX,KAAKD,UAEtBzY,IAASoW,EAASgB,MAAQqB,QAAQE,OACrCH,EAAMC,QAAQE,KAAKD,KAAKD,UAGzB,IAAMG,EAAS,IAAI5Y,EAAI,KAAKQ,KAAKiX,MAAK,IAAIjX,KAAKpE,KAC3CgZ,EAAU,GAEd,GAAmB,IAAfyD,EAAI9d,QAAkC,kBAAX8d,EAAI,GAElCL,EADApD,EAAawD,EAAM,MAAMC,EAAI,SAEvB,GAAmB,IAAfA,EAAI9d,OACdqa,EAAawD,EAAM,IAAIC,EAAI,GAC3BL,EAAII,EAAQC,EAAI,SACV,GAAsB,kBAAXA,EAAI,GAAiB,CACtC,IAAIve,EAAMue,EAAI5U,MAAM,GACD,IAAf3J,EAAIS,SACPT,EAAMA,EAAI,IAEX8a,EAAawD,EAAM,MAAMC,EAAI,GAAE,IAAIve,EACnCke,EAAOI,EAAM,MAAMC,EAAI,GAAMve,QAE7B8a,EAAawD,EAAM,IAAIC,EACvBL,EAAII,EAAQC,OAGb,IAAqB,QAAArY,KAAK+W,aAAW,8BAAE,CAAlC,IAAMuB,EAAM,QACVC,EAA0B,CAAE3D,QAAO,EAAE4D,UAAWrB,KAAKsB,OAC3DH,EAAOI,SAAS,CAACH,yGAUnB,YAAAP,IAAA,eAAI,sDACHhY,KAAK0X,KAAI,MAAT1X,KAAI,GAAM4V,EAASe,MAAS0B,KAS7B,YAAAhX,KAAA,eAAK,sDACJrB,KAAK0X,KAAI,MAAT1X,KAAI,GAAM4V,EAASe,MAAS0B,KAS7B,YAAAF,KAAA,eAAK,sDACJnY,KAAK0X,KAAI,MAAT1X,KAAI,GAAM4V,EAASgB,MAASyB,KAS7B,YAAApX,MAAA,eAAM,sDACLjB,KAAK0X,KAAI,MAAT1X,KAAI,GAAM4V,EAASiB,OAAUwB,KAS9B,YAAAM,MAAA,eAAM,sDACL3Y,KAAK0X,KAAI,MAAT1X,KAAI,GAAM4V,EAASc,OAAU2B,KAS9B,YAAAO,QAAA,eAAQ,sDACP5Y,KAAK0X,KAAI,MAAT1X,KAAI,GAAM4V,EAASa,SAAY4B,KAGhC,YAAAQ,aAAA,SAAaC,GACRA,GEpL0B,YFoLbA,EAAUC,oBAC1B/Y,KAAK+W,YAAYtb,KAAKqd,GACtBA,EAAUvB,UAAUvX,KAAKyX,WAI3B,YAAAuB,eAAA,WACC,OAAOhZ,KAAK+W,aAtJN,EAAAc,UAAY,KAwJpB,EAxKA,GGKA,EA3CkB,CACd,oBAAuB,mCACvB,oBAAuB,cACvB,mBAAsB,YACtB,mBAAsB,YACtB,kBAAqB,sBACrB,6BAAgC,iDAChC,6BAAgC,6BAChC,4BAA+B,iFAC/B,mBAAsB,YACtB,+BAAkC,4BAClC,yBAA4B,qDAC5B,gCAAmC,YACnC,gCAAmC,4CACnC,uBAA0B,CACtB,CACI,KAAQ,QACR,SAAY,8DACZ,OAAU,aAEd,CACI,KAAQ,SACR,SAAY,8DACZ,OAAU,aAEd,CACI,KAAQ,OACR,SAAY,8DACZ,OAAU,aAEd,CACI,KAAQ,WACR,SAAY,8DACZ,OAAU,aAEd,CACI,KAAQ,OACR,SAAY,8DACZ,OAAU,eChChBoB,EAAsC,wBAAhCC,EAAAA,kBAAwD,MAAQ,OAE/D/C,EAAb,sEACI,SAAagD,GACT,OAAO,IAAIlW,SAAQ,SAAAtC,GAAO,OAAIyY,WAAWzY,EAASwY,QAF1D,sBAKI,SAAgBnB,EAAKqB,GACL,QAARJ,EACII,EACApB,QAAQD,IAAIA,GAEZC,QAAQD,IAAItO,SAAWA,OAAO4P,IAAM,WAAa,QAAS,cAAgBtB,GAG/D,IAAIuB,EAAO,cACnBZ,MAAMX,KAdzB,2BAkBI,SAAqBwB,EAAaC,GAC9B,OAAO,IAAIC,OAAOF,EAAYtd,KAAK,MAAM2K,KAAK4S,KAnBtD,2BAsBI,SAAqBE,EAAaC,GAC9B,OAAI5Z,KAAK6Z,cAAcF,EAAW,YAAgBlf,MAAM,KAAMmf,EAAKhT,cAAcJ,QACtE,cAEPxG,KAAK6Z,cAAcF,EAAW,WAAelf,MAAM,KAAMmf,EAAKhT,cAAcJ,QACrE,aAEPxG,KAAK6Z,cAAcF,EAAW,YAAgBlf,MAAM,KAAMmf,EAAKhT,cAAcJ,QACtE,cAEPxG,KAAK6Z,cAAcF,EAAW,YAAgBlf,MAAM,KAAMmf,EAAKhT,cAAcJ,QACtE,QAEPxG,KAAK6Z,cAAcF,EAAW,SAAalf,MAAM,KAAMmf,EAAKhT,cAAcJ,QACnE,WAGJ,UAvCf,4BA8DI,SAAsB8C,EAAM4M,EAAO4D,GAC/B,OAAO,IAAI7W,SAAQ,SAACtC,EAASC,GACzB,IAAImZ,EACKzQ,EAAK0Q,cAAc9D,EAAM+D,WAG9BC,aAAaH,GACbpZ,EAAQuV,IACW,IAAZ4D,GACPnZ,EAAQ,MAGZ,IAAIwZ,EAAW,IAAIC,kBAAiB,SAACC,EAAiBF,GAClC7Q,EAAK0Q,cAAc9D,EAAM+D,YAErCC,aAAaH,GACbI,EAASG,aACT3Z,EAAQuV,OAIhBiE,EAASI,QAAQjR,EAAKkR,gBAAiB,CACnCC,WAAW,EACXC,SAAS,IAGbX,EAAQX,YAAW,WACfe,EAASG,aACTJ,aAAaH,GACbnZ,EAAO,IAAIjC,MAAM,uBAAyBuX,EAAM+D,aACjDH,QA5Ff,0BAgGI,SAAoBxQ,EAAMqR,EAAUb,GAChC,OAAO,IAAI7W,SAAQ,SAACtC,EAASC,GACzB,IAAImZ,EACAa,EAAKtR,EAAK0Q,cAAcW,GAExBC,IACAV,aAAaH,GACbpZ,EAAQia,IAGZ,IAAIT,EAAW,IAAIC,kBAAiB,SAACC,EAAiBF,GAClD,IAAMU,EAAUvR,EAAK0Q,cAAcW,GAC/BE,IACAX,aAAaH,GACbI,EAASG,aACT3Z,EAAQka,OAIhBV,EAASI,QAAQjR,EAAM,CACnBmR,WAAW,EACXC,SAAS,IAGbX,EAAQX,YAAW,WACfe,EAASG,aACTJ,aAAaH,GACbnZ,EAAO,IAAIjC,MAAM,uBAAyBgc,MAC3Cb,QA5Hf,2BAgII,SAAqBxQ,EAAMqR,EAAUb,GACjC,OAAO,IAAI7W,SAAQ,SAACtC,EAASC,GACzB,IAAImZ,EACAa,EAAKtR,EAAKwR,iBAAiBH,GAE3BC,EAAGrgB,OAAS,IACZ2f,aAAaH,GACbpZ,EAAQia,IAGZ,IAAIT,EAAW,IAAIC,kBAAiB,SAACC,EAAiBF,GAClD,IAAMY,EAAWzR,EAAKwR,iBAAiBH,GACnCI,EAASxgB,OAAS,IAClB2f,aAAaH,GACbI,EAASG,aACT3Z,EAAQoa,OAIhBZ,EAASI,QAAQjR,EAAM,CACnBmR,WAAW,EACXC,SAAS,IAGbX,EAAQX,YAAW,WACfe,EAASG,aACTJ,aAAaH,GACbnZ,EAAO,IAAIjC,MAAM,uBAAyBgc,MAC3Cb,QA5Jf,yBAiKI,SAAmBa,GACfK,SAAShB,cAAcW,GAAUM,MAAMC,QAAU,EACjDF,SAAShB,cAAcW,GAAUM,MAAME,QAAU,SAnKzD,yBAsKI,SAAmBR,EAAUS,GACzB,OAAOJ,SAAShB,cAAcW,GAAUS,KAvKhD,sBA2KI,SAAgBC,GACZ,GAAIA,EAASC,mBAAkD,IAA9BD,EAASC,iBACtC,OAAO,EAGX,IAAM3S,EAAOqS,SAAShB,cAAcqB,EAASpB,UAE7C,MAAiD,WAA7CvQ,OAAO6R,iBAAiB5S,GAAM6S,aAIP,SAAvB7S,EAAKsS,MAAME,UAIVE,EAASI,oBACgB,IAAtB9S,EAAK+S,gBA3LrB,4BAmMI,SAAsBC,EAAiBN,GACnC,GAAIM,EAAgBC,WAAY,CAC5B,IAAgC,IAA5BP,EAASQ,eACT,OAGJ,GAAIR,EAASO,WAAY,CAAC,IAAD,MACLP,EAASO,WAAWnhB,MAAM,MADrB,IACrB,2BAAgD,CAAC,IAAtC8N,EAAqC,QAC5C,IACIvI,KAAK8b,YAAYvT,GAErB,MAAO2K,MALU,+BAUzBlT,KAAK8b,YAAYT,EAASpB,aAnNtC,0BAwNI,SAAoBoB,GAChB,IAAIA,EAASU,WAOT,OAAO,EAPe,IAAD,MACFV,EAASU,WAAWthB,MAAM,MADxB,IACrB,2BAAmD,CAAC,IAAzCmB,EAAwC,QAC/C,GAAIof,SAASgB,OAAOC,SAASrgB,GACzB,OAAO,GAHM,8BAUzB,OAAO,IAnOf,4BAsOI,SAAsB8J,GAGlB,OAFewW,IAAAA,MAAYxW,GAAKG,WAvOxC,8BA6OI,SAAwBH,GACpB,IAAIG,EAAWqW,IAAAA,MAAYxW,GAAKG,SAC5BE,EAASmW,IAAAA,UAAgBxW,GAE7B,OAAOK,GAAkBF,IAjPjC,8BAoPI,SAAwBsW,EAAkBC,EAAmBvW,GACzD,IAAMwW,EAAaF,EAAiBE,WAGpC,KAF4B,IAAIlF,MAAQmF,UAAa,IAAInF,KAAKkF,GAAaC,WAAa,IAEhEF,GAAqBD,EAAiBtW,WAAaA,EAEvE,OADAsQ,EAAMoG,SAAS,mCACR,MA1PnB,KAAapG,EA0CFqG,aAAAA,WAAAA,IAAAA,EAAAA,EAAAA,IAAAA,MAAe,WAAOC,EAAmBC,GAA1B,gFACZzC,EAAW,IAAIpE,EAASmF,SAAUyB,GADtB,kBAGSxC,EAAS0C,eAAeD,GAHjC,cAGRrB,EAHQ,yBAIPA,GAJO,yDAMP,MANO,8GAAfmB,GA1CErG,EAoDFyG,sBAAAA,WAAAA,IAAAA,EAAAA,EAAAA,IAAAA,MAAwB,WAAOH,GAAP,gFACrBxC,EAAW,IAAIpE,EAASmF,SAAUyB,GADb,kBAGCxC,EAAS4C,kBAHV,cAGjBC,EAHiB,yBAIhBA,GAJgB,yDAMhB,MANgB,4GAAxBF,GCzDJ,ICAHG,EDASC,EAAb,WACI,WAAYC,EAAQC,GAAa,UAC7Bld,KAAK4U,QAAU,CACXqI,OAAAA,EACAC,WAAAA,GAJZ,qCAQI,WAAe,IAAD,OAEV,OADA/G,EAAMoG,SAAS,oBAAsBY,KAAK7gB,UAAU0D,KAAK4U,UAClD,IAAI3R,SAAQ,SAACtC,EAASC,GACzBwc,OAAO7gB,QAAQ8gB,YAAY,EAAKzI,SAAS,SAAC0I,GACtC,GAAIA,EAAU,CACV,IAAMxjB,EAAM,IAAI2a,EACZ6I,EAAS1I,QAAQF,OACjB4I,EAAS1I,QAAQD,QACjB2I,EAAS1I,QAAQlO,MAGjB5M,EAAIyjB,QACJ5c,EAAQ7G,GAERA,EAAI0jB,YACJrH,EAAMoG,SAAS,mCACfpG,EAAMoG,SAAS,EAAK3H,SAAS,GAC7BuB,EAAMoG,SAASziB,GAAK,GACpB8G,EAAO9G,SAGX8G,EAAO,IAAIjC,MAAM,oCA7BrC,KEHa8e,EAqBA,CACLC,qBAAsB,yBACtBC,WAAY,cACZC,mBAAoB,uBACpBC,QAAS,WACTC,UAAW,cA1BNL,EA2CC,CACNM,qBAAsB,yBACtBC,gBAAiB,qBA7CZP,EAmDJ,CACDQ,cAAe,kBACfC,aAAc,iBACdC,YAAa,eACbC,iBAAkB,qBAClBC,oBAAqB,wBACrBC,uBAAwB,2BACxBC,sBAAuB,2BA1DlBd,EA4DQ,CACbe,mBAAoB,uBACpBC,mBAAoB,wBA9DfhB,EAgEE,CACPiB,qBAAsB,yBACtBC,sBAAuB,0BACvBC,kBAAmB,sBACnBC,oBAAqB,yBApEhBpB,EAsEI,CACTqB,mBAAoB,uBACpBC,iBAAkB,qBCxEbC,EAAb,sEACI,WACI,GAAItV,SAAWA,OAAO4P,IAAK,CAYvB5P,OAAOuV,iBAAiB,WAXJ,SAACC,GACjB,GAAmB,YAAfA,EAAMC,KAAoB,CAC1B,IAAMvK,EAAU,CACZpV,KAAM,WACNqG,SAAU6D,OAAO0V,SAAS5R,MAG9B0R,EAAMxR,OAAO2R,YAAYlC,KAAK7gB,UAAUsY,GAAU,SAIV,QAd5D,KAAaoK,EAkBFM,cAAgB,WACnB,OAAO,IAAIrc,SAAQ,SAACtC,EAAS4e,GAKzB,GAJAnG,YAAW,WACPzY,OAAQ9E,KACT,KAEC6N,SAAWA,OAAO4P,IAClB3Y,EAAQ+I,OAAO0V,SAAS5R,WAExB,IACI,IAAMgS,EAAcxE,SAASyE,SAE7B,GAAoB,KAAhBD,EACA,MAAM,IAAI7gB,MAAM,aAGpBgC,EAAQ6e,GACV,MAAOtM,GAGLkG,YAAW,WACP1P,OAAOuV,iBAAiB,WAAW,SAAS1S,GACxC,IACI,IAAMqI,EAAUuI,KAAK/gB,MAAMmQ,EAAE4S,MAC7B,GACS,aADDvK,EAAQpV,KAERmB,EAAQiU,EAAQ/O,eAGhBlF,EAAQ,MAGlB,MAAOuS,GACLvS,EAAQ,UAEb,GAEH+I,OAAO4P,IAAI+F,YAAY,UAAW,OACnC,UFpDvB,IAAIK,EAAQ,IAAIC,WAAW,IACZ,SAASC,IAEtB,IAAK7C,KAGHA,EAAoC,qBAAX8C,QAA0BA,OAAO9C,iBAAmB8C,OAAO9C,gBAAgB7E,KAAK2H,SAA+B,qBAAbC,UAAgE,oBAA7BA,SAAS/C,iBAAkC+C,SAAS/C,gBAAgB7E,KAAK4H,WAGrO,MAAM,IAAInhB,MAAM,4GAIpB,OAAOoe,EAAgB2C,GGjBzB,4HCQA,ICFA,MAJA,SAAkBK,GAChB,MAAuB,kBAATA,GAAqBC,EAAAA,KAAWD,IDG5CE,EAAY,GAEPrlB,EAAI,EAAGA,EAAI,MAAOA,EACzBqlB,EAAUxkB,MAAMb,EAAI,KAAOwa,SAAS,IAAI/Z,OAAO,IAoBjD,MAjBA,SAAmByZ,GACjB,IAAIoL,EAAStM,UAAUrZ,OAAS,QAAsBsB,IAAjB+X,UAAU,GAAmBA,UAAU,GAAK,EAG7EmM,GAAQE,EAAUnL,EAAIoL,EAAS,IAAMD,EAAUnL,EAAIoL,EAAS,IAAMD,EAAUnL,EAAIoL,EAAS,IAAMD,EAAUnL,EAAIoL,EAAS,IAAM,IAAMD,EAAUnL,EAAIoL,EAAS,IAAMD,EAAUnL,EAAIoL,EAAS,IAAM,IAAMD,EAAUnL,EAAIoL,EAAS,IAAMD,EAAUnL,EAAIoL,EAAS,IAAM,IAAMD,EAAUnL,EAAIoL,EAAS,IAAMD,EAAUnL,EAAIoL,EAAS,IAAM,IAAMD,EAAUnL,EAAIoL,EAAS,KAAOD,EAAUnL,EAAIoL,EAAS,KAAOD,EAAUnL,EAAIoL,EAAS,KAAOD,EAAUnL,EAAIoL,EAAS,KAAOD,EAAUnL,EAAIoL,EAAS,KAAOD,EAAUnL,EAAIoL,EAAS,MAAMtZ,cAMzf,IAAKuZ,EAASJ,GACZ,MAAM3e,UAAU,+BAGlB,OAAO2e,GEHT,MApBA,SAAYzlB,EAAS8lB,EAAKF,GAExB,IAAIG,GADJ/lB,EAAUA,GAAW,IACFgmB,SAAWhmB,EAAQslB,KAAOA,KAK7C,GAHAS,EAAK,GAAe,GAAVA,EAAK,GAAY,GAC3BA,EAAK,GAAe,GAAVA,EAAK,GAAY,IAEvBD,EAAK,CACPF,EAASA,GAAU,EAEnB,IAAK,IAAItlB,EAAI,EAAGA,EAAI,KAAMA,EACxBwlB,EAAIF,EAAStlB,GAAKylB,EAAKzlB,GAGzB,OAAOwlB,EAGT,OAAO9jB,EAAU+jB,IClBNE,EAAb,WACI,aAAe,UACXvgB,KAAKwgB,QAAUC,IACfzgB,KAAK0gB,OAAL,qDACkD1gB,KAAKwgB,QADvD,oIAHR,oCAOI,WACI,OAAOxgB,KAAKwgB,UARpB,0BAWI,WACI,IAAIG,EAAiB3F,SAAShB,cAAc,2BACtB,MAAlB2G,GACAA,EAAeC,WAAWC,YAAYF,GAG1C,IAAI9P,EAAImK,SAAS8F,cAAc,UAC/BjQ,EAAEkQ,aAAa,KAAM,cACrBlQ,EAAEmQ,YAAchhB,KAAK0gB,OACrB1F,SAASR,gBAAgByG,YAAYpQ,OApB7C,KCAaqQ,EAAb,6BCFe,SAASC,EAAgBrnB,EAAKqD,EAAKC,GAYhD,OAXID,KAAOrD,EACTE,OAAOqD,eAAevD,EAAKqD,EAAK,CAC9BC,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZ1D,EAAIqD,GAAOC,EAGNtD,EDVIonB,EACFE,4BAA8B,SAACC,EAAaC,EAAaC,GAC5DnE,OAAO7gB,QAAQ8gB,YAAY,CACvBJ,OAAQ,oBACRoE,YAAaA,EACbC,YAAaA,EACbC,YAAaA,IACd,SAACjE,QAPC4D,EAYFM,wBAA0B,SAACC,EAASH,EAAaC,GACpDnE,OAAO7gB,QAAQ8gB,YAAY,CACvBJ,OAAQ,qBACRwE,QAASA,EACTH,YAAaA,EACbC,YAAaA,IACd,SAACjE,QAlBC4D,EAuBFQ,iBAAmB,WACtB,IAaIC,EAAO,IAAIpB,EACfoB,EAAKC,eACL5G,SAASiE,iBAAiB0C,EAAKE,cAAc,SAAU3C,IAfhC,SAACA,GACpB,OAAQA,EAAM4C,OAAOC,aACjB,IAAK,QA1BRb,EA2BYE,4BAA4BlC,EAAM4C,OAAOT,YAAanC,EAAM4C,OAAOR,YAAapC,EAAM4C,OAAOP,aAClG,MACJ,IAAK,UA7BRL,EA8BYM,wBAAwBtC,EAAM4C,OAAOL,QAASvC,EAAM4C,OAAOR,YAAapC,EAAM4C,OAAOP,cAUnGS,CAAe9C,OE1CnB,IAAM+C,EACC,YCEDC,EAAb,+GACI,WAA+B5Y,EAAMqR,EAAUb,EAASH,GAAxD,mGAC2BxD,EAAMG,aAAahN,EAAMqR,EAAUb,GAD9D,OACUiB,EADV,OAEQoH,EAAgB,GAFxB,IAGqBpH,GAHrB,IAGI,2BAAWH,EAAgB,QAEA,UADXlR,OAAO6R,iBAAiBX,GAC1BwH,WACAC,EAASzH,EAAG0H,UACZC,EAAwB5I,EAAY5d,KAAI,SAAAymB,GAAI,OAAIA,EAAK5b,iBAEvDuP,EAAM0D,cAAc0I,EAAuBF,EAAOzb,gBAClDub,EAAc1mB,KAAKmf,IAVnC,kCAeQuH,EAAc,GAftB,0CAgBeA,EAAc,IAhB7B,cAkBc,IAAIxjB,MAAMsjB,GAlBxB,4CADJ,oHAuBI,WAA0B3Y,EAAMqR,EAAUb,EAASH,GAAnD,4GAE8BxD,EAAMG,aAAahN,EAAMqR,EAAUb,GAFjE,OAEce,EAFd,OAGc4H,EAAmB5H,EAAQxH,SAE3BkP,EAAwB5I,EAAY5d,KAAI,SAAAymB,GAAI,OAAIA,EAAK5b,iBALnE,IAOyB6b,GAPzB,WAAA5R,IAAA,6CAOmB+J,EAPnB,QAQkB8H,EAAa9H,EAAG0H,WAClBnM,EAAM0D,cAAc0I,EAAuBG,EAAW9b,eATtE,0CAUuBgU,GAVvB,uMAcc,IAAIjc,MAAMsjB,GAdxB,uEAvBJ,oHAyCI,WAA0B3Y,EAAMqR,EAAUb,EAASH,GAAnD,4GAE+BxD,EAAMI,cAAcjN,EAAMqR,EAAUb,GAFnE,OAEciB,EAFd,OAGY4H,EAAgB,GAH5B,IAIyB5H,GAJzB,IAIQ,2BAAWH,EAAgB,QAEjB8H,EAAa9H,EAAG0H,UAChBC,EAAwB5I,EAAY5d,KAAI,SAAAymB,GAAI,OAAIA,EAAK5b,iBAE3DuP,EAAMoG,SAAS,gBAAkBmG,GACjCvM,EAAMoG,SAAS,iBAAmBgG,GAE9BpM,EAAM0D,cAAc0I,EAAuBG,EAAW9b,gBACtDuP,EAAMoG,SAAS,mBACfpG,EAAMoG,SAAS3B,GAAI,GACnB+H,EAAclnB,KAAKmf,IAEnBzE,EAAMoG,SAAS,iBAjB/B,uDAoBeoG,GApBf,wCAsBc,IAAIhkB,MAAMsjB,GAtBxB,0DAzCJ,mFAmEI,SAAgBtZ,GACZ,IACIA,EAAKsS,MAAME,QAAU,OACrBxS,EAAKsS,MAAMC,QAAU,EACvB,MAAOhI,GACL,MAAM,IAAIvU,MAAMsjB,QAxE5B,KCCMW,EACiB,sBADjBA,EAEW,eAFXA,EAGU,cAHVA,EAIK,QAJLA,EAKc,kBALdA,EAMU,cANVA,EAOW,eAPXA,GAQgB,qBARhBA,GASe,oBATfA,GAUW,eAVXA,GAWc,kBAXdA,GAYc,mBAGPC,GAAb,WACI,WAAYjd,EAAM+V,EAAiBmH,GAAa,UAC5C9iB,KAAK4F,KAAOA,EACZ5F,KAAK2b,gBAAkBA,EACvB3b,KAAK8iB,WAAaA,EAClB9iB,KAAK+iB,WAAa,EAClB/iB,KAAKgjB,YAAc,KACnBhjB,KAAKijB,iBAAkB,EAP/B,kEAUI,uBAkBmBC,EAlBnB,EA+BmBC,EA/BnB,EAmDmBC,EAnDnB,EAqEmBC,EArEnB,EA0EmBC,EA1EnB,EA+EmBzH,EA/EnB,EAgGmB0H,EAhGnB,EA0GmBC,EA1GnB,EAgHmBC,EAhHnB,EA8HmBC,EA9HnB,EA8ImBC,EA9InB,EA4JmBC,EA5JnB,wGA4JI,sGAEc3J,EAAW,IAAIpE,EAAShY,EAAKilB,WAAYjlB,EAAK+H,KAAK+U,SAASlgB,MAAM,MAFhF,SAGkCwf,EAAS4J,gBAAgBhmB,EAAK+H,KAAKkU,QAAUjc,EAAK+H,KAAKkU,QAAU,KAHnG,OAGckJ,EAHd,OAIQnlB,EAAKmlB,YAAcA,EAJ3B,sDAMQ7M,EAAMoG,SAAS,4BACfpG,EAAMoG,SAAN,MAAkB,GACZ,IAAI5d,MAAJ,MARd,4FA5JJ,uBA4JmBilB,EA5JnB,6EA8II,8FAEyB/lB,EAAKilB,WAAWhI,iBAAiBjd,EAAK+H,KAAK+U,UACnDpa,SAAQ,SAAA2S,GACbA,EAAEkQ,WAJd,yDAQQjN,EAAMoG,SAAS,4BACfpG,EAAMoG,SAAN,MAAkB,GACZ,IAAI5d,MAAJ,MAVd,0DA9IJ,uBA8ImBglB,EA9InB,6EA8HI,iHAGkBzB,EAAS4B,aAAajmB,EAAKilB,WAAYjlB,EAAK+H,KAAK+U,SAAU9c,EAAK+H,KAAKkU,QAASjc,EAAK+H,KAAKme,OAAOtpB,MAAM,MAHvH,OAEcsgB,EAFd,WAI8BA,GAJ9B,IAIQ,2BAAgC,QACpBqI,QACRvlB,EAAKklB,aANjB,8FAUQ5M,EAAMoG,SAAS,6BACfpG,EAAMoG,SAAN,MAAkB,GACZ,IAAI5d,MAAJ,MAZd,0DA9HJ,uBA8HmB+kB,EA9HnB,6EAgHI,uGAGkBxB,EAAS8B,aAAanmB,EAAKilB,WAAYjlB,EAAK+H,KAAK+U,SAAU9c,EAAK+H,KAAKkU,QAASjc,EAAK+H,KAAKme,OAAOtpB,MAAM,MAHvH,qBAIe2oB,QACPvlB,EAAKklB,aALb,yDAQQ5M,EAAMoG,SAAS,8BACfpG,EAAMoG,SAAN,MAAkB,GACZ,IAAI5d,MAAJ,MAVd,0DAhHJ,uBAgHmB8kB,EAhHnB,6EA0GI,8FACUL,IADV,cAEIvlB,EAAKilB,WAAajlB,EAAKilB,WAAWmB,cAFtC,+DA1GJ,uBA0GmBT,EA1GnB,6EAgGI,oFACI,IACU3I,EAAUhd,EAAKilB,WAAW9I,cAAcnc,EAAK+H,KAAK+U,UAAUsJ,cAClE/B,EAASgC,SAASrJ,GACpB,MAAM3H,GACJiD,EAAMoG,SAAS,wBALvB,sEAhGJ,uBAgGmBgH,EAhGnB,6EA+EI,gGACQ1lB,EAAK8d,gBAAgBC,WAD7B,qBAEY/d,EAAK+H,KAAKgW,WAFtB,qBAG6B/d,EAAK+H,KAAKgW,WAAWnhB,MAAM,MAHxD,gEAGuB0pB,EAHvB,iBAK0BlK,EAAW,IAAIpE,EAASmF,SAAU,CAACmJ,IAL7D,UAM0ClK,EAASmK,eAAevmB,EAAK+H,KAAKkU,QAAUjc,EAAK+H,KAAKkU,QAAU,KAN1G,QAM0Be,EAN1B,OAOoBqH,EAASgC,SAASrJ,GAPtC,mSA/EJ,uBA+EmBgB,EA/EnB,6EA0EI,qFACIhe,EAAKilB,WAAa9H,SAAShB,cAAcnc,EAAK+H,KAAK+U,UADvD,+DA1EJ,uBA0EmB2I,EA1EnB,6EAqEI,qFACIpB,EAASgC,SAASrmB,EAAKilB,YAD3B,+DArEJ,uBAqEmBO,EArEnB,6EAmDI,sGAEcgB,EAAsB,IAAIxO,EAAShY,EAAKilB,WAAYjlB,EAAK+H,KAAK+U,SAASlgB,MAAM,MAF3F,SAGkC4pB,EAAoBD,eAAevmB,EAAK+H,KAAKkU,QAAUjc,EAAK+H,KAAKkU,QAAU,KAH7G,cAGcwK,EAHd,OAIYzmB,EAAK+H,KAAK2e,cACVD,EAAYE,cAAc,IAAIC,MAAM,UAEpCH,EAAYlB,QAEhBvlB,EAAKklB,aATb,2DAYQ5M,EAAMoG,SAAS,mBACfpG,EAAMoG,SAAN,MAAkB,GACZ,IAAI5d,MAAJ,MAdd,2DAnDJ,uBAmDmBykB,EAnDnB,6EA+BI,sGAEcnJ,EAAW,IAAIpE,EAAShY,EAAKilB,WAAYjlB,EAAK+H,KAAK+U,SAASlgB,MAAM,MAFhF,SAG2Bwf,EAASmK,eAAevmB,EAAK+H,KAAKkU,SAAW,KAHxE,cAGY4K,EAHZ,OAKY7mB,EAAK+H,KAAK+e,aACVD,EAASA,EAAOC,YAGpB9mB,EAAKilB,WAAa4B,EAT1B,2DAaQvO,EAAMoG,SAAS,yBACfpG,EAAMoG,SAAN,MAAkB,GAClB1e,EAAKolB,iBAAkB,EACjB,IAAItkB,MAAJ,MAhBd,2DA/BJ,uBA+BmBwkB,EA/BnB,6EAkBI,6GAGkBjB,EAASgB,kBAAkBrlB,EAAKilB,WAAYjlB,EAAK+H,KAAK+U,SAAU9c,EAAK+H,KAAKkU,QAASjc,EAAK+H,KAAKme,OAAOtpB,MAAM,MAH5H,OAEcogB,EAFd,OAKQhd,EAAKilB,WAAajI,EAL1B,sDAOQ1E,EAAMoG,SAAS,+BACfpG,EAAMoG,SAAN,MAAkB,GACZ,IAAI5d,MAAJ,MATd,0DAlBJ,uBAkBmBukB,EAlBnB,2CACUrlB,EAAOmC,KADjB,OAIS4iB,EAA0BM,GAJnC,IAKSN,EAAoBS,GAL7B,IAMST,EAAmBU,GAN5B,IAOSV,EAAcQ,GAPvB,IAQSR,EAAuB/G,GARhC,IASS+G,EAAmBW,GAT5B,IAUSX,EAAoBY,GAV7B,IAWSZ,GAAyBa,GAXlC,IAYSb,GAAwBc,GAZjC,IAaSd,GAAoBO,GAb7B,IAcSP,GAAuBe,GAdhC,IAeSf,GAAuBgB,GAZtBgB,EAHV,EAyKIzO,EAAMoG,SAAS,gBAAkB1e,EAAK+H,KAAKpG,OACvColB,EAAM/mB,EAAK+H,KAAKpG,MA1KxB,qBA2KY3B,EAAK+H,KAAKif,MA3KtB,wBA4KY1O,EAAMoG,SAAS,gBAAkB1e,EAAK+H,KAAKif,MAAQ,MA5K/D,UA6KkB1O,EAAM0O,MAAMhnB,EAAK+H,KAAKif,OA7KxC,QA8KY1O,EAAMoG,SAAS,qBA9K3B,mCAkLkBqI,EAAM/mB,EAAK+H,KAAKpG,QAlLlC,iCAmLmB3B,GAnLnB,yCAqLkB,IAAIc,MAAJ,MArLlB,2DAVJ,6DCnBagb,GAAc,CACvB,YAAe,gSACf,YAAe,iLACf,WAAc,mNACd,YAAe,gBACf,SAAY,gHCDVmL,GACY,eADZA,GAEW,eAFXA,GAGkB,qBAHlBA,GAIW,cAJXA,GAKQ,WALRA,GAMc,iBANdA,GAOW,cAPXA,GAQe,kBARfA,GASM,SATNA,GAUK,QAVLA,GAWS,YAXTA,GAYS,YAGFC,GAAb,WACI,WAAYC,EAAMpf,EAAMqf,EAActJ,GAAkB,UACpD3b,KAAKglB,KAAOA,EACZhlB,KAAK4F,KAAOA,EACZ5F,KAAKilB,aAAeA,EACpBjlB,KAAK2b,gBAAkBA,EACvB3b,KAAK+iB,WAAa,EAN1B,qEASI,uBAkBmBmC,EAlBnB,EA2BmBC,EA3BnB,EA0CmBC,EA1CnB,EAiDmBC,EAjDnB,EAwDmBC,EAxDnB,EA+DmBC,EA/DnB,EAoEmBC,EApEnB,EAyEmBC,EAzEnB,EAgFmBC,EAhFnB,EAyFmBC,EAzFnB,EA8GmBC,EA9GnB,EA8HmBC,EA9HnB,wGA8HI,8EACQhoB,EAAK8d,gBAAgB9d,EAAKonB,cACtBpnB,EAAKmnB,KAAKa,YAAchoB,EAAK+H,KAAKkgB,UAClCjoB,EAAKmnB,KAAKa,UAAYhoB,EAAK+H,KAAKkgB,QAChCjoB,EAAKklB,cAGLllB,EAAKmnB,KAAKa,YAAchoB,EAAK+H,KAAKmgB,WAClCloB,EAAKmnB,KAAKa,UAAYhoB,EAAK+H,KAAKmgB,SAChCloB,EAAKklB,cATjB,4CA9HJ,uBA8HmB8C,EA9HnB,6EA8GI,0GAEc9B,EAASlmB,EAAK8d,gBAAgB9d,EAAKonB,cAAgBpnB,EAAK+H,KAAKogB,UAAYnoB,EAAK+H,KAAKqgB,SAFjG,SAIkB/D,EAAS4B,aAAajmB,EAAKmnB,KAAMnnB,EAAK+H,KAAK+U,SAAU9c,EAAK+H,KAAKkU,QAASiK,EAAOtpB,MAAM,MAJvG,OAGcsgB,EAHd,WAK8BA,GAL9B,IAKQ,2BAAgC,QACpBqI,QACRvlB,EAAKklB,aAPjB,oFAUQ5M,EAAMoG,SAAS,wBACfpG,EAAMoG,SAAN,MAAkB,GACZ,IAAI5d,MAAJ,MAZd,0DA9GJ,uBA8GmBinB,EA9GnB,6EAyFI,mGAEwD,IAA5C/nB,EAAK8d,gBAAgB9d,EAAKonB,cAFtC,uBAGkBiB,EAAe,IAAIrQ,EAAShY,EAAKmnB,KAAMnnB,EAAK+H,KAAKugB,GAAG1rB,MAAM,MAH5E,SAIiCyrB,EAAa9B,eAAevmB,EAAK+H,KAAKkU,QAAUjc,EAAK+H,KAAKkU,QAAU,KAJrG,cAMmBsJ,QANnB,8BAQkB8C,EAAe,IAAIrQ,EAAShY,EAAKmnB,KAAMnnB,EAAK+H,KAAKwgB,IAAI3rB,MAAM,MAR7E,UASkCyrB,EAAa9B,eAAevmB,EAAK+H,KAAKkU,QAAUjc,EAAK+H,KAAKkU,QAAU,KATtG,eAWoBsJ,QAXpB,QAaQvlB,EAAKklB,aAbb,wDAeQ5M,EAAMoG,SAAS,mBACfpG,EAAMoG,SAAN,MAAkB,GACZ,IAAI5d,MAAJ,MAjBd,2DAzFJ,uBAyFmBgnB,EAzFnB,6EAgFI,+EACoD,IAA5C9nB,EAAK8d,gBAAgB9d,EAAKonB,cAC1BpnB,EAAKmnB,KAAKqB,cAAgBxoB,EAAK+H,KAAK0gB,QAEpCzoB,EAAKmnB,KAAKqB,cAAgBxoB,EAAK+H,KAAK2gB,SAExC1oB,EAAKklB,aANT,4CAhFJ,uBAgFmB2C,EAhFnB,6EAyEI,+EACmD,IAA3C7nB,EAAK8d,gBAAgB9d,EAAK2oB,eAC1B3oB,EAAKmnB,KAAK5B,QACVvlB,EAAKklB,cAHb,4CAzEJ,uBAyEmB0C,EAzEnB,6EAoEI,8EACI5nB,EAAKmnB,KAAK5B,QACVvlB,EAAKklB,aAFT,4CApEJ,uBAoEmByC,EApEnB,6EA+DI,8EACI3nB,EAAKmnB,KAAKnnB,EAAK+H,KAAKwV,UAAY,EAChCvd,EAAKklB,aAFT,4CA/DJ,uBA+DmBwC,EA/DnB,6EAwDI,8EACQ1nB,EAAKmnB,KAAKyB,UAAY5oB,EAAK8d,gBAAgB9d,EAAKonB,gBAChDpnB,EAAKmnB,KAAK5B,QACVvlB,EAAKklB,cAHb,4CAxDJ,uBAwDmBuC,EAxDnB,6EAiDI,8EACQznB,EAAKmnB,KAAK0B,aAAa,kBAAoB7oB,EAAK8d,gBAAgB9d,EAAKonB,cAAc7P,aACnFvX,EAAKmnB,KAAK5B,QACVvlB,EAAKklB,cAHb,4CAjDJ,uBAiDmBsC,EAjDnB,6EA0CI,8EACQxnB,EAAKmnB,KAAKyB,UAAY5oB,EAAK8d,gBAAgB9d,EAAKonB,gBAChDpnB,EAAKmnB,KAAKR,cAAc,IAAIC,MAAM,UAClC5mB,EAAKklB,cAHb,4CA1CJ,uBA0CmBqC,EA1CnB,6EA2BI,8EACkD,MAA1CvnB,EAAKmnB,KAAK0B,aAAa,gBACnB7oB,EAAK8d,gBAAgB9d,EAAKonB,gBAC1BpnB,EAAKmnB,KAAK5B,QACVvlB,EAAKklB,cAIJllB,EAAK8d,gBAAgB9d,EAAKonB,gBAC3BpnB,EAAKmnB,KAAK5B,QACVvlB,EAAKklB,cAVjB,4CA3BJ,uBA2BmBoC,EA3BnB,6EAkBI,8EACgE,YAAtCtnB,EAAKmnB,KAAK0B,aAAa,aAEvB7oB,EAAK8d,gBAAgB9d,EAAKonB,gBAC5CpnB,EAAKmnB,KAAK5B,QACVvlB,EAAKklB,cALb,4CAlBJ,uBAkBmBmC,EAlBnB,2CACUrnB,EAAOmC,KADjB,OAIS8kB,GAA4BI,GAJrC,IAKSJ,GAA2BK,GALpC,IAMSL,GAAkCM,GAN3C,IAOSN,GAA2BO,GAPpC,IAQSP,GAAwBQ,GARjC,IASSR,GAA8BS,GATvC,IAUST,GAA2BU,GAVpC,IAWSV,GAA+BW,GAXxC,IAYSX,GAAsBY,GAZ/B,IAaSZ,GAAqBa,GAb9B,IAcSb,GAAyBc,GAdlC,IAeSd,GAAyBe,GAZxBc,EAHV,EA4IIxQ,EAAMoG,SAAS,0BACfpG,EAAMoG,SAAS1e,EAAK+H,MAAM,IACtB+gB,EAAa9oB,EAAK+H,KAAKghB,aA9I/B,4CAgJkBD,EAAa9oB,EAAK+H,KAAKghB,eAhJzC,iCAiJmB/oB,GAjJnB,yCAmJYsY,EAAMoG,SAAS,2BACfpG,EAAMoG,SAAN,MACM,IAAI5d,MAAJ,MArJlB,2DATJ,6DCdMkoB,GACc,kBADdA,GAEU,cAFVA,GAGe,mBAHfA,GAIU,eAJVA,GAKS,cAGFC,GAAb,WACI,WAAYlC,EAAO9B,EAAYnH,GAAkB,UAC7C3b,KAAK4kB,MAAQA,EACb5kB,KAAK+mB,WAAajE,EAClB9iB,KAAK2b,gBAAkBA,EAEvB3b,KAAK+iB,WAAa,EAClB/iB,KAAKilB,aAAe,GACpBjlB,KAAKgnB,SAAW,GARxB,gCAWI,SAAOC,GACHjnB,KAAK+iB,YAAckE,EAAelE,YAAc,IAZxD,6DAeI,4FACuB/iB,KAAK4kB,OAD5B,+DACehf,EADf,iBAEc5F,KAAKknB,kBAAkBthB,GAFrC,sKAIW5F,MAJX,gEAfJ,kHAsBI,WAAwB4F,GAAxB,UAWmBuhB,EAXnB,EAsBmBC,EAtBnB,EAqCmBC,EArCnB,EAsDmBC,EAtDnB,EA2DmBC,EA3DnB,wGA2DI,qFACI1pB,EAAKkpB,WAAalpB,EAAKkpB,WAAW1T,SAAS,GAD/C,+DA3DJ,uBA2DmBkU,EA3DnB,6EAsDI,qFACI1pB,EAAKkpB,WAAalpB,EAAKkpB,WAAW9C,cADtC,+DAtDJ,uBAsDmBqD,EAtDnB,6EAqCI,mGAC8B,aAAtBzpB,EAAKonB,aADb,sBAEYpnB,EAAKmpB,UAAYnpB,EAAKmpB,SAASzsB,OAAS,GAFpD,qBAG+BsD,EAAKmpB,UAHpC,gEAGuBhC,EAHvB,QAIsBwC,EAAU,IAAIzC,GAAQC,EAAMpf,EAAM/H,EAAKonB,aAAcpnB,EAAK8d,iBAJhF,UAK6C6L,EAAQC,iBALrD,QAKsBR,EALtB,OAMgBppB,EAAK6pB,OAAOT,GAN5B,8KASkBO,EAAU,IAAIzC,GAAQlnB,EAAKkpB,WAAYnhB,EAAM/H,EAAKonB,aAAcpnB,EAAK8d,iBATvF,UAUyC6L,EAAQC,iBAVjD,QAUkBR,EAVlB,OAWYppB,EAAK6pB,OAAOT,GAXxB,mGArCJ,uBAqCmBI,EArCnB,6EAsBI,sGAEQlR,EAAMoG,SAAS,iBACfpG,EAAMoG,SAAS1e,EAAKkpB,YAAY,GAC1BY,EAAmB,IAAI9R,EAAShY,EAAKkpB,WAAYnhB,EAAK+U,SAASlgB,MAAM,MAJnF,SAK8BktB,EAAiB9D,gBAAgBje,EAAKkU,QAAUlU,EAAKkU,QAAU,KAL7F,cAKc8N,EALd,OAMQ/pB,EAAKmpB,SAAWY,EANxB,2DASQzR,EAAMoG,SAAS,uBACfpG,EAAMoG,SAAN,MACM,IAAI5d,MAAJ,MAXd,2DAtBJ,uBAsBmByoB,EAtBnB,6EAWI,oFAC0B,cAAlBxhB,EAAKwV,SACLvd,EAAKonB,aAAe9O,EAAM0R,cAAclO,GAAa9b,EAAKkpB,WAAWzE,WAC5C,SAAlB1c,EAAKwV,SACZvd,EAAKonB,aAAe9O,EAAM0R,cAAclO,GAAa9b,EAAKkpB,WAAWnrB,MAC5C,QAAlBgK,EAAKwV,WACZvd,EAAKonB,aAAe9O,EAAM0R,cAAclO,GAAa9b,EAAKkpB,WAAWL,aAAa,SAN1F,+DAXJ,uBAWmBS,EAXnB,2CACUtpB,EAAOmC,KADjB,OAIS6mB,GAAiCM,GAJ1C,IAKSN,GAA6BO,GALtC,IAMSP,GAAkCQ,GAN3C,IAOSR,GAA6BS,GAPtC,IAQST,GAA4BU,GAL3B3C,EAHV,EAgEIzO,EAAMoG,SAAS,0BAA4B3W,EAAKpG,OAC5ColB,EAAMhf,EAAKpG,MAjEnB,kCAkEcolB,EAAMhf,EAAKpG,QAlEzB,mFAtBJ,8DCTMsoB,GACS,aADTA,GAEe,mBAFfA,GAGa,SAHbA,GAIY,gBAJZA,GAKW,eAGXC,GACe,mBADfA,GAEiB,qBAFjBA,GAGkB,sBAHlBA,GAIW,eAGJC,GAAb,WACI,WAAY/K,EAAQtB,EAAiBmH,EAAYE,GAAc,UAC3DhjB,KAAKid,OAASA,EACdjd,KAAK2b,gBAAkBA,EACvB3b,KAAK8iB,WAAaA,EAClB9iB,KAAKgjB,YAAcA,EACnBhjB,KAAK+iB,WAAa,EAClB/iB,KAAKijB,iBAAkB,EACvBjjB,KAAKioB,QAAU,GARvB,sCAWI,WACI,OAAQjoB,KAAK2b,gBAAgBuM,MAAK,SAAA3X,GAAC,OAAU,IAANA,OAZ/C,oBAeI,SAAO4X,GACHnoB,KAAK8iB,WAAaqF,EAAYrF,YAAc9iB,KAAK8iB,WACjD9iB,KAAKgjB,YAAcmF,EAAYnF,aAAe,KAC9ChjB,KAAK+iB,YAAcoF,EAAYpF,YAAc,EAC7C/iB,KAAKijB,gBAAkBkF,EAAYlF,kBAAmB,IAnB9D,wDAsBI,uBAWmBmF,EAXnB,EAmBmBC,EAnBnB,EAgCmBC,EAhCnB,EA2CmBC,EA3CnB,EAsDmBC,EAtDnB,EAiEmBC,EAjEnB,EAgFmBC,EAhFnB,wGAgFI,8FACUN,IADV,4CAhFJ,uBAgFmBM,EAhFnB,6EAiEI,8FACUC,EAAc9qB,EAAKilB,WAD7B,IAEuBjlB,EAAKmlB,aAF5B,gEAEegC,EAFf,iBAIkB+B,EAAa,IAAID,GAAWjpB,EAAKof,OAAO2H,MAAOI,EAAMnnB,EAAK8d,iBAJ5E,UAKkCoL,EAAW6B,qBAL7C,QAKkBhB,EALlB,OAMY/pB,EAAK6pB,OAAOE,GANxB,kDAQYzR,EAAMoG,SAAS,wCACfpG,EAAMoG,SAASyI,GAAM,GATjC,+IAYInnB,EAAKilB,WAAa6F,EAZtB,wEAjEJ,uBAiEmBF,EAjEnB,6EAsDI,uGAEcL,IAFd,OAGQvqB,EAAKoqB,QAAUF,GACflqB,EAAKolB,iBAAkB,EAJ/B,gDAMQ9M,EAAMoG,SAAS,0BACfpG,EAAMoG,SAAN,MAAkB,GAP1B,0DAtDJ,uBAsDmBiM,EAtDnB,6EA2CI,uGAEcJ,IAFd,OAGQvqB,EAAKoqB,QAAUF,GACflqB,EAAKolB,iBAAkB,EAJ/B,gDAMQ9M,EAAMoG,SAAS,2BACfpG,EAAMoG,SAAN,MAAkB,GAP1B,0DA3CJ,uBA2CmBgM,EA3CnB,6EAgCI,uGAEcH,IAFd,OAGQvqB,EAAKoqB,QAAUF,GACflqB,EAAKolB,iBAAkB,EAJ/B,gDAMQ9M,EAAMoG,SAAS,6BACfpG,EAAMoG,SAAN,MAAkB,GAP1B,0DAhCJ,uBAgCmB+L,EAhCnB,6EAmBI,kFACQzqB,EAAKgrB,eADb,0CAGkBT,IAHlB,OAIYvqB,EAAKoqB,QAAUF,GACflqB,EAAKolB,iBAAkB,EALnC,gDAOY9M,EAAMoG,SAAS,uBACfpG,EAAMoG,SAAN,MAAkB,GAR9B,0DAnBJ,uBAmBmB8L,EAnBnB,6EAWI,gGACoBxqB,EAAKof,OAAO2H,OADhC,gEACe/T,EADf,QAEcjL,EAAO,IAAIid,GAAKhS,EAAGhT,EAAK8d,gBAAiB9d,EAAKilB,YAF5D,SAGkCld,EAAKkjB,cAHvC,OAGcX,EAHd,OAIQtqB,EAAK6pB,OAAOS,GAJpB,wMAXJ,uBAWmBC,EAXnB,2CACUvqB,EAAOmC,KADjB,OAIS8nB,GAAoBO,GAJ7B,IAKSP,GAA0BQ,GALnC,IAMSR,GAAwBS,GANjC,IAOST,GAAuBU,GAPhC,IAQSV,GAAsBW,GALrBM,EAHV,EAoFI5S,EAAMoG,SAAS,kBAAoB1e,EAAKof,OAAOrhB,OAC3CmtB,EAAQlrB,EAAKof,OAAOrhB,MArF5B,kCAsFcmtB,EAAQlrB,EAAKof,OAAOrhB,QAtFlC,yCA0FeiC,GA1Ff,yBAyFc6qB,IAzFd,iDAtBJ,6DChBaM,GAAb,WAEI,WAAYrN,EAAiBoN,GAAU,UACnC/oB,KAAK2b,gBAAkBA,EACvB3b,KAAK+oB,QAAUA,EACf/oB,KAAK8iB,WAAa9H,SAClBhb,KAAKgjB,YAAc,KACnBhjB,KAAKioB,QAAU,GACfjoB,KAAK+iB,WAAa,EAR1B,sCAWI,WACI,OAAQ/iB,KAAK2b,gBAAgBuM,MAAK,SAAA3X,GAAC,OAAU,IAANA,OAZ/C,oBAeI,SAAO0Y,GACHjpB,KAAKioB,QAAUgB,EAAchB,SAAW,GACxCjoB,KAAK+iB,YAAckG,EAAclG,WACjC/iB,KAAKgjB,YAAciG,EAAcjG,YACjChjB,KAAK8iB,WAAamG,EAAcnG,YAAc9iB,KAAK8iB,aAnB3D,kDAsBI,qBAAAxa,EAAA,yEACoBtI,KAAK+oB,SADzB,gEACezgB,EADf,iBAGkB2U,EAAS,IAAI+K,GAAO1f,EAAGtI,KAAK2b,gBAAiB3b,KAAK8iB,WAAY9iB,KAAKgjB,aAHrF,SAIwC/F,EAAOiM,gBAJ/C,UAIkBD,EAJlB,OAKYjpB,KAAK0nB,OAAOuB,IAE0B,IAAlCA,EAAchG,gBAP9B,wBAQgB9M,EAAMoG,SAAS,gCAR/B,+EAaYpG,EAAMoG,SAAS,wBAA0BjU,EAAE1M,MAC3Cua,EAAMoG,SAAN,MAAkB,GAd9B,sJAkBIpG,EAAMoG,SAAS,oBACfpG,EAAMoG,SAASvc,MAAM,GAnBzB,kBAoBW,CACHmpB,YAAanpB,KAAK+iB,WAClBkF,QAASjoB,KAAKioB,UAtBtB,uEAtBJ,6DCHamB,GACO,kBADPA,GAEK,gBAFLA,GAGM,iBAGNC,GAAb,GACI,WAAYpB,GAAU,UAClBjoB,KAAKioB,QAAUA,KCAVqB,GAAb,6BAAaA,GAEFC,IAAAA,WAAAA,IAAAA,EAAAA,EAAAA,IAAAA,MAAM,WAAOR,EAASS,EAAO3jB,EAAUwV,GAAjC,2FACa,IAAI2B,EAAQS,EAAyBe,oBAAoBiL,cADtE,cACH7B,EADG,OAEHjM,EAAkBiM,EAAQhT,QAAQD,QAAQgH,gBAE5CN,EAASO,YACTzF,EAAM0F,eAAeF,EAAiBN,GAGpCqO,EAAc,IAAIV,GAAYrN,EAAiBoN,GAR5C,kBAUF,IAAI9lB,SAAS,SAACtC,EAASC,GAC1BwY,YAAY,WACRsQ,EAAYC,UACX5oB,KADD,6BACM,WAAOob,GAAP,wEACFA,EAAiBtW,SAAWA,EAD1B,SAEI,IAAImX,EAAQS,EAAaa,uBAAwB,CAAEkL,MAAAA,EAAOrN,iBAAAA,IAAoBsN,cAFlF,OAGF9oB,IAHE,2CADN,uDAMCipB,OAAM,SAAC1W,GACJiD,EAAMoG,SAASrJ,GAAG,GAClBtS,EAAOsS,QAEZmI,EAASwJ,MAAQxJ,EAASwJ,MAAQ,OAtBhC,oGAAN0E,GAFED,GA4BFO,UAAAA,WAAAA,IAAAA,EAAAA,EAAAA,IAAAA,MAAY,WAAOC,EAAYjkB,EAAU2jB,EAAOO,GAApC,oGAMD,IAAI/M,EAAQS,EAAkBO,gBAAiB,CAAE3C,SAAUyO,IAAcL,cANxE,UAKL5oB,EALK,SAQXwa,EAAWxa,EAAO+T,QAAQD,QAAQ0G,YAElBA,EAAS0N,QAVd,oBAWP1N,EAAS2O,MAAO,EAChBjB,EAAU1N,EAAS0N,SAGfgB,EAfG,kCA5BVT,GA4CkBC,IAAIR,EAASS,EAAO3jB,EAAUwV,GAhBtC,yBAiBG,IAAI2B,EAAQS,EAAqBsB,iBAAkB,IAAK0K,cAjB3D,iCAmBI,IAAIJ,GAAUD,KAnBlB,eAqBHjT,EAAMoG,SAAS,mBArBZ,kBAsBI,IAAI8M,GAAUD,KAtBlB,yDAyBA,IAAIC,GAAUD,KAzBd,iEA4BXjT,EAAMoG,SAAS,yBA5BJ,kBA6BJ,IAAI8M,GAAUD,KA7BV,mHAAZS,GA5BEP,GA6DFW,gBAAAA,WAAAA,IAAAA,EAAAA,EAAAA,IAAAA,MAAkB,WAAOpkB,EAAU2jB,EAAO9M,EAAeqN,GAAvC,mGACK,IAAI/M,EAAQS,EAAkBM,sBAAsB0L,cADzD,cACX7B,EADW,OAEbnL,EAAoBmL,EAAQhT,QAAQD,QAAQ8H,kBAF/B,SAGItG,EAAMqG,aAAaC,EAAmBC,GAH1C,UAGbrB,EAHa,OAIb6O,GAAe,EAGH,MAAZ7O,EAPa,wBAQblF,EAAMoG,SAAS,mBAAqBY,KAAK7gB,UAAU+e,IARtC,UAUPlF,EAAM0O,MAAMxJ,EAASwJ,MAAQxJ,EAASwJ,MAAQ,GAVvC,WAaR1O,EAAMgU,SAAS9O,GAbP,+BAeD0O,EAfC,kCA7DhBT,GA6E0Bc,qBAAqBZ,EAAO3jB,EAAUwV,GAhBhD,QAiBD6O,GAAe,EAjBd,iDAmBM,IAAIb,GAAUD,KAnBpB,2DAsBLjT,EAAMoG,SAAS,yCAtBV,gCAyBTpG,EAAMoG,SAAS,4CAzBN,QA6BbE,EAAoBA,EAAkBsH,QAAO,SAAAxT,GAAC,OAAIA,EAAE0J,WAAaoB,EAASpB,YA7B7D,yBAiCc9D,EAAMyG,sBAAsBH,GAjC1C,WAiCX4N,EAjCW,SAqCS,QAHpBC,EAAoBD,EAAiBtG,QAAO,SAAAxT,GAAC,OAAS,MAALA,OAGrB+Z,EAAkB/vB,OAAS,GArC5C,qBAsCTwvB,EAtCS,kCAuCiB9mB,QAAQoT,IAC9BiU,EAAkBvuB,KAAI,SAAAsf,GAAQ,OArGzCiO,GAqGkDc,qBAAqBZ,EAAO3jB,EAAUwV,OAxCxE,QAuCTkP,EAvCS,sCA2CTpU,EAAMoG,SAAS,mBA3CN,kBA4CF,IAAI8M,GAAUD,KA5CZ,aAgDEc,GAAgBK,EAAkBrC,MAAK,SAAArnB,GAAM,OAAe,IAAXA,MAhDnD,kCAmDP,IAAImc,EAAQS,EAAqBsB,iBAAkB,IAAK0K,cAnDjD,iCAoDN,IAAIJ,GAAUD,KApDR,iCAsDN,IAAIC,GAAUD,KAtDR,oHAAlBa,GA7DEX,GAuHFc,qBAAAA,WAAAA,IAAAA,EAAAA,EAAAA,IAAAA,MAAuB,WAAOZ,EAAO3jB,EAAU2kB,GAAxB,kFAC1BrU,EAAMoG,SAAS,eAAiBY,KAAK7gB,UAAUkuB,IADrB,kBAIZ,IAAIxN,EAAQS,EAAkBO,gBAAiB,CAAE3C,SAAUmP,EAAc5uB,OAAQ6tB,cAJrE,cAGhB7B,EAHgB,OAKtBzR,EAAMoG,SAAS,+BACfpG,EAAMoG,SAASqL,GAAS,GAClBvM,EAAWuM,EAAQhT,QAAQD,QAAQ0G,SACrC0N,EAAU1N,EAAS0N,QARD,UAvHrBO,GAiIUC,IAAIR,EAASS,EAAO3jB,EAAUwV,GAVnB,kCAWf,GAXe,yCAatBlF,EAAMoG,SAAS,8BAbO,mBAcf,GAde,iHAAvB6N,GC3HJ,IAAMK,GAAb,+GACI,WAA+BjB,EAAO3jB,GAAtC,gGAE8B,IAAImX,EAAQS,EAAaU,YAAa,CAAEqL,MAAAA,EAAO3jB,SAAAA,IAAY4jB,cAFzF,cAEc7B,EAFd,yBAGeA,GAHf,wHADJ,uHAUI,WAAiC4B,EAAO3jB,GAAxC,gGAE8B,IAAImX,EAAQS,EAAaW,iBAAkB,CAAEoL,MAAAA,EAAO3jB,SAAAA,IAAY4jB,cAF9F,cAEc7B,EAFd,yBAGeA,GAHf,wHAVJ,8HAmBI,oGAEQzR,EAAMoG,SAAS,mBAFvB,SAG8B,IAAIS,EAAQS,EAAiBC,sBAAsB+L,cAHjF,cAGc7B,EAHd,OAIQzR,EAAMoG,SAAS,iCAJvB,kBAKeqL,GALf,uCAOQzR,EAAMoG,SAAS,qCAPvB,iFAnBJ,6DCSMtD,GAAsC,wBAAhCC,EAAAA,kBAAwD,MAAQ,OAEtEwR,GAAQ,6BAAG,WAAOhlB,GAAP,yFACS,IAAIsX,EAAQS,EAAaQ,cAAe,CAAEvY,IAAAA,IAAO+jB,cAD1D,UACP7B,EADO,SAEP+C,EAAM/C,EAAQhT,QAAQD,QAAQgW,KAFvB,yCAKFA,EAAInY,IALF,gCAOF,MAPE,2CAAH,sDAWRoY,GAAI,6BAAG,+FACTzU,EAAMoG,SAAS,QACfyC,EAAU6L,QAEV1U,EAAMoG,SAAS,wBAEX7S,SAAWA,OAAO4P,IANb,wBAOLnD,EAAMoG,SAAS,mBAPV,kBASKkO,GAAcK,6BATnB,yDAWD3U,EAAMoG,SAAS,mBAXd,eAaLpG,EAAMoG,SAAS,mCAEXwO,EAAarhB,OAAO0V,SAAS5R,KAC7B3H,EAAW6D,OAAO0V,SAASvZ,SAhB1B,UAkBe6kB,GAASK,GAlBxB,eAkBCvB,EAlBD,OAoBLrT,EAAMoG,SAAS,UAAYiN,GApBtB,oBAwBS,IAAIxM,EAAQS,EAAaY,oBAAqB,CAAEmL,MAAAA,IAASC,cAxBlE,WAuBK7B,EAvBL,OA0BKoD,EAA0BpD,EAAQhT,QAAQD,QAAQwH,kBAEpDhG,EAAM8U,iBAAiBD,EAAyB,EAAGnlB,GA5BtD,kCA6BS4kB,GAAcS,kBAAkB1B,EAAO3jB,GA7BhD,kCA8BU,GA9BV,2DAiCDsQ,EAAMoG,SAAS,yBAjCd,eAoCLpG,EAAMoG,SAAS,cApCV,UAsCC,IAAIS,EAAQS,EAAac,sBAAuB,CAAEiL,MAAAA,IAASC,cAtC5D,yBAuCC,IAAIzM,EAAQS,EAAiBG,oBAAoB6L,cAvClD,eAyCY,4BAAb5jB,GACgB,wBAAbA,GAC8B,cAA7B6D,OAAO0V,SAASvZ,UAAoC,QAARoT,KAChDiI,EAAWQ,mBAGfvL,EAAMoG,SAAS,0BA/CV,mBAgDE,GAhDF,eAmDTpG,EAAMoG,SAAS,0BAnDN,mBAoDF,GApDE,kEAAH,qDA6DJ4O,GAAc,6BAAG,sGAET,IAAInO,EAAQS,EAAqBqB,mBAAoB,IAAK2K,cAFjD,cACb2B,EADa,OAIbC,EAAaD,EAAkBxW,QAAQD,QAAQ2W,eAJlC,kBAKZD,GALY,2CAAH,qDAQdE,GAAY,6BAAG,2GACjBpV,EAAMoG,SAAS,uBADE,SAGMyC,EAAUM,gBAHhB,UAKC,OAFdyL,EAHa,+BAMb5U,EAAMoG,SAAS,oCANF,iCAUb1W,EAAWsQ,EAAMqV,eAAeT,GAChCjB,EAAa3T,EAAMsV,iBAAiBV,GAXvB,UAaP,IAAI/N,EAAQS,EAAmBmB,kBAAmB,CAAE/Y,SAAUikB,IAAcL,cAbrE,WAYbiC,EAZa,OAcbC,EAAYD,EAAiB9W,QAAQD,QAAQgX,UAEjDxV,EAAMoG,SAAS,sBACfpG,EAAMoG,SAAS,aAAe1W,IAE1B8lB,EAnBa,wBAoBbxV,EAAMoG,SAAS,oCApBF,kCAwBbG,EAAgB,IAxBH,UAyBGgO,GAASK,GAzBZ,eAyBXvB,EAzBW,OA2BjBrT,EAAMoG,SAAS,UAAYiN,GACvBoC,EAAY,IAAIvC,GAAUD,IA5Bb,oBA+BY+B,KA/BZ,WA+BPpB,EA/BO,OAgCTrgB,SAAWA,OAAO4P,IAhCT,kCAkCSgQ,GAAIO,UAAUC,EAAYjkB,EAAU2jB,EAAOO,GAlCpD,YAkCT6B,EAlCS,QAoCK3D,UAAYmB,GApCjB,kCAqCaE,GAAIW,gBAAgBpkB,EAAU2jB,EAAO9M,EAAeqN,GArCjE,SAqCL6B,EArCK,QAsCS3D,UAAYmB,IACtBjT,EAAMoG,SAAS,4BAvCd,wBA0CLpG,EAAMoG,SAAS,oCA1CV,iDA6CS+M,GAAIW,gBAAgBpkB,EAAU2jB,EAAO9M,EAAeqN,GA7C7D,QA6CT6B,EA7CS,kBAiDTA,EAAU3D,UAAYmB,IAA0B1f,SAAWA,OAAO4P,IAjDzD,kCAkDHmR,GAAcoB,oBAAoBrC,EAAO3jB,GAlDtC,6CAsDT+lB,EAAU3D,UAAYmB,GAtDb,wBAuDTjT,EAAMoG,SAAS,2CAA6CpF,QAvDnD,UAwDHsT,GAAcS,kBAAkB1B,EAAO3jB,GAxDpC,2DA2DbsQ,EAAMoG,SAAS,4BAAf,MA3Da,2DAAH,qDAiEHuP,SAAAA,KAAf,OAAeA,GAAAA,EAAAA,IAAAA,MAAf,8FAC4BlB,KAD5B,kDAGcW,KAHd,kEAFApV,EAAMoG,SAAS,2BAAf,WAEeuP,GAAAA,MAAAA,KAAAA,WAOfA","sources":["../node_modules/@babel/runtime/regenerator/index.js","../node_modules/querystring/decode.js","../node_modules/querystring/encode.js","../node_modules/querystring/index.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/tldjs/index.js","../node_modules/tldjs/lib/clean-host.js","../node_modules/tldjs/lib/domain.js","../node_modules/tldjs/lib/from-host.js","../node_modules/tldjs/lib/is-ip.js","../node_modules/tldjs/lib/is-valid.js","../node_modules/tldjs/lib/public-suffix.js","../node_modules/tldjs/lib/subdomain.js","../node_modules/tldjs/lib/suffix-trie.js","../node_modules/tldjs/lib/tld-exists.js","../node_modules/url/node_modules/punycode/punycode.js","../node_modules/url/url.js","../node_modules/url/util.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/node module decorator","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","shared/Response.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@aws-amplify/core/src/Logger/ConsoleLogger.ts","Tools/Detector.js","../node_modules/@aws-amplify/core/src/Util/Constants.ts","Config/aws-exports.js","Tools/Tools.js","shared/Request.js","../node_modules/uuid/dist/esm-browser/rng.js","shared/Messages.js","Content/URLHelper.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/v4.js","Content/Comm.js","Content/AuthHelper.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","Content/RulesEngine/Errors.js","Content/RulesEngine/DomTools.js","Content/RulesEngine/Step.js","Tools/FilterWords.js","Content/RulesEngine/Consent.js","Content/RulesEngine/CookieItem.js","Content/RulesEngine/Action.js","Content/RulesEngine/RulesEngine.js","Content/RunStatus.js","Content/Run.js","Content/Notifications.js","Content/content.js"],"sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","'use strict';\n\n\n// Load rules\nvar Trie = require('./lib/suffix-trie.js');\nvar allRules = Trie.fromJson(require('./rules.json'));\n\n// Internals\nvar extractHostname = require('./lib/clean-host.js');\nvar getDomain = require('./lib/domain.js');\nvar getPublicSuffix = require('./lib/public-suffix.js');\nvar getSubdomain = require('./lib/subdomain.js');\nvar isValid = require('./lib/is-valid.js');\nvar isIp = require('./lib/is-ip.js');\nvar tldExists = require('./lib/tld-exists.js');\n\n\n// Flags representing steps in the `parse` function. They are used to implement\n// a early stop mechanism (simulating some form of laziness) to avoid doing more\n// work than necessary to perform a given action (e.g.: we don't need to extract\n// the domain and subdomain if we are only interested in public suffix).\nvar TLD_EXISTS = 1;\nvar PUBLIC_SUFFIX = 2;\nvar DOMAIN = 3;\nvar SUB_DOMAIN = 4;\nvar ALL = 5;\n\n\n/**\n * Creates a new instance of tldjs\n * @param  {Object.<rules,validHosts>} options [description]\n * @return {tldjs|Object}                      [description]\n */\nfunction factory(options) {\n  var rules = options.rules || allRules || {};\n  var validHosts = options.validHosts || [];\n  var _extractHostname = options.extractHostname || extractHostname;\n\n  /**\n   * Process a given url and extract all information. This is a higher level API\n   * around private functions of `tld.js`. It allows to remove duplication (only\n   * extract hostname from url once for all operations) and implement some early\n   * termination mechanism to not pay the price of what we don't need (this\n   * simulates laziness at a lower cost).\n   *\n   * @param {string} url\n   * @param {number|undefined} _step - where should we stop processing\n   * @return {object}\n   */\n  function parse(url, _step) {\n    var step = _step || ALL;\n    var result = {\n      hostname: _extractHostname(url),\n      isValid: null,\n      isIp: null,\n      tldExists: false,\n      publicSuffix: null,\n      domain: null,\n      subdomain: null,\n    };\n\n    if (result.hostname === null) {\n      result.isIp = false;\n      result.isValid = false;\n      return result;\n    }\n\n    // Check if `hostname` is a valid ip address\n    result.isIp = isIp(result.hostname);\n    if (result.isIp) {\n      result.isValid = true;\n      return result;\n    }\n\n    // Check if `hostname` is valid\n    result.isValid = isValid(result.hostname);\n    if (result.isValid === false) return result;\n\n    // Check if tld exists\n    if (step === ALL || step === TLD_EXISTS) {\n      result.tldExists = tldExists(rules, result.hostname);\n    }\n    if (step === TLD_EXISTS) return result;\n\n    // Extract public suffix\n    result.publicSuffix = getPublicSuffix(rules, result.hostname);\n    if (step === PUBLIC_SUFFIX) return result;\n\n    // Extract domain\n    result.domain = getDomain(validHosts, result.publicSuffix, result.hostname);\n    if (step === DOMAIN) return result;\n\n    // Extract subdomain\n    result.subdomain = getSubdomain(result.hostname, result.domain);\n\n    return result;\n  }\n\n\n  return {\n    extractHostname: _extractHostname,\n    isValid: isValid,\n    parse: parse,\n    tldExists: function (url) {\n      return parse(url, TLD_EXISTS).tldExists;\n    },\n    getPublicSuffix: function (url) {\n      return parse(url, PUBLIC_SUFFIX).publicSuffix;\n    },\n    getDomain: function (url) {\n      return parse(url, DOMAIN).domain;\n    },\n    getSubdomain: function (url) {\n      return parse(url, SUB_DOMAIN).subdomain;\n    },\n    fromUserSettings: factory\n  };\n}\n\n\nmodule.exports = factory({});\n","\nvar URL = require('url');\nvar isValid = require('./is-valid.js');\n\n\n/**\n * Utility to cleanup the base host value. Also removes url fragments.\n *\n * Works for:\n * - hostname\n * - //hostname\n * - scheme://hostname\n * - scheme+scheme://hostname\n *\n * @param {string} value\n * @return {String}\n */\n\n// scheme      = ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\nvar hasPrefixRE = /^(([a-z][a-z0-9+.-]*)?:)?\\/\\//;\n\n\n/**\n * @see https://github.com/oncletom/tld.js/issues/95\n *\n * @param {string} value\n */\nfunction trimTrailingDots(value) {\n  if (value[value.length - 1] === '.') {\n    return value.substr(0, value.length - 1);\n  }\n  return value;\n}\n\n\n/**\n * Fast check to avoid calling `trim` when not needed.\n *\n * @param {string} value\n */\nfunction checkTrimmingNeeded(value) {\n  return (\n    value.length > 0 && (\n      value.charCodeAt(0) <= 32 ||\n      value.charCodeAt(value.length - 1) <= 32\n    )\n  );\n}\n\n\n/**\n * Fast check to avoid calling `toLowerCase` when not needed.\n *\n * @param {string} value\n */\nfunction checkLowerCaseNeeded(value) {\n  for (var i = 0; i < value.length; i += 1) {\n    var code = value.charCodeAt(i);\n    if (code >= 65 && code <= 90) { // [A-Z]\n      return true;\n    }\n  }\n\n  return false;\n}\n\n\nmodule.exports = function extractHostname(value) {\n  // First check if `value` is already a valid hostname.\n  if (isValid(value)) {\n    return trimTrailingDots(value);\n  }\n\n  var url = value;\n\n  if (typeof url !== 'string') {\n    url = '' + url;\n  }\n\n  var needsTrimming = checkTrimmingNeeded(url);\n  if (needsTrimming) {\n    url = url.trim();\n  }\n\n  var needsLowerCase = checkLowerCaseNeeded(url);\n  if (needsLowerCase) {\n    url = url.toLowerCase();\n  }\n\n  // Try again after `url` has been transformed to lowercase and trimmed.\n  if ((needsLowerCase || needsTrimming) && isValid(url)) {\n    return trimTrailingDots(url);\n  }\n\n  // Proceed with heavier url parsing to extract the hostname.\n  if (!hasPrefixRE.test(url)) {\n    url = '//' + url;\n  }\n\n  var parts = URL.parse(url, null, true);\n\n  if (parts.hostname) {\n    return trimTrailingDots(parts.hostname);\n  }\n\n  return null;\n};\n","'use strict';\n\n\n/**\n * Polyfill for `endsWith`\n *\n * @param {string} str\n * @param {string} pattern\n * @return {boolean}\n */\nfunction endsWith(str, pattern) {\n  return (\n    str.lastIndexOf(pattern) === (str.length - pattern.length)\n  );\n}\n\n\n/**\n * Check if `vhost` is a valid suffix of `hostname` (top-domain)\n *\n * It means that `vhost` needs to be a suffix of `hostname` and we then need to\n * make sure that: either they are equal, or the character preceding `vhost` in\n * `hostname` is a '.' (it should not be a partial label).\n *\n * * hostname = 'not.evil.com' and vhost = 'vil.com'      => not ok\n * * hostname = 'not.evil.com' and vhost = 'evil.com'     => ok\n * * hostname = 'not.evil.com' and vhost = 'not.evil.com' => ok\n *\n * @param {string} hostname\n * @param {string} vhost\n * @return {boolean}\n */\nfunction shareSameDomainSuffix(hostname, vhost) {\n  if (endsWith(hostname, vhost)) {\n    return (\n      hostname.length === vhost.length ||\n      hostname[hostname.length - vhost.length - 1] === '.'\n    );\n  }\n\n  return false;\n}\n\n\n/**\n * Given a hostname and its public suffix, extract the general domain.\n *\n *  @param {string} hostname\n *  @param {string} publicSuffix\n *  @return {string}\n */\nfunction extractDomainWithSuffix(hostname, publicSuffix) {\n  // Locate the index of the last '.' in the part of the `hostname` preceding\n  // the public suffix.\n  //\n  // examples:\n  //   1. not.evil.co.uk  => evil.co.uk\n  //         ^    ^\n  //         |    | start of public suffix\n  //         | index of the last dot\n  //\n  //   2. example.co.uk   => example.co.uk\n  //     ^       ^\n  //     |       | start of public suffix\n  //     |\n  //     | (-1) no dot found before the public suffix\n  var publicSuffixIndex = hostname.length - publicSuffix.length - 2;\n  var lastDotBeforeSuffixIndex = hostname.lastIndexOf('.', publicSuffixIndex);\n\n  // No '.' found, then `hostname` is the general domain (no sub-domain)\n  if (lastDotBeforeSuffixIndex === -1) {\n    return hostname;\n  }\n\n  // Extract the part between the last '.'\n  return hostname.substr(lastDotBeforeSuffixIndex + 1);\n}\n\n\n/**\n * Detects the domain based on rules and upon and a host string\n *\n * @api\n * @param {string} host\n * @return {String}\n */\nmodule.exports = function getDomain(validHosts, suffix, hostname) {\n  // Check if `hostname` ends with a member of `validHosts`.\n  for (var i = 0; i < validHosts.length; i += 1) {\n    var vhost = validHosts[i];\n    if (shareSameDomainSuffix(hostname, vhost)) {\n      return vhost;\n    }\n  }\n\n  // If there is no suffix, there is no hostname\n  if (suffix === null) {\n    return null;\n  }\n\n  // If `hostname` is a valid public suffix, then there is no domain to return.\n  // Since we already know that `getPublicSuffix` returns a suffix of `hostname`\n  // there is no need to perform a string comparison and we only compare the\n  // size.\n  if (suffix.length === hostname.length) {\n    return null;\n  }\n\n  // To extract the general domain, we start by identifying the public suffix\n  // (if any), then consider the domain to be the public suffix with one added\n  // level of depth. (e.g.: if hostname is `not.evil.co.uk` and public suffix:\n  // `co.uk`, then we take one more level: `evil`, giving the final result:\n  // `evil.co.uk`).\n  return extractDomainWithSuffix(hostname, suffix);\n};\n","\"use strict\";\n\n/**\n * Utility to extract the TLD from a hostname string\n *\n * @param {string} host\n * @return {String}\n */\nmodule.exports = function extractTldFromHost(hostname) {\n  var lastDotIndex = hostname.lastIndexOf('.');\n  if (lastDotIndex === -1) {\n    return null;\n  }\n\n  return hostname.substr(lastDotIndex + 1);\n};\n","'use strict';\n\n\n/**\n * Check if a hostname is an IP. You should be aware that this only works\n * because `hostname` is already garanteed to be a valid hostname!\n *\n * @param {string} hostname\n * @return {boolean}\n */\nfunction isProbablyIpv4(hostname) {\n  var numberOfDots = 0;\n\n  for (var i = 0; i < hostname.length; i += 1) {\n    var code = hostname.charCodeAt(i);\n\n    if (code === 46) { // '.'\n      numberOfDots += 1;\n    } else if (code < 48 || code > 57) {\n      // 48 => '0'\n      // 57 => '9'\n      return false;\n    }\n  }\n\n  return (\n    numberOfDots === 3  &&\n    hostname[0] !== '.' &&\n    hostname[hostname.length - 1] !== '.'\n  );\n}\n\n\n/**\n * Similar to isProbablyIpv4.\n *\n * @param {string} hostname\n * @return {boolean}\n */\nfunction isProbablyIpv6(hostname) {\n  var hasColon = false;\n\n  for (var i = 0; i < hostname.length; i += 1) {\n    var code = hostname.charCodeAt(i);\n\n    if (code === 58) { // ':'\n      hasColon = true;\n    } else if (!(\n      (code >= 48 && code <= 57) || // 0-9\n      (code >= 97 && code <= 102)   // a-f\n    )) {\n      return false;\n    }\n  }\n\n  return hasColon;\n}\n\n\n/**\n * Check if `hostname` is *probably* a valid ip addr (either ipv6 or ipv4).\n * This *will not* work on any string. We need `hostname` to be a valid\n * hostname.\n *\n * @param {string} hostname\n * @return {boolean}\n */\nmodule.exports = function isIp(hostname) {\n  if (typeof hostname !== 'string') {\n    return false;\n  }\n\n  if (hostname.length === 0) {\n    return false;\n  }\n\n  return (isProbablyIpv6(hostname) || isProbablyIpv4(hostname));\n};\n","\"use strict\";\n\n\n/**\n * Check if the code point is a digit [0-9]\n *\n * @param {number} code\n * @return boolean\n */\nfunction isDigit(code) {\n  // 48 == '0'\n  // 57 == '9'\n  return code >= 48 && code <= 57;\n}\n\n\n/**\n * Check if the code point is a letter [a-zA-Z]\n *\n * @param {number} code\n * @return boolean\n */\nfunction isAlpha(code) {\n  // 97 === 'a'\n  // 122 == 'z'\n  return code >= 97 && code <= 122;\n}\n\n\n/**\n * Check if a hostname string is valid (according to RFC). It's usually a\n * preliminary check before trying to use getDomain or anything else.\n *\n * Beware: it does not check if the TLD exists.\n *\n * @api\n * @param {string} hostname\n * @return {boolean}\n */\nmodule.exports = function isValid(hostname) {\n  if (typeof hostname !== 'string') {\n    return false;\n  }\n\n  if (hostname.length > 255) {\n    return false;\n  }\n\n  if (hostname.length === 0) {\n    return false;\n  }\n\n  // Check first character: [a-zA-Z0-9]\n  var firstCharCode = hostname.charCodeAt(0);\n  if (!(isAlpha(firstCharCode) || isDigit(firstCharCode))) {\n    return false;\n  }\n\n  // Validate hostname according to RFC\n  var lastDotIndex = -1;\n  var lastCharCode;\n  var code;\n  var len = hostname.length;\n\n  for (var i = 0; i < len; i += 1) {\n    code = hostname.charCodeAt(i);\n\n    if (code === 46) { // '.'\n      if (\n        // Check that previous label is < 63 bytes long (64 = 63 + '.')\n        (i - lastDotIndex) > 64 ||\n        // Check that previous character was not already a '.'\n        lastCharCode === 46 ||\n        // Check that the previous label does not end with a '-'\n        lastCharCode === 45\n      ) {\n        return false;\n      }\n\n      lastDotIndex = i;\n    } else if (!(isAlpha(code) || isDigit(code) || code === 45)) {\n      // Check if there is a forbidden character in the label: [^a-zA-Z0-9-]\n      return false;\n    }\n\n    lastCharCode = code;\n  }\n\n  return (\n    // Check that last label is shorter than 63 chars\n    (len - lastDotIndex - 1) <= 63 &&\n    // Check that the last character is an allowed trailing label character.\n    // Since we already checked that the char is a valid hostname character,\n    // we only need to check that it's different from '-'.\n    lastCharCode !== 45\n  );\n};\n","'use strict';\n\n\nvar extractTldFromHost = require('./from-host.js');\n\n\n/**\n * Returns the public suffix (including exact matches)\n *\n * @api\n * @since 1.5\n * @param {string} hostname\n * @return {string}\n */\nmodule.exports = function getPublicSuffix(rules, hostname) {\n  // First check if `hostname` is already a valid top-level Domain.\n  if (rules.hasTld(hostname)) {\n    return hostname;\n  }\n\n  var candidate = rules.suffixLookup(hostname);\n  if (candidate === null) {\n    // Prevailing rule is '*' so we consider the top-level domain to be the\n    // public suffix of `hostname` (e.g.: 'example.org' => 'org').\n    return extractTldFromHost(hostname);\n  }\n\n  return candidate;\n};\n","'use strict';\n\n\n/**\n * Returns the subdomain of a hostname string\n *\n * @api\n * @param {string} hostname\n * @param {string} domain - the root domain of the hostname\n * @return {string|null} a subdomain string if any, blank string if subdomain\n *  is empty, otherwise null.\n */\nmodule.exports = function getSubdomain(hostname, domain) {\n  // No domain found? Just abort, abort!\n  if (domain === null) {\n    return null;\n  }\n\n  return hostname.substr(0, hostname.length - domain.length - 1);\n};\n","\"use strict\";\n\nvar VALID_HOSTNAME_VALUE = 0;\n\n\n/**\n * Return min(a, b), handling possible `null` values.\n *\n * @param {number|null} a\n * @param {number|null} b\n * @return {number|null}\n */\nfunction minIndex(a, b) {\n  if (a === null) {\n    return b;\n  } else if (b === null) {\n    return a;\n  }\n\n  return a < b ? a : b;\n}\n\n\n/**\n * Insert a public suffix rule in the `trie`.\n *\n * @param {object} rule\n * @param {object} trie\n * @return {object} trie (updated)\n */\nfunction insertInTrie(rule, trie) {\n  var parts = rule.parts;\n  var node = trie;\n\n  for (var i = 0; i < parts.length; i += 1) {\n    var part = parts[i];\n    var nextNode = node[part];\n    if (nextNode === undefined) {\n      nextNode = Object.create(null);\n      node[part] = nextNode;\n    }\n\n    node = nextNode;\n  }\n\n  node.$ = VALID_HOSTNAME_VALUE;\n\n  return trie;\n}\n\n\n/**\n * Recursive lookup of `parts` (starting at `index`) in the tree.\n *\n * @param {array} parts\n * @param {object} trie\n * @param {number} index - when to start in `parts` (initially: length - 1)\n * @return {number} size of the suffix found (in number of parts matched)\n */\nfunction lookupInTrie(parts, trie, index) {\n  var part;\n  var nextNode;\n  var publicSuffixIndex = null;\n\n  // We have a match!\n  if (trie.$ !== undefined) {\n    publicSuffixIndex = index + 1;\n  }\n\n  // No more `parts` to look for\n  if (index === -1) {\n    return publicSuffixIndex;\n  }\n\n  part = parts[index];\n\n  // Check branch corresponding to next part of hostname\n  nextNode = trie[part];\n  if (nextNode !== undefined) {\n    publicSuffixIndex = minIndex(\n      publicSuffixIndex,\n      lookupInTrie(parts, nextNode, index - 1)\n    );\n  }\n\n  // Check wildcard branch\n  nextNode = trie['*'];\n  if (nextNode !== undefined) {\n    publicSuffixIndex = minIndex(\n      publicSuffixIndex,\n      lookupInTrie(parts, nextNode, index - 1)\n    );\n  }\n\n  return publicSuffixIndex;\n}\n\n\n/**\n * Contains the public suffix ruleset as a Trie for efficient look-up.\n *\n * @constructor\n */\nfunction SuffixTrie(rules) {\n  this.exceptions = Object.create(null);\n  this.rules = Object.create(null);\n\n  if (rules) {\n    for (var i = 0; i < rules.length; i += 1) {\n      var rule = rules[i];\n      if (rule.exception) {\n        insertInTrie(rule, this.exceptions);\n      } else {\n        insertInTrie(rule, this.rules);\n      }\n    }\n  }\n}\n\n\n/**\n * Load the trie from JSON (as serialized by JSON.stringify).\n */\nSuffixTrie.fromJson = function (json) {\n  var trie = new SuffixTrie();\n\n  trie.exceptions = json.exceptions;\n  trie.rules = json.rules;\n\n  return trie;\n};\n\n\n/**\n * Check if `value` is a valid TLD.\n */\nSuffixTrie.prototype.hasTld = function (value) {\n  // All TLDs are at the root of the Trie.\n  return this.rules[value] !== undefined;\n};\n\n\n/**\n * Check if `hostname` has a valid public suffix in `trie`.\n *\n * @param {string} hostname\n * @return {string|null} public suffix\n */\nSuffixTrie.prototype.suffixLookup = function (hostname) {\n  var parts = hostname.split('.');\n\n  // Look for a match in rules\n  var publicSuffixIndex = lookupInTrie(\n    parts,\n    this.rules,\n    parts.length - 1\n  );\n\n  if (publicSuffixIndex === null) {\n    return null;\n  }\n\n  // Look for exceptions\n  var exceptionIndex = lookupInTrie(\n    parts,\n    this.exceptions,\n    parts.length - 1\n  );\n\n  if (exceptionIndex !== null) {\n    return parts.slice(exceptionIndex + 1).join('.');\n  }\n\n  return parts.slice(publicSuffixIndex).join('.');\n};\n\n\nmodule.exports = SuffixTrie;\n","'use strict';\n\n\nvar extractTldFromHost = require('./from-host.js');\n\n\n/**\n * Checks if the TLD exists for a given hostname\n *\n * @api\n * @param {string} rules\n * @param {string} hostname\n * @return {boolean}\n */\nmodule.exports = function tldExists(rules, hostname) {\n  // Easy case, it's a TLD\n  if (rules.hasTld(hostname)) {\n    return true;\n  }\n\n  // Popping only the TLD of the hostname\n  var hostTld = extractTldFromHost(hostname);\n  if (hostTld === null) {\n    return false;\n  }\n\n  return rules.hasTld(hostTld);\n};\n","/*! https://mths.be/punycode v1.3.2 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export const ResponseValues = {\n    Success: \"OK\",\n    Error: \"ERROR\"\n};  \n\nexport class Response {\n    constructor(status, payload) {\n        this.message = {\n            status,\n            payload\n        }\n    }\n\n    isOk() {\n        return this.message.status === ResponseValues.Success;\n    }\n\n    isError() {\n        return this.message.status === ResponseValues.Error;\n    }\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\nimport { InputLogEvent } from '@aws-sdk/client-cloudwatch-logs';\nimport { LoggingProvider } from '../types';\nimport { AWS_CLOUDWATCH_CATEGORY } from '../Util/Constants';\nimport { Logger } from './logger-interface';\n\nconst LOG_LEVELS = {\n\tVERBOSE: 1,\n\tDEBUG: 2,\n\tINFO: 3,\n\tWARN: 4,\n\tERROR: 5,\n};\n\nexport enum LOG_TYPE {\n\tDEBUG = 'DEBUG',\n\tERROR = 'ERROR',\n\tINFO = 'INFO',\n\tWARN = 'WARN',\n\tVERBOSE = 'VERBOSE',\n}\n\n/**\n * Write logs\n * @class Logger\n */\nexport class ConsoleLogger implements Logger {\n\tname: string;\n\tlevel: LOG_TYPE | string;\n\tprivate _pluggables: LoggingProvider[];\n\tprivate _config: object;\n\n\t/**\n\t * @constructor\n\t * @param {string} name - Name of the logger\n\t */\n\tconstructor(name: string, level: LOG_TYPE | string = LOG_TYPE.WARN) {\n\t\tthis.name = name;\n\t\tthis.level = level;\n\t\tthis._pluggables = [];\n\t}\n\n\tstatic LOG_LEVEL = null;\n\n\t_padding(n) {\n\t\treturn n < 10 ? '0' + n : '' + n;\n\t}\n\n\t_ts() {\n\t\tconst dt = new Date();\n\t\treturn (\n\t\t\t[this._padding(dt.getMinutes()), this._padding(dt.getSeconds())].join(\n\t\t\t\t':'\n\t\t\t) +\n\t\t\t'.' +\n\t\t\tdt.getMilliseconds()\n\t\t);\n\t}\n\n\tconfigure(config?: object) {\n\t\tif (!config) return this._config;\n\n\t\tthis._config = config;\n\n\t\treturn this._config;\n\t}\n\n\t/**\n\t * Write log\n\t * @method\n\t * @memeberof Logger\n\t * @param {LOG_TYPE|string} type - log type, default INFO\n\t * @param {string|object} msg - Logging message or object\n\t */\n\t_log(type: LOG_TYPE | string, ...msg) {\n\t\tlet logger_level_name = this.level;\n\t\tif (ConsoleLogger.LOG_LEVEL) {\n\t\t\tlogger_level_name = ConsoleLogger.LOG_LEVEL;\n\t\t}\n\t\tif (typeof (<any>window) !== 'undefined' && (<any>window).LOG_LEVEL) {\n\t\t\tlogger_level_name = (<any>window).LOG_LEVEL;\n\t\t}\n\t\tconst logger_level = LOG_LEVELS[logger_level_name];\n\t\tconst type_level = LOG_LEVELS[type];\n\t\tif (!(type_level >= logger_level)) {\n\t\t\t// Do nothing if type is not greater than or equal to logger level (handle undefined)\n\t\t\treturn;\n\t\t}\n\n\t\tlet log = console.log.bind(console);\n\t\tif (type === LOG_TYPE.ERROR && console.error) {\n\t\t\tlog = console.error.bind(console);\n\t\t}\n\t\tif (type === LOG_TYPE.WARN && console.warn) {\n\t\t\tlog = console.warn.bind(console);\n\t\t}\n\n\t\tconst prefix = `[${type}] ${this._ts()} ${this.name}`;\n\t\tlet message = '';\n\n\t\tif (msg.length === 1 && typeof msg[0] === 'string') {\n\t\t\tmessage = `${prefix} - ${msg[0]}`;\n\t\t\tlog(message);\n\t\t} else if (msg.length === 1) {\n\t\t\tmessage = `${prefix} ${msg[0]}`;\n\t\t\tlog(prefix, msg[0]);\n\t\t} else if (typeof msg[0] === 'string') {\n\t\t\tlet obj = msg.slice(1);\n\t\t\tif (obj.length === 1) {\n\t\t\t\tobj = obj[0];\n\t\t\t}\n\t\t\tmessage = `${prefix} - ${msg[0]} ${obj}`;\n\t\t\tlog(`${prefix} - ${msg[0]}`, obj);\n\t\t} else {\n\t\t\tmessage = `${prefix} ${msg}`;\n\t\t\tlog(prefix, msg);\n\t\t}\n\n\t\tfor (const plugin of this._pluggables) {\n\t\t\tconst logEvent: InputLogEvent = { message, timestamp: Date.now() };\n\t\t\tplugin.pushLogs([logEvent]);\n\t\t}\n\t}\n\n\t/**\n\t * Write General log. Default to INFO\n\t * @method\n\t * @memeberof Logger\n\t * @param {string|object} msg - Logging message or object\n\t */\n\tlog(...msg) {\n\t\tthis._log(LOG_TYPE.INFO, ...msg);\n\t}\n\n\t/**\n\t * Write INFO log\n\t * @method\n\t * @memeberof Logger\n\t * @param {string|object} msg - Logging message or object\n\t */\n\tinfo(...msg) {\n\t\tthis._log(LOG_TYPE.INFO, ...msg);\n\t}\n\n\t/**\n\t * Write WARN log\n\t * @method\n\t * @memeberof Logger\n\t * @param {string|object} msg - Logging message or object\n\t */\n\twarn(...msg) {\n\t\tthis._log(LOG_TYPE.WARN, ...msg);\n\t}\n\n\t/**\n\t * Write ERROR log\n\t * @method\n\t * @memeberof Logger\n\t * @param {string|object} msg - Logging message or object\n\t */\n\terror(...msg) {\n\t\tthis._log(LOG_TYPE.ERROR, ...msg);\n\t}\n\n\t/**\n\t * Write DEBUG log\n\t * @method\n\t * @memeberof Logger\n\t * @param {string|object} msg - Logging message or object\n\t */\n\tdebug(...msg) {\n\t\tthis._log(LOG_TYPE.DEBUG, ...msg);\n\t}\n\n\t/**\n\t * Write VERBOSE log\n\t * @method\n\t * @memeberof Logger\n\t * @param {string|object} msg - Logging message or object\n\t */\n\tverbose(...msg) {\n\t\tthis._log(LOG_TYPE.VERBOSE, ...msg);\n\t}\n\n\taddPluggable(pluggable: LoggingProvider) {\n\t\tif (pluggable && pluggable.getCategoryName() === AWS_CLOUDWATCH_CATEGORY) {\n\t\t\tthis._pluggables.push(pluggable);\n\t\t\tpluggable.configure(this._config);\n\t\t}\n\t}\n\n\tlistPluggables() {\n\t\treturn this._pluggables;\n\t}\n}\n","import { Tools } from './Tools';\n\nexport class Detector {\n\n    constructor(dom, detectors) {\n        this.dom = dom;\n        this.detectors = detectors;\n    }\n\n    // Returns the first found provider\n    detectProvider(timeoutMs) {\n        return Promise.race(\n            this.detectors.map(guess => Tools.providerExists(this.dom, guess, timeoutMs))\n        );\n    }\n\n    // Returns all found providers\n    detectProviders() {\n        return Promise.all(\n            this.detectors.map(guess => Tools.providerExists(this.dom, guess, 0))\n        );\n    }\n\n    detectSelector(timeoutMs) {\n        return Promise.race(\n            this.detectors.map(guess => Tools.elementReady(this.dom, guess, timeoutMs))\n        );\n    }\n\n    detectSelectors(timeoutMs) {\n        return Promise.race(\n            this.detectors.map(guess => Tools.elementsReady(this.dom, guess, timeoutMs))\n        );\n    }\n}","/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\n// Logging constants\nconst AWS_CLOUDWATCH_BASE_BUFFER_SIZE = 26;\nconst AWS_CLOUDWATCH_MAX_BATCH_EVENT_SIZE = 1048576;\nconst AWS_CLOUDWATCH_MAX_EVENT_SIZE = 256000;\nconst AWS_CLOUDWATCH_CATEGORY = 'Logging';\nconst AWS_CLOUDWATCH_PROVIDER_NAME = 'AWSCloudWatch';\nconst NO_CREDS_ERROR_STRING = 'No credentials';\nconst RETRY_ERROR_CODES = [\n\t'ResourceNotFoundException',\n\t'InvalidSequenceTokenException',\n];\n\nexport {\n\tAWS_CLOUDWATCH_BASE_BUFFER_SIZE,\n\tAWS_CLOUDWATCH_CATEGORY,\n\tAWS_CLOUDWATCH_MAX_BATCH_EVENT_SIZE,\n\tAWS_CLOUDWATCH_MAX_EVENT_SIZE,\n\tAWS_CLOUDWATCH_PROVIDER_NAME,\n\tNO_CREDS_ERROR_STRING,\n\tRETRY_ERROR_CODES,\n};\n","const awsmobile = {\n    \"pinpoint_project_id\": \"4ace22203f35477383a799216d32a786\",\n    \"kinesis_stream_name\": \"SAAnalytics\",\n    \"aws_project_region\": \"eu-west-1\",\n    \"aws_cognito_region\": \"eu-west-1\",\n    \"aws_user_pools_id\": \"eu-west-1_GRKlTYjgb\",\n    \"aws_cognito_identity_pool_id\": \"eu-west-1:041b1b3c-c6a0-4c56-8d4d-002a45c5a57b\",\n    \"aws_user_pools_web_client_id\": \"5vjrqisbqg6edpfff4t1hlk3nr\",\n    \"aws_appsync_graphqlEndpoint\": \"https://yz5sfocrcff47nuopemljg2tdu.appsync-api.eu-west-1.amazonaws.com/graphql\",\n    \"aws_appsync_region\": \"eu-west-1\",\n    \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\",\n    \"aws_user_files_s3_bucket\": \"magicmakerstack-magicstorage584335d1-1vm4ss92ry4pd\",\n    \"aws_user_files_s3_bucket_region\": \"eu-west-1\",\n    \"aws_magicmaker_distribution_url\": \"https://files-prod.super-agent.com/public\",\n    \"aws_cloud_logic_custom\": [\n        {\n            \"name\": \"magic\",\n            \"endpoint\": \"https://2or42usm9j.execute-api.eu-west-1.amazonaws.com/prod\",\n            \"region\": \"eu-west-1\"\n        },\n        {\n            \"name\": \"logger\",\n            \"endpoint\": \"https://sb36xcrwx4.execute-api.eu-west-1.amazonaws.com/prod\",\n            \"region\": \"eu-west-1\"\n        },\n        {\n            \"name\": \"keys\",\n            \"endpoint\": \"https://58nocgldz5.execute-api.eu-west-1.amazonaws.com/prod\",\n            \"region\": \"eu-west-1\"\n        },\n        {\n            \"name\": \"reporter\",\n            \"endpoint\": \"https://udpnn9eiw0.execute-api.eu-west-1.amazonaws.com/prod\",\n            \"region\": \"eu-west-1\"\n        },\n        {\n            \"name\": \"auth\",\n            \"endpoint\": \"https://4ji95obasf.execute-api.eu-west-1.amazonaws.com/prod\",\n            \"region\": \"eu-west-1\"\n        }\n    ]\n};\n\nexport default awsmobile;","import tldjs from 'tldjs';\nimport { Detector } from './Detector';\n\nimport { Logger } from 'aws-amplify';\n\nimport awsconfig from '../Config/aws-exports';\nconst env = awsconfig.aws_user_pools_id === 'eu-west-1_iv6CkI7wU' ? 'dev' : 'prod';\n\nexport class Tools {\n    static delay(ms) {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    static debugLog(log, raw) {\n        if (env === 'dev') {\n            if (raw) {\n                console.log(log);   \n            } else {\n                console.log(window !== window.top ? \"[iFrame]\" : \"[top]\", \"[SA-DEBUG] \" + log);\n            }\n        } else {\n            const logger = new Logger('[SA_DEBUG]');\n            logger.debug(log);\n        }\n    }\n\n    static stringMatches(stringArray, stringToTest) {\n        return new RegExp(stringArray.join(\"|\")).test(stringToTest);\n    }\n\n    static guessCategory(filterWords, text) {\n        if (this.stringMatches(filterWords[\"advertising\"].split(','), text.toLowerCase().trim())) {\n            return \"advertising\";\n        }\n        if (this.stringMatches(filterWords[\"functional\"].split(','), text.toLowerCase().trim())) {\n            return \"functional\";\n        }\n        if (this.stringMatches(filterWords[\"performance\"].split(','), text.toLowerCase().trim())) {\n            return \"performance\";\n        }\n        if (this.stringMatches(filterWords[\"nonRequired\"].split(','), text.toLowerCase().trim())) {\n            return \"other\";\n        }\n        if (this.stringMatches(filterWords[\"required\"].split(','), text.toLowerCase().trim())) {\n            return \"required\";\n        }\n\n        return \"other\";\n    }\n\n    static findProvider = async (providerDetectors, detectTimeout) => {\n        const detector = new Detector(document, providerDetectors);\n        try {\n            const provider = await detector.detectProvider(detectTimeout);\n            return provider;\n        } catch(e) {\n            return null;\n        }\n    }\n\n    static findExistingProviders = async (providerDetectors) => {\n        const detector = new Detector(document, providerDetectors);\n        try {\n            const providers = await detector.detectProviders();\n            return providers;\n        } catch(e) {\n            return null;\n        }\n    }\n\n    static providerExists(root, guess, timeout) {\n        return new Promise((resolve, reject) => {\n            let timer;\n            let el = root.querySelector(guess.detector);\n\n            if (el) {\n                clearTimeout(timer);\n                resolve(guess);\n            } else if (timeout === 0) {\n                resolve(null);\n            }\n\n            let observer = new MutationObserver((mutationRecords, observer) => {\n                const element = root.querySelector(guess.detector);\n                if (element) {\n                    clearTimeout(timer);\n                    observer.disconnect();\n                    resolve(guess);\n                }\n            });\n\n            observer.observe(root.documentElement, {\n                childList: true,\n                subtree: true\n            });\n\n            timer = setTimeout(() => {\n                observer.disconnect();\n                clearTimeout(timer);\n                reject(new Error(\"Timeout looking for \" + guess.detector));\n            }, timeout)\n        });\n    }\n\n    static elementReady(root, selector, timeout) {\n        return new Promise((resolve, reject) => {\n            let timer;\n            let el = root.querySelector(selector);\n\n            if (el) {\n                clearTimeout(timer);\n                resolve(el);\n            }\n\n            let observer = new MutationObserver((mutationRecords, observer) => {\n                const element = root.querySelector(selector);\n                if (element) {\n                    clearTimeout(timer);\n                    observer.disconnect();\n                    resolve(element);\n                }\n            });\n\n            observer.observe(root, {\n                childList: true,\n                subtree: true\n            });\n\n            timer = setTimeout(() => {\n                observer.disconnect();\n                clearTimeout(timer);\n                reject(new Error(\"Timeout looking for \" + selector));\n            }, timeout);\n        });\n    }\n\n    static elementsReady(root, selector, timeout) {\n        return new Promise((resolve, reject) => {\n            let timer;\n            let el = root.querySelectorAll(selector);\n\n            if (el.length > 0) {\n                clearTimeout(timer);\n                resolve(el);\n            }\n\n            let observer = new MutationObserver((mutationRecords, observer) => {\n                const elements = root.querySelectorAll(selector);\n                if (elements.length > 0) {\n                    clearTimeout(timer);\n                    observer.disconnect();\n                    resolve(elements);\n                }\n            });\n\n            observer.observe(root, {\n                childList: true,\n                subtree: true\n            });\n\n            timer = setTimeout(() => {\n                observer.disconnect();\n                clearTimeout(timer);\n                reject(new Error(\"Timeout looking for \" + selector));\n            }, timeout);\n\n        });\n    }\n    \n    static hideElement(selector) {\n        document.querySelector(selector).style.opacity = 0;\n        document.querySelector(selector).style.display = \"none\";\n    }\n\n    static getProperty(selector, property) {\n        return document.querySelector(selector)[property];\n    }\n\n\n    static isHidden(provider) {\n        if (provider.ignoreVisibility && provider.ignoreVisibility === true) {\n            return false;\n        }\n        \n        const node = document.querySelector(provider.detector);\n\n        if (window.getComputedStyle(node).visibility === \"hidden\") {\n            return true;\n        }\n\n        if (node.style.display === \"none\") {\n            return true;\n        }\n\n        if (!provider.ignoreOffsetHeight) {\n            if (node.offsetHeight === 0) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    static hideBackground(userPreferences, provider) {\n        if (userPreferences.background) {\n            if (provider.hideBackground === false) {\n                return\n            }\n\n            if (provider.background) {\n                for (const b of provider.background.split(\",\")) {\n                    try {\n                        this.hideElement(b);\n                    }\n                    catch (e) {\n\n                    }\n                }\n            }\n            this.hideElement(provider.detector);\n        }\n    }\n\n    // Detects whether a given cookie is already present\n    static detectCookie(provider) {\n        if (provider.cookieName) {\n            for (const name of provider.cookieName.split(\",\")) {\n                if (document.cookie.includes(name)) {\n                    return true;\n                }\n            }\n        } else {\n            return false;\n        }\n\n        return false;\n    }\n\n    static hostnameForURL(url) {\n        var hostname = tldjs.parse(url).hostname;\n        \n        return hostname;\n    }\n\n    // This version always returns the hostname presented. However, some cases, like the extension's hostnames, are not supported as regular addresses. Previously we had the validation of `contains(\".\"),` but it is a problem for working in localhost. \n    static rootDomainForURL(url) {\n        var hostname = tldjs.parse(url).hostname;\n        var domain = tldjs.getDomain(url);\n\n        return domain ? domain : hostname;\n    }\n\n    static checkAutoRefresh(executionResults, timeDiffThreshold, hostname) {\n        const updateTime = executionResults.updateTime;\n        const timeDiffInSeconds = ((new Date()).getTime() - (new Date(updateTime)).getTime()) / 1000;\n\n        if (timeDiffInSeconds < timeDiffThreshold && executionResults.hostname === hostname) {\n            Tools.debugLog(\"PROBABLE AUTO REFRESH DETECTED\");\n            return true;\n        }\n    }\n    \n}","import { Response } from './Response';\nimport { Tools } from '../Tools/Tools';\n\nexport class Request {\n    constructor(action, parameters) {\n        this.message = {\n            action,\n            parameters\n        }\n    }\n\n    sendRequest() {\n        Tools.debugLog(\"Sending message: \" + JSON.stringify(this.message));\n        return new Promise((resolve, reject) => {\n            chrome.runtime.sendMessage(this.message, (response) => {\n                if (response) {\n                    const obj = new Response(\n                        response.message.status, \n                        response.message.payload, \n                        response.message.code\n                    );\n\n                    if (obj.isOk()) {\n                        resolve(obj);\n                    }\n                    if (obj.isError()) {    \n                        Tools.debugLog(\"Error in Request from message: \");\n                        Tools.debugLog(this.message, true);\n                        Tools.debugLog(obj, true);\n                        reject(obj);\n                    }\n                } else {\n                    reject(new Error(\"No response received.\"));\n                }\n            });\n        });\n    }\n}","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export const Messages = {\n    Auth: {\n        OpenSignIn: 'OPEN_SIGN_IN',\n        OpenSignUp: 'OPEN_SIGN_UP',\n        OpenForgotPassword: 'OPEN_FORGOT_PASSWORD',\n        AuthenticateUser: 'AUTHENTICATE_USER',\n        SignInFromExtension: 'SIGN_IN_FROM_EXTENSION',\n        BuildUserSession: 'BUILD_USER_SESSION',\n        SignOut: 'SIGN_OUT',\n        CheckAuth: 'CHECK_AUTH',\n        ChangeUserPassword: 'CHANGE_USER_PASSWORD',\n        DeleteUser: 'DELETE_USER'\n    },\n    Cookies: {\n        GetAllCookies: 'GET_ALL_COOKIES',\n        DeleteCookies: 'DELETE_COOKIES'\n    },\n    DataSync: {\n        SetupDataSync: 'SETUP_DATA_SYNC',\n        StopDataSync: 'STOP_DATA_SYNC'\n    },\n    Generic: {\n        ContentScriptStarted: 'CONTENT_SCRIPT_STARTED',\n        GetVersion: 'GET_VERSION',\n        ExtensionIsWorking: 'EXTENSION_IS_WORKING',\n        AppOpen: 'APP_OPEN',\n        PopupOpen: 'POPUP_OPEN'\n    },\n    KeyManager: {\n        CheckDEK: 'CHECK_DEK',\n        DeleteDEK: 'DELETE_DEK',\n        GenerateDEK: 'GENERATE_DEK',\n        GetUserKeys: 'GET_USER_KEYS',\n        SetMasterPassword: 'SET_MASTER_PASSWORD'\n    },\n    Logger: {\n        GetLogs: 'GET_LOGS',\n        DeleteLogs: 'DELETE_LOGS',\n        DeleteAllLogs: 'DELETE_ALL_LOGS',\n        GetLoggingPreferences: 'GET_LOGGING_PREFERENCES',\n        UpdatePreferences: 'UPDATE_PREFERENCES',\n        GetUsageMetrics: 'GET_USAGE_METRICS'\n    },\n    Provider: {\n        GetProviderDetectors: 'GET_PROVIDER_DETECTORS',\n        GetProviderInfo: 'GET_PROVIDER_INFO'\n    },\n    Report: {\n        ReportWebsite: 'REPORT_WEBSITE',\n        GetReportedSites: 'GET_REPORTED_SITES'\n    },\n    Tab: {\n        GetCurrentTab: 'GET_CURRENT_TAB',\n        GetActiveTab: 'GET_ACTIVE_TAB',\n        TabFinished: 'TAB_FINISHED',\n        TabNoEntitlement: 'TAB_NO_ENTITLEMENT',\n        GetExecutionResults: 'GET_EXECUTION_RESULTS',\n        UpdateExecutionResults: 'UPDATE_EXECUTION_RESULTS',\n        ClearExecutionResults: 'CLEAR_EXECUTION_RESULTS'\n    },\n    UserPreferences: {\n        GetUserPreferences: 'GET_USER_PREFERENCES',\n        SetUserPreferences: 'SET_USER_PREFERENCES'\n    },\n    Whitelist: {\n        GetDisabledHostnames: 'GET_DISABLED_HOSTNAMES',\n        SaveDisabledHostnames: 'SAVE_DISABLED_HOSTNAMES',\n        HostnameIsBlocked: 'HOSTNAME_IS_BLOCKED',\n        UpdateHostnameState: 'UPDATE_HOSTNAME_STATE'\n    },\n    Entitlement: {\n        GetUserEntitlement: 'GET_USER_ENTITLEMENT',\n        IncrementCounter: 'INCREMENT_COUNTER'\n    }\n}","export class URLHelper {\n    static setup() {\n        if (window === window.top) {\n            const handleEvent = (event) => {\n                if (event.data === \"GET_URL\") {\n                    const message = {\n                        type: \"MAIN_URL\",\n                        hostname: window.location.href\n                    };\n\n                    event.source.postMessage(JSON.stringify(message), \"*\");\n                }\n            }\n        \n            window.addEventListener('message', handleEvent, true);\n        }\n    }\n\n    static getCurrentUrl = () => {\n        return new Promise((resolve, _) => {\n            setTimeout(() => {\n                resolve(undefined);\n            }, 5000);\n    \n            if (window === window.top) {\n                resolve(window.location.href);\n            } else {\n                try {\n                    const possibleUrl = document.referrer;\n    \n                    if (possibleUrl === \"\") {\n                        throw new Error(\"Undefined\");\n                    }\n    \n                    resolve(possibleUrl);\n                } catch (e) {\n                    // Couldn't get URL through referrer, need to ask for it\n                    // Adding timeout as listener isn't immediately available\n                    setTimeout(() => {\n                        window.addEventListener('message', function(m) {\n                            try {\n                                const message = JSON.parse(m.data);\n                                switch (message.type) {\n                                    case 'MAIN_URL':\n                                        resolve(message.hostname);\n                                        break;\n                                    default:\n                                        resolve(null);\n                                        break;\n                                }\n                            } catch (e) {\n                                resolve(null);\n                            }\n                        }, false);\n\n                        window.top.postMessage(\"GET_URL\", \"*\");\n                    }, 1000);\n                }\n            }\n        })\n    }\n\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { v4 as uuidv4 } from 'uuid';\n\nexport class Comm {\n    constructor() {\n        this.channel = uuidv4();\n        this.script = \n            `function sdte(p){ var e = new CustomEvent(\"${this.channel}\",{detail:p});document.dispatchEvent(e);} var saapiloaded = new CustomEvent('saapiloaded');document.dispatchEvent(saapiloaded);`;\n    }\n\n    getChannel() {\n        return this.channel;\n    }\n\n    injectScript() {\n        var existingScript = document.querySelector(\"script[id='superagent']\");\n        if (existingScript != null) {\n            existingScript.parentNode.removeChild(existingScript);\n        }\n\n        var s = document.createElement('script');\n        s.setAttribute(\"id\", \"superagent\");\n        s.textContent = this.script;\n        document.documentElement.appendChild(s);\n    }\n}\n","import { Comm } from './Comm';\n\nexport class AuthHelper {\n    static sendCredentialsToBackground = (credentials, fromOptions, fromOnboard) => {\n        chrome.runtime.sendMessage({\n            action: \"AUTHENTICATE_USER\",\n            credentials: credentials,\n            fromOptions: fromOptions,\n            fromOnboard: fromOnboard\n        }, (response) => {\n    \n        });\n    }\n    \n    static sendSessionToBackground = (session, fromOptions, fromOnboard) => {\n        chrome.runtime.sendMessage({\n            action: \"BUILD_USER_SESSION\",\n            session: session,\n            fromOptions: fromOptions,\n            fromOnboard: fromOnboard\n        }, (response) => {\n    \n        });\n    }\n    \n    static injectAuthScript = () => {\n        const messageHandler = (event) => {\n            switch (event.detail.messageType) {\n                case 'CREDS':\n                    this.sendCredentialsToBackground(event.detail.credentials, event.detail.fromOptions, event.detail.fromOnboard);\n                    break;\n                case 'SESSION':\n                    this.sendSessionToBackground(event.detail.session, event.detail.fromOptions, event.detail.fromOnboard);\n                    break;\n                default:\n                    break;\n            }\n        }\n\n        let comm = new Comm();\n        comm.injectScript();\n        document.addEventListener(comm.getChannel(), function (event) {\n           messageHandler(event);\n        });\n    }\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export const Errors = {\n    NotFound: \"NOT_FOUND\"\n}","import { Tools } from '../../Tools/Tools';\nimport { Errors } from './Errors';\n\nexport class DomTools {\n    static async findPositionFixed(root, selector, timeout, filterWords) {\n        const elements = await Tools.elementReady(root, selector, timeout);\n        let fixedElements = [];\n        for (const el of elements) {\n            let style = window.getComputedStyle(el);\n            if (style.position === \"fixed\") {\n                const elText = el.innerText;\n                const lowercasedFilterWords = filterWords.map(word => word.toLowerCase());\n\n                if (Tools.stringMatches(lowercasedFilterWords, elText.toLowerCase())) {\n                    fixedElements.push(el);\n                }\n            }\n        }\n\n        if (fixedElements[0]) {\n            return fixedElements[0];\n        } else {\n            throw new Error(Errors.NotFound);\n        }\n    }\n\n    static async findChildren(root, selector, timeout, filterWords) {\n        try {\n            const element = await Tools.elementReady(root, selector, timeout);\n            const elementsToFilter = element.children;\n\n            const lowercasedFilterWords = filterWords.map(word => word.toLowerCase());\n\n            for (const el of elementsToFilter) {\n                const buttonText = el.innerText;\n                if (Tools.stringMatches(lowercasedFilterWords, buttonText.toLowerCase())) {\n                    return el;\n                }\n            }\n        } catch (e) {\n            throw new Error(Errors.NotFound);\n        }\n    }\n\n    static async findElements(root, selector, timeout, filterWords) {\n        try {\n            const elements = await Tools.elementsReady(root, selector, timeout);\n            let elementsFound = [];\n            for (const el of elements) {\n\n                const buttonText = el.innerText;\n                const lowercasedFilterWords = filterWords.map(word => word.toLowerCase());\n                \n                Tools.debugLog(\"Button text: \" + buttonText);\n                Tools.debugLog(\"Filter words: \" + lowercasedFilterWords);\n\n                if (Tools.stringMatches(lowercasedFilterWords, buttonText.toLowerCase())) {\n                    Tools.debugLog(\"Found element: \");\n                    Tools.debugLog(el, true);\n                    elementsFound.push(el);\n                } else {\n                    Tools.debugLog(\"Couldn't find\");\n                }\n            }\n            return elementsFound;\n        } catch(e) {\n            throw new Error(Errors.NotFound);\n        }\n    }\n\n    static hideNode(node) {\n        try {\n            node.style.display = \"none\";\n            node.style.opacity = 0;\n        } catch (e) {\n            throw new Error(Errors.NotFound);\n        }\n    }\n}","import { DomTools } from './DomTools';\nimport { Detector } from '../../Tools/Detector';\nimport { Tools } from '../../Tools/Tools';\n\nconst Steps = {\n    findPositionFixed: \"FIND_POSITION_FIXED\",\n    hideCurrent: \"HIDE_CURRENT\",\n    setContext: \"SET_CONTEXT\",\n    click: \"CLICK\",\n    hideBackground: \"HIDE_BACKGROUND\",\n    hideParent: \"HIDE_PARENT\",\n    closeWindow: \"CLOSE_WINDOW\",\n    clickChildFilter: \"CLICK_CHILD_FILTER\",\n    findButtonClick: \"FIND_BUTTON_CLICK\",\n    domNavigate: \"DOM_NAVIGATE\",\n    expandElements: \"EXPAND_ELEMENTS\",\n    getCookieItems: \"GET_COOKIE_ITEMS\"\n}\n\nexport class Step {\n    constructor(step, userPreferences, currentDom) {\n        this.step = step;\n        this.userPreferences = userPreferences;\n        this.currentDom = currentDom;\n        this.clickCount = 0;\n        this.cookieItems = null;\n        this.finishExecution = false;\n    }\n\n    async executeStep() {\n        const self = this;\n\n        const steps = {\n            [Steps.findPositionFixed]: findPositionFixed,\n            [Steps.hideCurrent]: hideCurrent,\n            [Steps.setContext]: setContext,\n            [Steps.click]: click,\n            [Steps.hideBackground]: hideBackground,\n            [Steps.hideParent]: hideParent,\n            [Steps.closeWindow]: closeWindow,\n            [Steps.clickChildFilter]: clickChildFilter,\n            [Steps.findButtonClick]: findButtonClick,\n            [Steps.domNavigate]: domNavigate,\n            [Steps.expandElements]: expandElements,\n            [Steps.getCookieItems]: getCookieItems\n        }\n\n        async function findPositionFixed() {\n            try {\n                const element = \n                    await DomTools.findPositionFixed(self.currentDom, self.step.selector, self.step.timeout, self.step.filter.split(\",\"));\n\n                self.currentDom = element;\n            } catch(e) {\n                Tools.debugLog(\"Error in findPositionFixed.\");\n                Tools.debugLog(e, true);\n                throw new Error(e);\n            }\n        }\n\n        async function domNavigate() {\n            try {\n                const detector = new Detector(self.currentDom, self.step.selector.split(\",\"));\n                let newDom = await detector.detectSelector(self.step.timeout || 1000);\n\n                if (self.step.shadowRoot) {\n                    newDom = newDom.shadowRoot;\n                }\n\n                self.currentDom = newDom;\n\n                return;\n            } catch(e) {\n                Tools.debugLog(\"Error in domNavigate.\");\n                Tools.debugLog(e, true);\n                self.finishExecution = true;\n                throw new Error(e);\n            }\n        }\n\n        async function click() {\n            try {\n                const buttonClickDetector = new Detector(self.currentDom, self.step.selector.split(\",\"));\n                const buttonClick = await buttonClickDetector.detectSelector(self.step.timeout ? self.step.timeout : 1000);\n                if (self.step.eventDispatch) {\n                    buttonClick.dispatchEvent(new Event('click'));\n                } else {\n                    buttonClick.click();\n                }\n                self.clickCount++;\n                return;\n            } catch(e) {\n                Tools.debugLog(\"Error in click.\");\n                Tools.debugLog(e, true);\n                throw new Error(e);\n            }\n        }\n\n        async function hideCurrent() {\n            DomTools.hideNode(self.currentDom);\n            return;\n        }\n\n        async function setContext() {\n            self.currentDom = document.querySelector(self.step.selector);\n            return;\n        }\n\n        async function hideBackground() {\n            if (self.userPreferences.background) {\n                if (self.step.background) {\n                    for (const bg of self.step.background.split(\",\")) {\n                        try {\n                            const detector = new Detector(document, [bg]);\n                            const element = await detector.detectSelector(self.step.timeout ? self.step.timeout : 1000);\n                            DomTools.hideNode(element);\n                        } catch(e) {\n                            \n                        }\n                    }\n                }\n            }\n            return;\n        }\n\n        async function hideParent() {\n            try {\n                const element = self.currentDom.querySelector(self.step.selector).parentElement;\n                DomTools.hideNode(element);\n            } catch(e) {\n                Tools.debugLog(\"Error in hideParent.\");\n            }\n            return;\n        }\n\n        async function closeWindow() {\n            await click();\n            self.currentDom = self.currentDom.parentElement;\n            return;\n        }\n\n        async function clickChildFilter() {\n            try {\n                const button = \n                    await DomTools.findChildren(self.currentDom, self.step.selector, self.step.timeout, self.step.filter.split(\",\"));\n                button.click();\n                self.clickCount++;\n                return;\n            } catch(e) {\n                Tools.debugLog(\"Error in clickChildFilter.\");\n                Tools.debugLog(e, true);\n                throw new Error(e);\n            }\n        }\n\n        async function findButtonClick() {\n            try {\n                const elements = \n                    await DomTools.findElements(self.currentDom, self.step.selector, self.step.timeout, self.step.filter.split(\",\"));\n                for (const element of elements) {\n                    element.click();\n                    self.clickCount++;\n                }\n                return;\n            } catch(e) {\n                Tools.debugLog(\"Error in findButtonClick.\");\n                Tools.debugLog(e, true);\n                throw new Error(e);\n            }\n        }\n\n        async function expandElements() {\n            try {\n                const elements = self.currentDom.querySelectorAll(self.step.selector);\n                elements.forEach(e => {\n                    e.click();\n                });\n                return;\n            } catch(e) {\n                Tools.debugLog(\"Error in expandElements.\");\n                Tools.debugLog(e, true);\n                throw new Error(e);\n            }\n        }\n\n        async function getCookieItems() {\n            try {\n                const detector = new Detector(self.currentDom, self.step.selector.split(\",\"));\n                const cookieItems = await detector.detectSelectors(self.step.timeout ? self.step.timeout : 1000);\n                self.cookieItems = cookieItems;\n            } catch(e) {\n                Tools.debugLog(\"Error in getCookieItems.\");\n                Tools.debugLog(e, true);\n                throw new Error(e);\n            }\n            return;\n        }\n\n        Tools.debugLog(\"Running STEP \" + self.step.type);\n        if (steps[self.step.type]) {\n            if (self.step.delay) {\n                Tools.debugLog(\"Awaiting for \" + self.step.delay + \"ms\");\n                await Tools.delay(self.step.delay);\n                Tools.debugLog(\"Finished waiting.\");\n            }\n\n            try {\n                await steps[self.step.type]();\n                return self;\n            } catch(e) {\n                throw new Error(e);\n            }\n        }\n    }\n}","export const filterWords = {\n    \"advertising\": \"targeting,personalization,advertising,publicidade,anncios,marketing,ads,audience,werbung,Advertenties,Sociale media,,,Marknadsfringsndaml,marknadsfring\",\n    \"performance\": \"performance,statistics,estatsticas,analytics,desempenho,Analytisch,,Analysndaml,Statistik,Statistiken,analys\",\n    \"functional\": \"functional,preferences,preferncias,funcionais,funcionalidade,funktional,Functioneel,Personalisatie,,funktion\",\n    \"nonRequired\": \"non-necessary\",\n    \"required\": \"required,necessary,necessrio,notwendig,,ndvndiga\"\n};","import { DomTools } from \"./DomTools\";\nimport { Tools } from \"../../Tools/Tools\";\nimport { Detector } from '../../Tools/Detector';\n\nconst ConsentSteps = {\n    checkedClick: \"checkedClick\",\n    dataChecked: \"data-checked\",\n    checkboxMouseClick: \"checkboxMouseClick\",\n    ariaChecked: \"ariaChecked\",\n    checkbox: \"checkbox\",\n    setSliderValue: \"setSliderValue\",\n    sliderClick: \"sliderClick\",\n    objectionButton: \"objectionButton\",\n    select: \"select\",\n    yesNo: \"yesNo\",\n    yesNoFind: \"yesNoFind\",\n    className: \"className\"\n}\n\nexport class Consent {\n    constructor(item, step, itemCategory, userPreferences) {\n        this.item = item;\n        this.step = step;\n        this.itemCategory = itemCategory;\n        this.userPreferences = userPreferences;\n        this.clickCount = 0;\n    }\n\n    async executeConsent() {\n        const self = this;\n\n        const consentSteps = {\n            [ConsentSteps.checkedClick]: checkedClick,\n            [ConsentSteps.dataChecked]: dataChecked,\n            [ConsentSteps.checkboxMouseClick]: checkboxMouseClick,\n            [ConsentSteps.ariaChecked]: ariaChecked,\n            [ConsentSteps.checkbox]: checkbox,\n            [ConsentSteps.setSliderValue]: setSliderValue,\n            [ConsentSteps.sliderClick]: sliderClick,\n            [ConsentSteps.objectionButton]: objectionButton,\n            [ConsentSteps.select]: select,\n            [ConsentSteps.yesNo]: yesNo,\n            [ConsentSteps.yesNoFind]: yesNoFind,\n            [ConsentSteps.className]: className\n        }\n\n        async function checkedClick() {\n            const itemIsChecked = self.item.getAttribute(\"checked\") === 'checked';\n\n            if (itemIsChecked !== self.userPreferences[self.itemCategory]) {\n                self.item.click();\n                self.clickCount++;\n            }\n        }\n\n        async function dataChecked() {\n            if (self.item.getAttribute('data-checked') == null) {\n                if (self.userPreferences[self.itemCategory]) {\n                    self.item.click();\n                    self.clickCount++;\n                }\n            }\n            else {\n                if (!self.userPreferences[self.itemCategory]) {\n                    self.item.click();\n                    self.clickCount++;\n                }\n            }\n        }\n\n        async function checkboxMouseClick() {\n            if (self.item.checked !== self.userPreferences[self.itemCategory]) {\n                self.item.dispatchEvent(new Event('click'));\n                self.clickCount++;\n            }\n        }\n\n        async function ariaChecked() {\n            if (self.item.getAttribute('aria-checked') !== self.userPreferences[self.itemCategory].toString()) {\n                self.item.click();\n                self.clickCount++;\n            }\n        }\n\n        async function checkbox() {\n            if (self.item.checked !== self.userPreferences[self.itemCategory]) {\n                self.item.click();\n                self.clickCount++;\n            }\n        }\n\n        async function setSliderValue() {\n            self.item[self.step.property] = 0;\n            self.clickCount++;\n        }\n\n        async function sliderClick() {\n            self.item.click();\n            self.clickCount++;\n        }\n\n        async function objectionButton() {\n            if (self.userPreferences[self.temCategory] === false) {\n                self.item.click();\n                self.clickCount++;\n            }\n        }\n\n        async function select() {\n            if (self.userPreferences[self.itemCategory] === false) {\n                self.item.selectedIndex = self.step.noIndex;\n            } else {\n                self.item.selectedIndex = self.step.yesIndex;\n            }\n            self.clickCount++;\n        }\n\n        async function yesNo() {\n            try {\n                if (self.userPreferences[self.itemCategory] === false) {\n                    const stepDetector = new Detector(self.item, self.step.no.split(','));\n                    const noItem = await stepDetector.detectSelector(self.step.timeout ? self.step.timeout : 1000);\n\n                    noItem.click();\n                } else {\n                    const stepDetector = new Detector(self.item, self.step.yes.split(','));\n                    const yesItem = await stepDetector.detectSelector(self.step.timeout ? self.step.timeout : 1000);\n\n                    yesItem.click();\n                }\n                self.clickCount++;\n            } catch (e) {\n                Tools.debugLog(\"Error in yesNo.\");\n                Tools.debugLog(e, true);\n                throw new Error(e);\n            }\n        }\n\n        async function yesNoFind() {\n            try {\n                const filter = self.userPreferences[self.itemCategory] ? self.step.filterYes : self.step.filterNo;\n                const elements = \n                    await DomTools.findElements(self.item, self.step.selector, self.step.timeout, filter.split(\",\"));\n                for (const element of elements) {\n                    element.click();\n                    self.clickCount++;\n                }\n            } catch(e) {\n                Tools.debugLog(\"Error in yesNoFind: \" );\n                Tools.debugLog(e, true);\n                throw new Error(e);\n            }\n        }\n\n        async function className() {\n            if (self.userPreferences[self.itemCategory]) {\n                if (self.item.className !== self.step.classOn) {\n                    self.item.className = self.step.classOn;\n                    self.clickCount++;\n                }\n            } else {\n                if (self.item.className !== self.step.classOff) {\n                    self.item.className = self.step.classOff;\n                    self.clickCount++;\n                }\n            }\n        }\n\n        Tools.debugLog(\"Running Consent step: \");\n        Tools.debugLog(self.step, true);\n        if (consentSteps[self.step.consentType]) {\n            try {\n                await consentSteps[self.step.consentType]();\n                return self;\n            } catch(e) {\n                Tools.debugLog(\"Error in Consent step: \");\n                Tools.debugLog(e);\n                throw new Error(e);\n            }\n        }\n    }\n}","import { Tools } from '../../Tools/Tools';\nimport { filterWords } from '../../Tools/FilterWords';\nimport { Detector } from '../../Tools/Detector';\nimport { Consent } from './Consent';\n\nconst CookieItemSteps = {\n    DecideCategory: \"DECIDE_CATEGORY\",\n    GetElement: \"GET_ELEMENT\",\n    ConsentCategory: \"CONSENT_CATEGORY\",\n    GoToParent: \"GO_TO_PARENT\",\n    GoToChild: \"GO_TO_CHILD\",\n}\n\nexport class CookieItem {\n    constructor(steps, currentDom, userPreferences) {\n        this.steps = steps;\n        this.cookieItem = currentDom;\n        this.userPreferences = userPreferences;\n\n        this.clickCount = 0;\n        this.itemCategory = \"\";\n        this.itemList = [];\n    }\n\n    update(consentResults) {\n        this.clickCount += consentResults.clickCount || 0; \n    }\n\n    async consentCookieItems() {\n        for (const step of this.steps) {\n            await this.consentCookieItem(step);\n        }\n        return this;\n    }\n\n    async consentCookieItem(step) {\n        const self = this;\n\n        const steps = {\n            [CookieItemSteps.DecideCategory]: decideCategory,\n            [CookieItemSteps.GetElement]: getElement,\n            [CookieItemSteps.ConsentCategory]: consentCategory,\n            [CookieItemSteps.GoToParent]: goToParent,\n            [CookieItemSteps.GoToChild]: goToChild\n        }\n\n        async function decideCategory() {\n            if (step.property === \"innerText\") {\n                self.itemCategory = Tools.guessCategory(filterWords, self.cookieItem.innerText);\n            } else if (step.property === \"name\") {\n                self.itemCategory = Tools.guessCategory(filterWords, self.cookieItem.name);\n            } else if (step.property === \"for\") {\n                self.itemCategory = Tools.guessCategory(filterWords, self.cookieItem.getAttribute(\"for\"));\n            }\n            return;\n        }\n\n        async function getElement() {\n            try {\n                Tools.debugLog(\"Cookie item: \");\n                Tools.debugLog(self.cookieItem, true);\n                const elementsDetector = new Detector(self.cookieItem, step.selector.split(\",\"));\n                const results = await elementsDetector.detectSelectors(step.timeout ? step.timeout : 1000);\n                self.itemList = results;\n                return;\n            } catch(e) {\n                Tools.debugLog(\"Error in getElement\");\n                Tools.debugLog(e);\n                throw new Error(e);\n            }\n        }\n\n        async function consentCategory() {\n            if (self.itemCategory !== \"required\") {\n                if (self.itemList && self.itemList.length > 0) {\n                    for (const item of self.itemList) {\n                        const consent = new Consent(item, step, self.itemCategory, self.userPreferences);\n                        const consentResults = await consent.executeConsent();\n                        self.update(consentResults);\n                    }\n                } else {\n                    const consent = new Consent(self.cookieItem, step, self.itemCategory, self.userPreferences);\n                    const consentResults = await consent.executeConsent();\n                    self.update(consentResults);\n                }\n            }\n            return;\n        }\n\n        async function goToParent() {\n            self.cookieItem = self.cookieItem.parentElement;\n            return;\n        }\n\n        async function goToChild() {\n            self.cookieItem = self.cookieItem.children[0];\n            return;\n        }\n\n        Tools.debugLog(\"Running for CookieItem \" + step.type);\n        if (steps[step.type]) {\n            await steps[step.type]();\n            return;\n        } \n    }\n}","import { Tools } from '../../Tools/Tools';\nimport { Step } from './Step';\nimport { CookieItem } from './CookieItem';\n\nconst Actions = {\n    RejectAll: \"REJECT_ALL\",\n    AcceptNecessary: \"ACCEPT_NECESSARY\",\n    AcceptDefault: \"ACCEPT\",\n    SaveSettings: \"SAVE_SETTINGS\",\n    AutoConsent: \"AUTO_CONSENT\"\n};\n\nconst Outcomes = {\n    AcceptedDefault: \"ACCEPTED_DEFAULT\",\n    AcceptedNecessary: \"ACCEPTED_NECESSARY\",\n    PreferencesApplied: \"PREFERENCES_APPLIED\",\n    RejectedAll: \"REJECTED_ALL\"\n};\n\nexport class Action {\n    constructor(action, userPreferences, currentDom, cookieItems) {\n        this.action = action;\n        this.userPreferences = userPreferences;\n        this.currentDom = currentDom;\n        this.cookieItems = cookieItems;\n        this.clickCount = 0;\n        this.finishExecution = false;\n        this.outcome = \"\";\n    }\n\n    canRejectAll() {\n        return !this.userPreferences.some(p => p === true);\n    }\n\n    update(stepResults) {\n        this.currentDom = stepResults.currentDom || this.currentDom;\n        this.cookieItems = stepResults.cookieItems || null;\n        this.clickCount += stepResults.clickCount || 0;\n        this.finishExecution = stepResults.finishExecution || false;\n    }\n\n    async executeAction() {\n        const self = this;\n\n        const actions = {\n            [Actions.RejectAll]: rejectAll,\n            [Actions.AcceptNecessary]: acceptNecessary,\n            [Actions.AcceptDefault]: acceptDefault,\n            [Actions.SaveSettings]: saveSettings,\n            [Actions.AutoConsent]: autoConsent\n        }\n\n        async function runActionSteps() {\n            for (const s of self.action.steps) {\n                const step = new Step(s, self.userPreferences, self.currentDom);\n                const stepResults = await step.executeStep();\n                self.update(stepResults);\n            }\n        }\n\n        async function rejectAll() {\n            if (self.canRejectAll()) {\n                try {\n                    await runActionSteps();\n                    self.outcome = Outcomes.RejectedAll;\n                    self.finishExecution = true;\n                } catch(e) {\n                    Tools.debugLog(\"Error in rejectAll.\");\n                    Tools.debugLog(e, true);\n                }\n            }\n        }\n\n        async function acceptNecessary() {\n            try {\n                await runActionSteps();\n                self.outcome = Outcomes.AcceptedNecessary;\n                self.finishExecution = true;\n            } catch(e) {\n                Tools.debugLog(\"Error in acceptNecessary.\");\n                Tools.debugLog(e, true);\n            }\n        }\n\n        async function acceptDefault() {\n            try {\n                await runActionSteps();\n                self.outcome = Outcomes.AcceptedDefault;\n                self.finishExecution = true;\n            } catch(e) {\n                Tools.debugLog(\"Error in acceptDefault.\");\n                Tools.debugLog(e, true);\n            }\n        }\n\n        async function saveSettings() {\n            try {\n                await runActionSteps();\n                self.outcome = Outcomes.PreferencesApplied;\n                self.finishExecution = true;\n            } catch(e) {\n                Tools.debugLog(\"Error in saveSettings.\");\n                Tools.debugLog(e, true);\n            }\n        }\n\n        async function autoConsent() {\n            const startingDom = self.currentDom;\n            for (const item of self.cookieItems) {\n                try {\n                    const cookieItem = new CookieItem(self.action.steps, item, self.userPreferences);\n                    const results = await cookieItem.consentCookieItems();\n                    self.update(results);\n                } catch(e) {\n                    Tools.debugLog(\"Couldn't auto-consent in cookie item\");\n                    Tools.debugLog(item, true);\n                }\n            }\n            self.currentDom = startingDom;\n        }\n\n        async function genericAction() {\n            await runActionSteps();\n        }\n\n        Tools.debugLog(\"Running ACTION \" + self.action.name);\n        if (actions[self.action.name]) {\n            await actions[self.action.name]();\n            return self;\n        } else {\n            await genericAction();\n            return self;\n        }\n    }\n}","import { Action } from './Action';\nimport { Tools } from '../../Tools/Tools';\n\nexport class RulesEngine {\n\n    constructor(userPreferences, actions) {\n        this.userPreferences = userPreferences;\n        this.actions = actions;\n        this.currentDom = document;\n        this.cookieItems = null;\n        this.outcome = \"\";\n        this.clickCount = 0;\n    }\n\n    canRejectAll() {\n        return !this.userPreferences.some(p => p === true);\n    }\n\n    update(actionResults) {\n        this.outcome = actionResults.outcome || \"\";\n        this.clickCount += actionResults.clickCount;\n        this.cookieItems = actionResults.cookieItems;\n        this.currentDom = actionResults.currentDom || this.currentDom;\n    }\n\n    async execute() {\n        for (const a of this.actions) {\n            try {\n                const action = new Action(a, this.userPreferences, this.currentDom, this.cookieItems);\n                const actionResults = await action.executeAction();\n                this.update(actionResults);\n                \n                if (actionResults.finishExecution === true) {\n                    Tools.debugLog(\"Ordered to finish execution.\");\n                    break;\n                }\n                \n            } catch(e) {\n                Tools.debugLog(\"Error running action \" + a.name);\n                Tools.debugLog(e, true);\n            }\n        }\n\n        Tools.debugLog(\"Finished actions\");\n        Tools.debugLog(this, true);\n        return {\n            totalClicks: this.clickCount,\n            outcome: this.outcome\n        };\n    }\n}","export const OUTCOMES = {\n    foundSomething: \"FOUND_SOMETHING\",\n    nothingFound: \"NOTHING_FOUND\",\n    noEntitlement: \"NO_ENTITLEMENT\"\n}\n\nexport class RunStatus {\n    constructor(outcome) {\n        this.outcome = outcome;\n    }\n}","import { RulesEngine } from './RulesEngine/RulesEngine';\n\n// Tools imports\nimport { Tools } from '../Tools/Tools';\n\nimport { Request, Messages } from '../shared';\nimport { OUTCOMES, RunStatus } from './RunStatus';\n\nexport class Run {\n\n    static run = async (actions, tabId, hostname, provider) => {\n        const results = await new Request(Messages.UserPreferences.GetUserPreferences).sendRequest();\n        const userPreferences = results.message.payload.userPreferences;\n    \n        if (provider.background) {\n            Tools.hideBackground(userPreferences, provider);\n        }\n        \n        const rulesEngine = new RulesEngine(userPreferences, actions);\n\n        return new Promise( (resolve, reject) => {\n            setTimeout( () => {\n                rulesEngine.execute()\n                .then(async (executionResults) => {            \n                    executionResults.hostname = hostname;\n                    await new Request(Messages.Tab.UpdateExecutionResults, { tabId, executionResults }).sendRequest();\n                    resolve();\n                })\n                .catch((e) => {\n                    Tools.debugLog(e, true);\n                    reject(e);\n                });\n            }, provider.delay ? provider.delay : 0);\n        });\n    }\n\n    static runForURL = async (rootDomain, hostname, tabId, isEligible) => {\n        try {\n            let provider;\n            let actions;\n            \n            const result = \n                await new Request(Messages.Provider.GetProviderInfo, { provider: rootDomain }).sendRequest();\n\n            provider = result.message.payload.provider;\n\n            if (provider && provider.actions) {\n                provider.main = true;\n                actions = provider.actions;\n\n                // If user is not eligible, return an error here.\n                if (isEligible) {\n                    await this.run(actions, tabId, hostname, provider);\n                    await new Request(Messages.Entitlement.IncrementCounter, { }).sendRequest();\n\n                    return new RunStatus(OUTCOMES.foundSomething);\n                } else {\n                    Tools.debugLog(\"No entitlement.\");\n                    return new RunStatus(OUTCOMES.noEntitlement);\n                }\n            } else {\n                return new RunStatus(OUTCOMES.nothingFound);\n            }\n        } catch(e) {\n            Tools.debugLog(\"Couldn't run for URL.\");\n            return new RunStatus(OUTCOMES.nothingFound);\n        }\n    }\n\n    static runForProviders = async (hostname, tabId, detectTimeout, isEligible) => {\n            const results = await new Request(Messages.Provider.GetProviderDetectors).sendRequest();\n            let providerDetectors = results.message.payload.providerDetectors;\n            let provider = await Tools.findProvider(providerDetectors, detectTimeout);\n            let executedOnce = false;\n\n            // Find one provider and run for it asap\n            if (provider != null) {\n                Tools.debugLog(\"Found provider: \" + JSON.stringify(provider));\n\n                await Tools.delay(provider.delay ? provider.delay : 0);\n                 \n                // CHECK TO SEE IF ELEMENTS ARE HIDDEN\n                if (!Tools.isHidden(provider)) {\n                    try {\n                        if (isEligible) {\n                            await this.executeProviderRules(tabId, hostname, provider);\n                            executedOnce = true;\n                        } else {\n                            return new RunStatus(OUTCOMES.noEntitlement);\n                        }\n                    } catch(e) {\n                        Tools.debugLog(\"Error executing provider rules: \" + e);\n                    }\n                } else {\n                    Tools.debugLog(\"Not running for provider as it's hidden.\");\n                    // Need to implement a way of checking again during a time period\n                    // Banners may start hidden but then show up\n                }\n                providerDetectors = providerDetectors.filter(p => p.detector !== provider.detector);\n            }\n\n            // Find all potentially missing providers without a timeout; DOM should have fully loaded by now\n            const missingProviders = await Tools.findExistingProviders(providerDetectors);\n            const filteredProviders = missingProviders.filter(p => p != null);\n            let executedProviders;\n\n            if (filteredProviders !== null && filteredProviders.length > 0) {\n                if (isEligible) {\n                    executedProviders = await Promise.all(\n                        filteredProviders.map(provider => this.executeProviderRules(tabId, hostname, provider))\n                    );\n                } else {\n                    Tools.debugLog(\"No entitlement.\");\n                    return new RunStatus(OUTCOMES.noEntitlement);\n                }\n            }\n\n            let anyExecution = executedOnce || executedProviders.some(result => result === true)\n            \n            if (anyExecution) {\n                await new Request(Messages.Entitlement.IncrementCounter, { }).sendRequest();\n                return new RunStatus(OUTCOMES.foundSomething);\n            } else {\n                return new RunStatus(OUTCOMES.nothingFound);\n            }\n    }\n\n    static executeProviderRules = async (tabId, hostname, providerToRun) => {\n        Tools.debugLog(\"Running for \" + JSON.stringify(providerToRun));\n        try {\n            const results = \n                await new Request(Messages.Provider.GetProviderInfo, { provider: providerToRun.name }).sendRequest();\n            Tools.debugLog(\"Get provider info results: \");\n            Tools.debugLog(results, true);\n            const provider = results.message.payload.provider;\n            let actions = provider.actions;\n\n            await this.run(actions, tabId, hostname, provider);\n            return true;\n        } catch(e) {\n            Tools.debugLog(\"Error inside run function.\");\n            return false;\n        }\n    }\n}","//@ts-check\nimport { Request, Messages } from '../shared';\nimport { Tools } from '../Tools/Tools';\n\nexport class Notifications {\n    static async notifyTabFinished(tabId, hostname) {\n        try {\n            const results = await new Request(Messages.Tab.TabFinished, { tabId, hostname }).sendRequest();\n            return results;\n        } catch(e) {\n            return e;\n        }\n    }\n\n    static async notifyNoEntitlement(tabId, hostname) {\n        try {\n            const results = await new Request(Messages.Tab.TabNoEntitlement, { tabId, hostname }).sendRequest();\n            return results;\n        } catch(e) {\n            return e;\n        }\n    }\n\n    static async notifyContentScriptStarted() {\n        try {\n            Tools.debugLog(\"Sending message\");\n            const results = await new Request(Messages.Generic.ContentScriptStarted).sendRequest();\n            Tools.debugLog(\"Returned from sending message\");\n            return results;\n        } catch(e) {\n            Tools.debugLog(\"Error from sending message: \" + e);\n            return e;\n        }\n    }\n}","// Owned\nimport { Request, Messages } from '../shared';\nimport { URLHelper } from './URLHelper';\nimport { AuthHelper } from './AuthHelper';\nimport { Run } from './Run';\nimport { Notifications } from './Notifications';\n\n// Tools imports\nimport { Tools } from '../Tools/Tools';\n\nimport awsconfig from '../Config/aws-exports';\nimport { OUTCOMES, RunStatus } from './RunStatus';\n\nconst env = awsconfig.aws_user_pools_id === 'eu-west-1_iv6CkI7wU' ? 'dev' : 'prod';\n\nconst getTabId = async (url) => {\n    const results = await new Request(Messages.Tab.GetCurrentTab, { url }).sendRequest();\n    const tab = results.message.payload.tab;\n\n    if (tab) {\n        return tab.id;\n    } else {\n        return null;\n    }\n}\n\nconst init = async () => {\n    Tools.debugLog(\"init\");\n    URLHelper.setup();\n\n    Tools.debugLog(\"URLHelper setup done\");\n\n    if (window === window.top) {\n        Tools.debugLog(\"Going to notify\");\n        try {\n            await Notifications.notifyContentScriptStarted();\n        } catch(e) {\n            Tools.debugLog(\"Error notifying\");\n        }\n        Tools.debugLog(\"Notified content script started\");\n\n        let currentURL = window.location.href;\n        let hostname = window.location.hostname;\n    \n        const tabId = await getTabId(currentURL);\n        \n        Tools.debugLog(\"Tabid: \" + tabId);\n\n        try {\n            const results = \n                await new Request(Messages.Tab.GetExecutionResults, { tabId }).sendRequest();\n\n            const currentExecutionResults = results.message.payload.executionResults;\n\n            if (Tools.checkAutoRefresh(currentExecutionResults, 5, hostname)) {\n                await Notifications.notifyTabFinished(tabId, hostname);\n                return false;\n            }\n        } catch(e) {\n            Tools.debugLog(\"Error getting results\");\n        }\n\n        Tools.debugLog(\"Continuing\");\n\n        await new Request(Messages.Tab.ClearExecutionResults, { tabId }).sendRequest();\n        await new Request(Messages.Generic.ExtensionIsWorking).sendRequest();\n\n        if (hostname === 'account.super-agent.com'\n            || hostname === 'dev.super-agent.com'\n            || (window.location.hostname === 'localhost' && env === 'dev')) {\n            AuthHelper.injectAuthScript();\n        }\n\n        Tools.debugLog(\"Returning true in init\");\n        return true;\n    }\n\n    Tools.debugLog(\"Returning true in init\");\n    return true;\n}\n\n\n    // getEligibility needs to:\n    // 1 - Find if the user has an entitlement\n    // 2 - If not, find how many times SA has worked today\n    // 3 - Return true/false to determine whether we proceed\n    // We should only display something to the user if we found a provider and are not running rules due to eligibility\nconst getEligibility = async () => {    \n    const entitlementResult =\n        await new Request(Messages.Entitlement.GetUserEntitlement, { }).sendRequest();\n    \n    const isEntitled = entitlementResult.message.payload.hasEntitlement;\n    return isEntitled;\n}\n\nconst startProcess = async () => {\n    Tools.debugLog(\"Inside startProcess\");\n\n    let currentURL = await URLHelper.getCurrentUrl();\n\n    if (currentURL == null) {\n        Tools.debugLog(\"Returning due to currentURL null\");\n        return;\n    }\n\n    let hostname = Tools.hostnameForURL(currentURL);\n    let rootDomain = Tools.rootDomainForURL(currentURL);\n    let isBlockedResults = \n        await new Request(Messages.Whitelist.HostnameIsBlocked, { hostname: rootDomain }).sendRequest();\n    let isBlocked = isBlockedResults.message.payload.isBlocked;\n\n    Tools.debugLog(\"Before is blocked.\");\n    Tools.debugLog(\"Hostname: \" + hostname);\n\n    if (isBlocked) {\n        Tools.debugLog(\"Returning as website is blocked.\");\n        return;\n    }\n\n    let detectTimeout = 5000;\n    const tabId = await getTabId(currentURL);\n\n    Tools.debugLog(\"Tabid: \" + tabId);\n    let runStatus = new RunStatus(OUTCOMES.nothingFound);\n\n    try {\n        const isEligible = await getEligibility();\n        if (window === window.top) {\n            // Only run for providers if there are no URL rules\n            runStatus = await Run.runForURL(rootDomain, hostname, tabId, isEligible);\n\n            if (runStatus.outcome === OUTCOMES.nothingFound) {\n                runStatus = await Run.runForProviders(hostname, tabId, detectTimeout, isEligible);\n                if (runStatus.outcome === OUTCOMES.foundSomething) {\n                    Tools.debugLog(\"Executed provider rules.\");\n                }\n            } else {\n                Tools.debugLog(\"Executed something in URL rules.\");\n            }\n        } else {\n            runStatus = await Run.runForProviders(hostname, tabId, detectTimeout, isEligible);\n        }\n\n        // on't show a tab per iFrameD\n        if (runStatus.outcome === OUTCOMES.noEntitlement && window === window.top) {\n            await Notifications.notifyNoEntitlement(tabId, hostname);\n            return;\n        }\n\n        if (runStatus.outcome === OUTCOMES.foundSomething) {     \n            Tools.debugLog(\"[CONTENT_SCRIPT_FINISHED]. Notifying at \" + Date());   \n            await Notifications.notifyTabFinished(tabId, hostname);\n        }\n    } catch (e) {        \n        Tools.debugLog(\"Error in content script: \", e);\n    }\n};\n\nTools.debugLog(\"Content script started.\");\n\nasync function startContentScript() {\n    const shouldRun = await init();\n    if (shouldRun) {\n        await startProcess();\n    }\n}\n\nstartContentScript();\n"],"names":["module","exports","hasOwnProperty","obj","prop","Object","prototype","call","qs","sep","eq","options","length","regexp","split","maxKeys","len","i","kstr","vstr","k","v","x","replace","idx","indexOf","substr","decodeURIComponent","Array","isArray","push","stringifyPrimitive","isFinite","name","undefined","keys","map","ks","encodeURIComponent","join","decode","parse","encode","stringify","runtime","Op","hasOwn","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","GenStateSuspendedStart","method","arg","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","GenStateSuspendedYield","makeInvokeMethod","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","allRules","require","fromJson","extractHostname","getDomain","getPublicSuffix","getSubdomain","isValid","isIp","tldExists","factory","rules","validHosts","_extractHostname","url","_step","step","hostname","publicSuffix","domain","subdomain","fromUserSettings","URL","hasPrefixRE","trimTrailingDots","needsTrimming","charCodeAt","checkTrimmingNeeded","trim","needsLowerCase","code","checkLowerCaseNeeded","toLowerCase","test","parts","shareSameDomainSuffix","vhost","pattern","str","lastIndexOf","suffix","publicSuffixIndex","lastDotBeforeSuffixIndex","extractDomainWithSuffix","lastDotIndex","hasColon","isProbablyIpv6","numberOfDots","isProbablyIpv4","isDigit","isAlpha","firstCharCode","lastCharCode","extractTldFromHost","hasTld","candidate","suffixLookup","minIndex","a","b","insertInTrie","rule","trie","node","part","nextNode","$","lookupInTrie","index","SuffixTrie","exceptions","json","exceptionIndex","hostTld","root","nodeType","freeGlobal","global","window","punycode","maxInt","base","regexPunycode","regexNonASCII","regexSeparators","errors","floor","Math","stringFromCharCode","String","fromCharCode","RangeError","array","mapDomain","string","ucs2decode","extra","output","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","baseMinusTMin","input","out","basic","j","oldi","w","t","baseMinusT","codePoint","inputLength","n","bias","splice","handledCPCount","basicLength","m","q","currentValue","handledCPCountPlusOne","qMinusT","util","Url","protocol","slashes","auth","host","port","hash","search","query","pathname","path","href","urlParse","source","relative","resolveObject","format","isString","protocolPattern","portPattern","simplePathPattern","unwise","concat","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","parseQueryString","slashesDenoteHost","isObject","u","queryIndex","splitter","uSplit","rest","simplePath","exec","proto","lowerProto","match","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","l","newpart","validParts","notHost","bit","unshift","toASCII","p","h","ae","esc","escape","qm","s","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","up","isAbsolute","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","id","loaded","__webpack_modules__","getter","__esModule","d","definition","o","get","g","e","nmd","paths","children","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","_createClass","protoProps","staticProps","ResponseValues","Response","status","payload","message","_arrayLikeToArray","arr","arr2","_createForOfIteratorHelper","allowArrayLike","it","minLen","toString","from","F","_e","f","normalCompletion","didErr","_e2","LOG_TYPE","Detector","dom","detectors","timeoutMs","race","guess","Tools","providerExists","all","elementReady","elementsReady","LOG_LEVELS","VERBOSE","DEBUG","INFO","WARN","ERROR","level","_pluggables","_padding","_ts","dt","Date","getMinutes","getSeconds","getMilliseconds","configure","config","_config","_log","logger_level_name","ConsoleLogger","LOG_LEVEL","logger_level","type_level","log","console","bind","warn","prefix","msg","plugin","logEvent","timestamp","now","pushLogs","debug","verbose","addPluggable","pluggable","getCategoryName","listPluggables","env","awsconfig","ms","setTimeout","raw","top","Logger","stringArray","stringToTest","RegExp","filterWords","text","stringMatches","timeout","timer","querySelector","detector","clearTimeout","observer","MutationObserver","mutationRecords","disconnect","observe","documentElement","childList","subtree","selector","el","element","querySelectorAll","elements","document","style","opacity","display","property","provider","ignoreVisibility","getComputedStyle","visibility","ignoreOffsetHeight","offsetHeight","userPreferences","background","hideBackground","hideElement","cookieName","cookie","includes","tldjs","executionResults","timeDiffThreshold","updateTime","getTime","debugLog","findProvider","providerDetectors","detectTimeout","detectProvider","findExistingProviders","detectProviders","providers","getRandomValues","Request","action","parameters","JSON","chrome","sendMessage","response","isOk","isError","Messages","ContentScriptStarted","GetVersion","ExtensionIsWorking","AppOpen","PopupOpen","GetProviderDetectors","GetProviderInfo","GetCurrentTab","GetActiveTab","TabFinished","TabNoEntitlement","GetExecutionResults","UpdateExecutionResults","ClearExecutionResults","GetUserPreferences","SetUserPreferences","GetDisabledHostnames","SaveDisabledHostnames","HostnameIsBlocked","UpdateHostnameState","GetUserEntitlement","IncrementCounter","URLHelper","addEventListener","event","data","location","postMessage","getCurrentUrl","_","possibleUrl","referrer","rnds8","Uint8Array","rng","crypto","msCrypto","uuid","REGEX","byteToHex","offset","validate","buf","rnds","random","Comm","channel","uuidv4","script","existingScript","parentNode","removeChild","createElement","setAttribute","textContent","appendChild","AuthHelper","_defineProperty","sendCredentialsToBackground","credentials","fromOptions","fromOnboard","sendSessionToBackground","session","injectAuthScript","comm","injectScript","getChannel","detail","messageType","messageHandler","Errors","DomTools","fixedElements","position","elText","innerText","lowercasedFilterWords","word","elementsToFilter","buttonText","elementsFound","Steps","Step","currentDom","clickCount","cookieItems","finishExecution","findPositionFixed","domNavigate","click","hideCurrent","setContext","hideParent","closeWindow","clickChildFilter","findButtonClick","expandElements","getCookieItems","detectSelectors","findElements","filter","findChildren","parentElement","hideNode","bg","detectSelector","buttonClickDetector","buttonClick","eventDispatch","dispatchEvent","Event","newDom","shadowRoot","steps","delay","ConsentSteps","Consent","item","itemCategory","checkedClick","dataChecked","checkboxMouseClick","ariaChecked","checkbox","setSliderValue","sliderClick","objectionButton","select","yesNo","yesNoFind","className","classOn","classOff","filterYes","filterNo","stepDetector","no","yes","selectedIndex","noIndex","yesIndex","temCategory","checked","getAttribute","consentSteps","consentType","CookieItemSteps","CookieItem","cookieItem","itemList","consentResults","consentCookieItem","decideCategory","getElement","consentCategory","goToParent","goToChild","consent","executeConsent","update","elementsDetector","results","guessCategory","Actions","Outcomes","Action","outcome","some","stepResults","runActionSteps","rejectAll","acceptNecessary","acceptDefault","saveSettings","autoConsent","genericAction","startingDom","consentCookieItems","canRejectAll","executeStep","actions","RulesEngine","actionResults","executeAction","totalClicks","OUTCOMES","RunStatus","Run","run","tabId","sendRequest","rulesEngine","execute","catch","runForURL","rootDomain","isEligible","main","runForProviders","executedOnce","isHidden","executeProviderRules","missingProviders","filteredProviders","executedProviders","providerToRun","Notifications","getTabId","tab","init","setup","notifyContentScriptStarted","currentURL","currentExecutionResults","checkAutoRefresh","notifyTabFinished","getEligibility","entitlementResult","isEntitled","hasEntitlement","startProcess","hostnameForURL","rootDomainForURL","isBlockedResults","isBlocked","runStatus","notifyNoEntitlement","startContentScript"],"sourceRoot":""}